"use strict";(self.webpackChunkangular_lms=self.webpackChunkangular_lms||[]).push([[179],{3844:(ft,Ce,S)=>{S.d(Ce,{hO:()=>Qe});var c=S(8274),H=S(2090),J=S(4859),z=S(9681),he=S(1877);class Ie{constructor(Z,te){this._delegate=Z,this.firebase=te,(0,z._addComponent)(Z,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Z,te=z._DEFAULT_ENTRY_NAME){var le;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(Z);return!ke.isInitialized()&&"EXPLICIT"===(null===(le=ke.getComponent())||void 0===le?void 0:le.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:te})}_removeServiceInstance(Z,te=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(te)}_addComponent(Z){(0,z._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,z._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new H.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),O=function k(){const $=function ge($){const Z={},te={__esModule:!0,initializeApp:function ct(Ne,Re={}){const Ht=z.initializeApp(Ne,Re);if((0,H.r3)(Z,Ht.name))return Z[Ht.name];const Yt=new $(Ht,te);return Z[Ht.name]=Yt,Yt},app:ke,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function He(Ne){const Re=Ne.name,Ht=Re.replace("-compat","");if(z._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Yt=(Qt=ke())=>{if("function"!=typeof Qt[Ht])throw Le.create("invalid-app-argument",{appName:Re});return Qt[Ht]()};void 0!==Ne.serviceProps&&(0,H.ZB)(Yt,Ne.serviceProps),te[Ht]=Yt,$.prototype[Ht]=function(...Qt){return this._getService.bind(this,Re).apply(this,Ne.multipleInstances?Qt:[])}}return"PUBLIC"===Ne.type?te[Ht]:null},removeApp:function le(Ne){delete Z[Ne]},useAsService:function wt(Ne,Re){return"serverAuth"===Re?null:Re},modularAPIs:z}};function ke(Ne){if(!(0,H.r3)(Z,Ne=Ne||z._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:Ne});return Z[Ne]}return te.default=te,Object.defineProperty(te,"apps",{get:function Ot(){return Object.keys(Z).map(Ne=>Z[Ne])}}),ke.App=$,te}(Ie);return $.INTERNAL=Object.assign(Object.assign({},$.INTERNAL),{createFirebaseNamespace:k,extendNamespace:function Z(te){(0,H.ZB)($,te)},createSubscribe:H.ne,ErrorFactory:H.LL,deepExtend:H.ZB}),$}(),X=new he.Yd("@firebase/app-compat");if((0,H.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $=self.firebase.SDK_VERSION;$&&$.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=O;!function Se($){(0,z.registerVersion)("@firebase/app-compat","0.2.8",$)}(),et.registerVersion("firebase","9.20.0","app-compat");var St=S(6795);ft=S.hmd(ft);class ve{constructor(Z){return Z}}const ce=new c.OlP("angularfire2.app.options"),Oe=new c.OlP("angularfire2.app.name"),Ye={provide:ve,useFactory:function re($,Z,te){const ke="object"==typeof te&&te||{};ke.name=ke.name||"string"==typeof te&&te||"[DEFAULT]";const Ot=et.apps.filter(He=>He&&He.name===ke.name)[0]||Z.runOutsideAngular(()=>et.initializeApp($,ke));try{JSON.stringify($)!==JSON.stringify(Ot.options)&&(($,...Z)=>{(0,c.X6Q)()&&typeof console<"u"&&console[$](...Z)})("error",`${Ot.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Ot)},deps:[ce,c.R0b,[new c.FiY,Oe]]};let Qe=(()=>{class ${constructor(te){et.registerVersion("angularfire",St.q4.full,"core"),et.registerVersion("angularfire",St.q4.full,"app-compat"),et.registerVersion("angular",c.q4F.full,te.toString())}static initializeApp(te,le){return{ngModule:$,providers:[{provide:ce,useValue:te},{provide:Oe,useValue:le}]}}}return $.\u0275fac=function(te){return new(te||$)(c.LFG(c.Lbi))},$.\u0275mod=c.oAB({type:$}),$.\u0275inj=c.cJS({providers:[Ye]}),$})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6795:(ft,Ce,S)=>{S.d(Ce,{q4:()=>Y_,HU:()=>Dp,vb:()=>gd,JM:()=>Ep,nk:()=>cs,u3:()=>Q_});var c=S(8274),H=S(259),J=S(5861),z=S(9681),he=S(2090),Ie=S(4859),Ae=S(1877);S(2833);const ge="@firebase/remote-config",k="0.4.4",ae=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ${constructor(D,P,j,pe){this.client=D,this.storage=P,this.storageCache=j,this.logger=pe}isCachedDataFresh(D,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-P,pe=j<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${pe}.`),pe}fetch(D){var P=this;return(0,J.Z)(function*(){const[j,pe]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(pe&&P.isCachedDataFresh(D.cacheMaxAgeMillis,j))return pe;D.eTag=pe&&pe.eTag;const _e=yield P.client.fetch(D),yt=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_e.status&&yt.push(P.storage.setLastSuccessfulFetchResponse(_e)),yield Promise.all(yt),_e})()}}function Z(b=navigator){return b.languages&&b.languages[0]||b.language}class te{constructor(D,P,j,pe,_e,yt){this.firebaseInstallations=D,this.sdkVersion=P,this.namespace=j,this.projectId=pe,this.apiKey=_e,this.appId=yt}fetch(D){var P=this;return(0,J.Z)(function*(){const[j,pe]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),yt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Bn={sdk_version:P.sdkVersion,app_instance_id:j,app_instance_id_token:pe,app_id:P.appId,language_code:Z()},sn={method:"POST",headers:dn,body:JSON.stringify(Bn)},pn=fetch(yt,sn),Vt=new Promise((Mi,ds)=>{D.signal.addEventListener(()=>{const Tp=new Error("The operation was aborted.");Tp.name="AbortError",ds(Tp)})});let vt;try{yield Promise.race([pn,Vt]),vt=yield pn}catch(Mi){let ds="fetch-client-network";throw"AbortError"===Mi?.name&&(ds="fetch-timeout"),ae.create(ds,{originalErrorMessage:Mi?.message})}let Hi=vt.status;const yd=vt.headers.get("ETag")||void 0;let nc,gn;if(200===vt.status){let Mi;try{Mi=yield vt.json()}catch(ds){throw ae.create("fetch-client-parse",{originalErrorMessage:ds?.message})}nc=Mi.entries,gn=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===gn?Hi=500:"NO_CHANGE"===gn?Hi=304:("NO_TEMPLATE"===gn||"EMPTY_CONFIG"===gn)&&(nc={}),304!==Hi&&200!==Hi)throw ae.create("fetch-status",{httpStatus:Hi});return{status:Hi,eTag:yd,config:nc}})()}}class ct{constructor(D,P){this.client=D,this.storage=P}fetch(D){var P=this;return(0,J.Z)(function*(){const j=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(D,j)})()}attemptFetch(D,{throttleEndTimeMillis:P,backoffCount:j}){var pe=this;return(0,J.Z)(function*(){yield function le(b,D){return new Promise((P,j)=>{const pe=Math.max(D-Date.now(),0),_e=setTimeout(P,pe);b.addEventListener(()=>{clearTimeout(_e),j(ae.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,P);try{const _e=yield pe.client.fetch(D);return yield pe.storage.deleteThrottleMetadata(),_e}catch(_e){if(!function ke(b){if(!(b instanceof he.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(_e))throw _e;const yt={throttleEndTimeMillis:Date.now()+(0,he.$s)(j),backoffCount:j+1};return yield pe.storage.setThrottleMetadata(yt),pe.attemptFetch(D,yt)}})()}}class wt{constructor(D,P,j,pe,_e){this.app=D,this._client=P,this._storageCache=j,this._storage=pe,this._logger=_e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ne(b,D){const P=b.target.error||void 0;return ae.create(D,{originalErrorMessage:P&&P?.message})}const Re="app_namespace_store";class Lt{constructor(D,P,j,pe=function Qt(){return new Promise((b,D)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=j=>{D(Ne(j,"storage-open"))},P.onsuccess=j=>{b(j.target.result)},P.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Re,{keyPath:"compositeKey"})}}catch(P){D(ae.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=D,this.appName=P,this.namespace=j,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var P=this;return(0,J.Z)(function*(){const j=yield P.openDbPromise;return new Promise((pe,_e)=>{const dn=j.transaction([Re],"readonly").objectStore(Re),Bn=P.createCompositeKey(D);try{const sn=dn.get(Bn);sn.onerror=pn=>{_e(Ne(pn,"storage-get"))},sn.onsuccess=pn=>{const Vt=pn.target.result;pe(Vt?Vt.value:void 0)}}catch(sn){_e(ae.create("storage-get",{originalErrorMessage:sn?.message}))}})})()}set(D,P){var j=this;return(0,J.Z)(function*(){const pe=yield j.openDbPromise;return new Promise((_e,yt)=>{const Bn=pe.transaction([Re],"readwrite").objectStore(Re),sn=j.createCompositeKey(D);try{const pn=Bn.put({compositeKey:sn,value:P});pn.onerror=Vt=>{yt(Ne(Vt,"storage-set"))},pn.onsuccess=()=>{_e()}}catch(pn){yt(ae.create("storage-set",{originalErrorMessage:pn?.message}))}})})()}delete(D){var P=this;return(0,J.Z)(function*(){const j=yield P.openDbPromise;return new Promise((pe,_e)=>{const dn=j.transaction([Re],"readwrite").objectStore(Re),Bn=P.createCompositeKey(D);try{const sn=dn.delete(Bn);sn.onerror=pn=>{_e(Ne(pn,"storage-delete"))},sn.onsuccess=()=>{pe()}}catch(sn){_e(ae.create("storage-delete",{originalErrorMessage:sn?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ir{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,J.Z)(function*(){const P=D.storage.getLastFetchStatus(),j=D.storage.getLastSuccessfulFetchTimestampMillis(),pe=D.storage.getActiveConfig(),_e=yield P;_e&&(D.lastFetchStatus=_e);const yt=yield j;yt&&(D.lastSuccessfulFetchTimestampMillis=yt);const dn=yield pe;dn&&(D.activeConfig=dn)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Yr(){return un.apply(this,arguments)}function un(){return(un=(0,J.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function tr(){(0,z._registerComponent)(new Ie.wA("remote-config",function b(D,{instanceIdentifier:P}){const j=D.getProvider("app").getImmediate(),pe=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ae.create("registration-window");if(!(0,he.hl)())throw ae.create("indexed-db-unavailable");const{projectId:_e,apiKey:yt,appId:dn}=j.options;if(!_e)throw ae.create("registration-project-id");if(!yt)throw ae.create("registration-api-key");if(!dn)throw ae.create("registration-app-id");const Bn=new Lt(dn,j.name,P=P||"firebase"),sn=new Ir(Bn),pn=new Ae.Yd(ge);pn.logLevel=Ae.in.ERROR;const Vt=new te(pe,z.SDK_VERSION,P,_e,yt,dn),vt=new ct(Vt,Bn),Hi=new $(vt,Bn,sn,pn),yd=new wt(j,Hi,sn,Bn,pn);return function ce(b){const D=(0,he.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(yd),yd},"PUBLIC").setMultipleInstances(!0)),(0,z.registerVersion)(ge,k),(0,z.registerVersion)(ge,k,"esm2017")}();var hn=S(8766);const Dr="/firebase-messaging-sw.js",Ur="/firebase-cloud-messaging-push-scope",Qr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_i="https://fcmregistrations.googleapis.com/v1",rt="google.c.a.c_id",Vn="google.c.a.c_l",Jt="google.c.a.ts",Je="google.c.a.e";var pr=(()=>{return(b=pr||(pr={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",pr;var b})();function bt(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _n(b){const P=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(P),pe=new Uint8Array(j.length);for(let _e=0;_e<j.length;++_e)pe[_e]=j.charCodeAt(_e);return pe}const nr="fcm_token_details_db",Wn=5,Jr="fcm_token_object_Store";function Vr(){return Vr=(0,J.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_e=>_e.name).includes(nr))return null;let D=null;return(yield(0,hn.X3)(nr,Wn,{upgrade:(j=(0,J.Z)(function*(pe,_e,yt,dn){var Bn;if(_e<2||!pe.objectStoreNames.contains(Jr))return;const sn=dn.objectStore(Jr),pn=yield sn.index("fcmSenderId").get(b);if(yield sn.clear(),pn)if(2===_e){const Vt=pn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;D={token:Vt.fcmToken,createTime:null!==(Bn=Vt.createTime)&&void 0!==Bn?Bn:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:bt(Vt.vapidKey)}}}else if(3===_e){const Vt=pn;D={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:bt(Vt.auth),p256dh:bt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:bt(Vt.vapidKey)}}}else if(4===_e){const Vt=pn;D={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:bt(Vt.auth),p256dh:bt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:bt(Vt.vapidKey)}}}}),function(_e,yt,dn,Bn){return j.apply(this,arguments)})})).close(),yield(0,hn.Lj)(nr),yield(0,hn.Lj)("fcm_vapid_details_db"),yield(0,hn.Lj)("undefined"),function zt(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var j}),Vr.apply(this,arguments)}const vi="firebase-messaging-database",br=1,je="firebase-messaging-store";let ue=null;function ze(){return ue||(ue=(0,hn.X3)(vi,br,{upgrade:(b,D)=>{0===D&&b.createObjectStore(je)}})),ue}function Et(b){return at.apply(this,arguments)}function at(){return at=(0,J.Z)(function*(b){const D=L(b),j=yield(yield ze()).transaction(je).objectStore(je).get(D);if(j)return j;{const pe=yield function Zt(b){return Vr.apply(this,arguments)}(b.appConfig.senderId);if(pe)return yield Bt(b,pe),pe}}),at.apply(this,arguments)}function Bt(b,D){return An.apply(this,arguments)}function An(){return(An=(0,J.Z)(function*(b,D){const P=L(b),pe=(yield ze()).transaction(je,"readwrite");return yield pe.objectStore(je).put(D,P),yield pe.done,D})).apply(this,arguments)}function M(){return(M=(0,J.Z)(function*(b){const D=L(b),j=(yield ze()).transaction(je,"readwrite");yield j.objectStore(je).delete(D),yield j.done})).apply(this,arguments)}function L({appConfig:b}){return b.appId}const A=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function q(b,D){return de.apply(this,arguments)}function de(){return(de=(0,J.Z)(function*(b,D){const P=yield qt(b),j=Kn(D),pe={method:"POST",headers:P,body:JSON.stringify(j)};let _e;try{_e=yield(yield fetch(it(b.appConfig),pe)).json()}catch(yt){throw A.create("token-subscribe-failed",{errorInfo:yt?.toString()})}if(_e.error)throw A.create("token-subscribe-failed",{errorInfo:_e.error.message});if(!_e.token)throw A.create("token-subscribe-no-token");return _e.token})).apply(this,arguments)}function Ke(){return(Ke=(0,J.Z)(function*(b,D){const P=yield qt(b),j=Kn(D.subscriptionOptions),pe={method:"PATCH",headers:P,body:JSON.stringify(j)};let _e;try{_e=yield(yield fetch(`${it(b.appConfig)}/${D.token}`,pe)).json()}catch(yt){throw A.create("token-update-failed",{errorInfo:yt?.toString()})}if(_e.error)throw A.create("token-update-failed",{errorInfo:_e.error.message});if(!_e.token)throw A.create("token-update-no-token");return _e.token})).apply(this,arguments)}function tt(b,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,J.Z)(function*(b,D){const j={method:"DELETE",headers:yield qt(b)};try{const _e=yield(yield fetch(`${it(b.appConfig)}/${D}`,j)).json();if(_e.error)throw A.create("token-unsubscribe-failed",{errorInfo:_e.error.message})}catch(pe){throw A.create("token-unsubscribe-failed",{errorInfo:pe?.toString()})}})).apply(this,arguments)}function it({projectId:b}){return`${_i}/projects/${b}/registrations`}function qt(b){return vn.apply(this,arguments)}function vn(){return(vn=(0,J.Z)(function*({appConfig:b,installations:D}){const P=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Kn({p256dh:b,auth:D,endpoint:P,vapidKey:j}){const pe={web:{endpoint:P,auth:D,p256dh:b}};return j!==Qr&&(pe.web.applicationPubKey=j),pe}const rr=6048e5;function Fo(){return Fo=(0,J.Z)(function*(b){const D=yield function cn(b,D){return Xt.apply(this,arguments)}(b.swRegistration,b.vapidKey),P={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:bt(D.getKey("auth")),p256dh:bt(D.getKey("p256dh"))},j=yield Et(b.firebaseDependencies);if(j){if(function ir(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}(j.subscriptionOptions,P))return Date.now()>=j.createTime+rr?function B(b,D){return se.apply(this,arguments)}(b,{token:j.token,createTime:Date.now(),subscriptionOptions:P}):j.token;try{yield tt(b.firebaseDependencies,j.token)}catch(pe){console.warn(pe)}return be(b.firebaseDependencies,P)}return be(b.firebaseDependencies,P)}),Fo.apply(this,arguments)}function Uo(){return Uo=(0,J.Z)(function*(b){const D=yield Et(b.firebaseDependencies);D&&(yield tt(b.firebaseDependencies,D.token),yield function R(b){return M.apply(this,arguments)}(b.firebaseDependencies));const P=yield b.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),Uo.apply(this,arguments)}function se(){return se=(0,J.Z)(function*(b,D){try{const P=yield function ye(b,D){return Ke.apply(this,arguments)}(b.firebaseDependencies,D),j=Object.assign(Object.assign({},D),{token:P,createTime:Date.now()});return yield Bt(b.firebaseDependencies,j),P}catch(P){throw yield function Lo(b){return Uo.apply(this,arguments)}(b),P}}),se.apply(this,arguments)}function be(b,D){return dt.apply(this,arguments)}function dt(){return(dt=(0,J.Z)(function*(b,D){const j={token:yield q(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Bt(b,j),j.token})).apply(this,arguments)}function Xt(){return(Xt=(0,J.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_n(D)})})).apply(this,arguments)}function It(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function In(b,D){if(!D.notification)return;b.notification={};const P=D.notification.title;P&&(b.notification.title=P);const j=D.notification.body;j&&(b.notification.body=j);const pe=D.notification.image;pe&&(b.notification.image=pe);const _e=D.notification.icon;_e&&(b.notification.icon=_e)}(D,b),function ln(b,D){D.data&&(b.data=D.data)}(D,b),function Ai(b,D){var P,j,pe,_e,yt;if(!(D.fcmOptions||null!==(P=D.notification)&&void 0!==P&&P.click_action))return;b.fcmOptions={};const dn=null!==(pe=null===(j=D.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==pe?pe:null===(_e=D.notification)||void 0===_e?void 0:_e.click_action;dn&&(b.fcmOptions.link=dn);const Bn=null===(yt=D.fcmOptions)||void 0===yt?void 0:yt.analytics_label;Bn&&(b.fcmOptions.analyticsLabel=Bn)}(D,b),D}function Pa(b,D){const P=[];for(let j=0;j<b.length;j++)P.push(b.charAt(j)),j<D.length&&P.push(D.charAt(j));return P.join("")}function bs(b){return A.create("missing-app-config-values",{valueName:b})}Pa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xi{constructor(D,P,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function id(b){if(!b||!b.options)throw bs("App Configuration Object");if(!b.name)throw bs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:P}=b;for(const j of D)if(!P[j])throw bs(j);return{appName:b.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:pe,installations:P,analyticsProvider:j}}_delete(){return Promise.resolve()}}function Xe(b){return _t.apply(this,arguments)}function _t(){return(_t=(0,J.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Dr,{scope:Ur}),b.swRegistration.update().catch(()=>{})}catch(D){throw A.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Xr(){return(Xr=(0,J.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Xe(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw A.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function Qn(){return(Qn=(0,J.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=Qr)})).apply(this,arguments)}function fn(){return fn=(0,J.Z)(function*(b,D){if(!navigator)throw A.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw A.create("permission-blocked");return yield function qn(b,D){return Qn.apply(this,arguments)}(b,D?.vapidKey),yield function Dn(b,D){return Xr.apply(this,arguments)}(b,D?.serviceWorkerRegistration),function Yn(b){return Fo.apply(this,arguments)}(b)}),fn.apply(this,arguments)}function Xs(){return(Xs=(0,J.Z)(function*(b,D,P){const j=function Ut(b){switch(b){case pr.NOTIFICATION_CLICKED:return"notification_open";case pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:P[rt],message_name:P[Vn],message_time:P[Jt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function us(){return us=(0,J.Z)(function*(b,D){const P=D.data;if(!P.isFirebaseMessaging)return;b.onMessageHandler&&P.messageType===pr.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(It(P)):b.onMessageHandler.next(It(P)));const j=P.data;(function Br(b){return"object"==typeof b&&!!b&&rt in b})(j)&&"1"===j[Je]&&(yield function Js(b,D,P){return Xs.apply(this,arguments)}(b,P.messageType,j))}),us.apply(this,arguments)}const od="@firebase/messaging",Tr=b=>{const D=new xi(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function sd(b,D){return us.apply(this,arguments)}(D,P)),D},Oa=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:j=>function as(b,D){return fn.apply(this,arguments)}(D,j)}};function Ci(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,J.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gr(){(0,z._registerComponent)(new Ie.wA("messaging",Tr,"PUBLIC")),(0,z._registerComponent)(new Ie.wA("messaging-internal",Oa,"PRIVATE")),(0,z.registerVersion)(od,"0.12.4"),(0,z.registerVersion)(od,"0.12.4","esm2017")}();var Sr=S(3008),W_=S(727);class mr extends W_.w0{constructor(D,P){super()}schedule(D,P=0){return this}}const $r={setInterval(b,D,...P){const{delegate:j}=$r;return j?.setInterval?j.setInterval(b,D,...P):setInterval(b,D,...P)},clearInterval(b){const{delegate:D}=$r;return(D?.clearInterval||clearInterval)(b)},delegate:void 0};var Qu=S(8737);class no extends mr{constructor(D,P){super(D,P),this.scheduler=D,this.work=P,this.pending=!1}schedule(D,P=0){var j;if(this.closed)return this;this.state=D;const pe=this.id,_e=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(_e,pe,P)),this.pending=!0,this.delay=P,this.id=null!==(j=this.id)&&void 0!==j?j:this.requestAsyncId(_e,this.id,P),this}requestAsyncId(D,P,j=0){return $r.setInterval(D.flush.bind(D,this),j)}recycleAsyncId(D,P,j=0){if(null!=j&&this.delay===j&&!1===this.pending)return P;null!=P&&$r.clearInterval(P)}execute(D,P){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(D,P);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,P){let pe,j=!1;try{this.work(D)}catch(_e){j=!0,pe=_e||new Error("Scheduled action threw falsy error")}if(j)return this.unsubscribe(),pe}unsubscribe(){if(!this.closed){const{id:D,scheduler:P}=this,{actions:j}=P;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Qu.P)(j,this),null!=D&&(this.id=this.recycleAsyncId(P,D,null)),this.delay=null,super.unsubscribe()}}}var wi=S(6063);class Bo{constructor(D,P=Bo.now){this.schedulerActionCtor=D,this.now=P}schedule(D,P=0,j){return new this.schedulerActionCtor(this,D).schedule(j,P)}}Bo.now=wi.l.now;class cd extends Bo{constructor(D,P=Bo.now){super(D,P),this.actions=[],this._active=!1}flush(D){const{actions:P}=this;if(this._active)return void P.push(D);let j;this._active=!0;do{if(j=D.execute(D.state,D.delay))break}while(D=P.shift());if(this._active=!1,j){for(;D=P.shift();)D.unsubscribe();throw j}}}const _p=new class yp extends cd{}(class Ra extends no{constructor(D,P){super(D,P),this.scheduler=D,this.work=P}schedule(D,P=0){return P>0?super.schedule(D,P):(this.delay=P,this.state=D,this.scheduler.flush(this),this)}execute(D,P){return P>0||this.closed?super.execute(D,P):this._execute(D,P)}requestAsyncId(D,P,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(D,P,j):(D.flush(this),0)}}),ld=new cd(no);var K_=S(9751),iD=S(8505),Ss=S(9468),dd=S(5363);const Y_=new c.GfV("7.5.0"),hd="__angularfire_symbol__analyticsIsSupportedValue",fd="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",Cp="__angularfire_symbol__remoteConfigIsSupported",Ju="__angularfire_symbol__messagingIsSupportedValue",Xu="__angularfire_symbol__messagingIsSupported";globalThis[fd]||(globalThis[fd]=(0,Sr.Gb)().then(b=>globalThis[hd]=b).catch(()=>globalThis[hd]=!1)),globalThis[Xu]||(globalThis[Xu]=Ci().then(b=>globalThis[Ju]=b).catch(()=>globalThis[Ju]=!1)),globalThis[Cp]||(globalThis[Cp]=Yr().then(b=>globalThis[pd]=b).catch(()=>globalThis[pd]=!1));const cs={async:()=>globalThis[fd],sync:()=>{const b=globalThis[hd];if(void 0===b)throw new Error((b=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${b} in the constructor, first ensure that ${b} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${b})\`.`)("Analytics"));return b}};function Ep(b,D,P){if(D){if(1===D.length)return D[0];const _e=D.filter(yt=>yt.app===P);if(1===_e.length)return _e[0]}return P.container.getProvider(b).getImmediate({optional:!0})}const gd=(b,D)=>{const P=D?[D]:(0,H.C6)(),j=[];return P.forEach(pe=>{pe.container.getProvider(b).instances.forEach(yt=>{j.includes(yt)||j.push(yt)})}),j};function As(){}class Ip{constructor(D,P=_p){this.zone=D,this.delegate=P}now(){return this.delegate.now()}schedule(D,P,j){const pe=this.zone;return this.delegate.schedule(function(yt){pe.runGuarded(()=>{D.apply(this,[yt])})},P,j)}}class ec{constructor(D){this.zone=D,this.task=null}call(D,P){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",As,{},As,As)),P.pipe((0,iD.b)({next:j,complete:j,error:j})).subscribe(D).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dp=(()=>{class b{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Ip(Zone.current)),this.insideAngular=P.run(()=>new Ip(Zone.current,ld)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(P){return new(P||b)(c.LFG(c.R0b))},b.\u0275prov=c.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function ls(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Gi(b){return ls().ngZone.run(()=>b())}function $o(b){return ls(),function md(b){return function(P){return(P=P.lift(new ec(b.ngZone))).pipe((0,Ss.R)(b.outsideAngular),(0,dd.Q)(b.insideAngular))}}(ls())(b)}const sr=(b,D)=>function(){const j=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),Gi(()=>b.apply(void 0,j))},Q_=(b,D)=>function(){let P;const j=arguments;for(let _e=0;_e<arguments.length;_e++)"function"==typeof j[_e]&&(D&&(P||(P=Gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",As,{},As,As)))),j[_e]=sr(j[_e],P));const pe=function bp(b){return ls().ngZone.runOutsideAngular(()=>b())}(()=>b.apply(this,j));if(!D){if(pe instanceof K_.y){const _e=ls();return pe.pipe((0,Ss.R)(_e.outsideAngular),(0,dd.Q)(_e.insideAngular))}return Gi(()=>pe)}return pe instanceof K_.y?pe.pipe($o):pe instanceof Promise?Gi(()=>new Promise((_e,yt)=>pe.then(dn=>Gi(()=>_e(dn)),dn=>Gi(()=>yt(dn))))):"function"==typeof pe&&P?function(){return setTimeout(()=>{P&&"scheduled"===P.state&&P.invoke()},10),pe.apply(this,arguments)}:Gi(()=>pe)}},2090:(ft,Ce,S)=>{S.d(Ce,{$s:()=>Et,BH:()=>ve,L:()=>ge,LL:()=>He,P0:()=>Gt,Pz:()=>W,Sg:()=>ce,US:()=>Ie,ZB:()=>X,ZR:()=>Ot,aH:()=>Ue,b$:()=>ot,eu:()=>le,hl:()=>te,jU:()=>Ye,m9:()=>An,ne:()=>Jt,pd:()=>rt,q4:()=>St,r3:()=>Fr,ru:()=>Qe,tV:()=>k,uI:()=>re,vZ:()=>hn,w1:()=>K,xO:()=>Qr,xb:()=>Yr,z$:()=>Oe,zI:()=>ke,zd:()=>_i});const z=function(R){const M=[];let L=0;for(let x=0;x<R.length;x++){let A=R.charCodeAt(x);A<128?M[L++]=A:A<2048?(M[L++]=A>>6|192,M[L++]=63&A|128):55296==(64512&A)&&x+1<R.length&&56320==(64512&R.charCodeAt(x+1))?(A=65536+((1023&A)<<10)+(1023&R.charCodeAt(++x)),M[L++]=A>>18|240,M[L++]=A>>12&63|128,M[L++]=A>>6&63|128,M[L++]=63&A|128):(M[L++]=A>>12|224,M[L++]=A>>6&63|128,M[L++]=63&A|128)}return M},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,M){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let A=0;A<R.length;A+=3){const q=R[A],de=A+1<R.length,ye=de?R[A+1]:0,Ke=A+2<R.length,tt=Ke?R[A+2]:0;let qt=(15&ye)<<2|tt>>6,vn=63&tt;Ke||(vn=64,de||(qt=64)),x.push(L[q>>2],L[(3&q)<<4|ye>>4],L[qt],L[vn])}return x.join("")},encodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(R):this.encodeByteArray(z(R),M)},decodeString(R,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(R):function(R){const M=[];let L=0,x=0;for(;L<R.length;){const A=R[L++];if(A<128)M[x++]=String.fromCharCode(A);else if(A>191&&A<224){const q=R[L++];M[x++]=String.fromCharCode((31&A)<<6|63&q)}else if(A>239&&A<365){const Ke=((7&A)<<18|(63&R[L++])<<12|(63&R[L++])<<6|63&R[L++])-65536;M[x++]=String.fromCharCode(55296+(Ke>>10)),M[x++]=String.fromCharCode(56320+(1023&Ke))}else{const q=R[L++],de=R[L++];M[x++]=String.fromCharCode((15&A)<<12|(63&q)<<6|63&de)}}return M.join("")}(this.decodeStringToByteArray(R,M))},decodeStringToByteArray(R,M){this.init_();const L=M?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let A=0;A<R.length;){const q=L[R.charAt(A++)],ye=A<R.length?L[R.charAt(A)]:0;++A;const tt=A<R.length?L[R.charAt(A)]:64;++A;const it=A<R.length?L[R.charAt(A)]:64;if(++A,null==q||null==ye||null==tt||null==it)throw new Ae;x.push(q<<2|ye>>4),64!==tt&&(x.push(ye<<4&240|tt>>2),64!==it&&x.push(tt<<6&192|it))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(R){return function(R){const M=z(R);return Ie.encodeByteArray(M,!0)}(R).replace(/\./g,"")},k=function(R){try{return Ie.decodeString(R,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function X(R,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return M}for(const L in M)!M.hasOwnProperty(L)||!ie(L)||(R[L]=X(R[L],M[L]));return R}function ie(R){return"__proto__"!==R}const We=()=>{try{return function ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=R&&k(R[1]);return M&&JSON.parse(M)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},St=R=>{var M,L;return null===(L=null===(M=We())||void 0===M?void 0:M.emulatorHosts)||void 0===L?void 0:L[R]},Gt=R=>{const M=St(R);if(!M)return;const L=M.lastIndexOf(":");if(L<=0||L+1===M.length)throw new Error(`Invalid host ${M} with no separate hostname and port!`);const x=parseInt(M.substring(L+1),10);return"["===M[0]?[M.substring(1,L-1),x]:[M.substring(0,L),x]},Ue=()=>{var R;return null===(R=We())||void 0===R?void 0:R.config},W=R=>{var M;return null===(M=We())||void 0===M?void 0:M[`_${R}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,L)=>{this.resolve=M,this.reject=L})}wrapCallback(M){return(L,x)=>{L?this.reject(L):this.resolve(x),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(L):M(L,x))}}}function ce(R,M){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=M||"demo-project",A=R.iat||0,q=R.sub||R.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const de=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:A,exp:A+3600,auth_time:A,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},R);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(de)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Ye(){return"object"==typeof self&&self.self===self}function Qe(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function K(){const R=Oe();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((R,M)=>{try{let L=!0;const x="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(x);A.onsuccess=()=>{A.result.close(),L||self.indexedDB.deleteDatabase(x),R(!0)},A.onupgradeneeded=()=>{L=!1},A.onerror=()=>{var q;M((null===(q=A.error)||void 0===q?void 0:q.message)||"")}}catch(L){M(L)}})}function ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ot extends Error{constructor(M,L,x){super(L),this.code=M,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(M,L,x){this.service=M,this.serviceName=L,this.errors=x}create(M,...L){const x=L[0]||{},A=`${this.service}/${M}`,q=this.errors[M],de=q?function wt(R,M){return R.replace(Ne,(L,x)=>{const A=M[x];return null!=A?String(A):`<${x}?>`})}(q,x):"Error";return new Ot(A,`${this.serviceName}: ${de} (${A}).`,x)}}const Ne=/\{\$([^}]+)}/g;function Fr(R,M){return Object.prototype.hasOwnProperty.call(R,M)}function Yr(R){for(const M in R)if(Object.prototype.hasOwnProperty.call(R,M))return!1;return!0}function hn(R,M){if(R===M)return!0;const L=Object.keys(R),x=Object.keys(M);for(const A of L){if(!x.includes(A))return!1;const q=R[A],de=M[A];if(Dr(q)&&Dr(de)){if(!hn(q,de))return!1}else if(q!==de)return!1}for(const A of x)if(!L.includes(A))return!1;return!0}function Dr(R){return null!==R&&"object"==typeof R}function Qr(R){const M=[];for(const[L,x]of Object.entries(R))Array.isArray(x)?x.forEach(A=>{M.push(encodeURIComponent(L)+"="+encodeURIComponent(A))}):M.push(encodeURIComponent(L)+"="+encodeURIComponent(x));return M.length?"&"+M.join("&"):""}function _i(R){const M={};return R.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[A,q]=x.split("=");M[decodeURIComponent(A)]=decodeURIComponent(q)}}),M}function rt(R){const M=R.indexOf("?");if(!M)return"";const L=R.indexOf("#",M);return R.substring(M,L>0?L:void 0)}function Jt(R,M){const L=new Je(R,M);return L.subscribe.bind(L)}class Je{constructor(M,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{M(this)}).catch(x=>{this.error(x)})}next(M){this.forEachObserver(L=>{L.next(M)})}error(M){this.forEachObserver(L=>{L.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,L,x){let A;if(void 0===M&&void 0===L&&void 0===x)throw new Error("Missing Observer.");A=function pr(R,M){if("object"!=typeof R||null===R)return!1;for(const L of M)if(L in R&&"function"==typeof R[L])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:L,complete:x},void 0===A.next&&(A.next=bt),void 0===A.error&&(A.error=bt),void 0===A.complete&&(A.complete=bt);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),q}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,M)}sendOne(M,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{L(this.observers[M])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bt(){}const br=1e3,je=2,ue=144e5,ze=.5;function Et(R,M=br,L=je){const x=M*Math.pow(L,R),A=Math.round(ze*x*(Math.random()-.5)*2);return Math.min(ue,x+A)}function An(R){return R&&R._delegate?R._delegate:R}},3960:(ft,Ce,S)=>{var c=S(8274);let H=null;function J(){return H}class he{}const Ie=new c.OlP("DocumentToken");let Ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Le(){return(0,c.LFG)(k)}()},providedIn:"platform"}),n})();const ge=new c.OlP("Location Initialized");let k=(()=>{class n extends Ae{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(t){const r=J().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=J().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){O()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){O()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function X(){return new k((0,c.LFG)(Ie))}()},providedIn:"platform"}),n})();function O(){return!!window.history.pushState}function ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Se(n){return n&&"?"!==n[0]?"?"+n:n}let et=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(We)},providedIn:"root"}),n})();const we=new c.OlP("appBaseHref");let We=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ie(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Se(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+Se(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+Se(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ae),c.LFG(we,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),St=(()=>{class n extends et{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ie(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+Se(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+Se(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ae),c.LFG(we,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Gt=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ae(ve(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Se(r))}normalize(t){return n.stripTrailingSlash(function W(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ve(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Se(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Se,n.joinWithSlash=ie,n.stripTrailingSlash=ae,n.\u0275fac=function(t){return new(t||n)(c.LFG(et))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ue(){return new Gt((0,c.LFG)(et))}()},providedIn:"root"}),n})();function ve(n){return n.replace(/\/index.html$/,"")}var Ye=(()=>((Ye=Ye||{})[Ye.Format=0]="Format",Ye[Ye.Standalone=1]="Standalone",Ye))(),Qe=(()=>((Qe=Qe||{})[Qe.Narrow=0]="Narrow",Qe[Qe.Abbreviated=1]="Abbreviated",Qe[Qe.Wide=2]="Wide",Qe[Qe.Short=3]="Short",Qe))(),ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function Ot(n,e){return un((0,c.cg1)(n)[c.wAp.DateFormat],e)}function He(n,e){return un((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function wt(n,e){return un((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function Ne(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===$e.CurrencyDecimal)return t[c.wAp.NumberSymbols][$e.Decimal];if(e===$e.CurrencyGroup)return t[c.wAp.NumberSymbols][$e.Group]}return r}function tr(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function un(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function hn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const _i=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rt={},Vn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),lt=(()=>((lt=lt||{})[lt.DayPeriods=0]="DayPeriods",lt[lt.Days=1]="Days",lt[lt.Months=2]="Months",lt[lt.Eras=3]="Eras",lt))();function pr(n,e,t,r){let i=function A(n){if(de(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,l=1]=n.split("-").map(f=>+f);return bt(i,a-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_i))return function q(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,l,f,m,_),e}(r)}const e=new Date(n);if(!de(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=_n(t,e)||e;let f,l=[];for(;e;){if(f=Vn.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=M(r,m),i=function x(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function L(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(M(e,i)-i))}(i,r,!0));let _="";return l.forEach(C=>{const E=function R(n){if(An[n])return An[n];let e;switch(n){case"G":case"GG":case"GGG":e=zt(lt.Eras,Qe.Abbreviated);break;case"GGGG":e=zt(lt.Eras,Qe.Wide);break;case"GGGGG":e=zt(lt.Eras,Qe.Narrow);break;case"y":e=Zt(Je.FullYear,1,0,!1,!0);break;case"yy":e=Zt(Je.FullYear,2,0,!0,!0);break;case"yyy":e=Zt(Je.FullYear,3,0,!1,!0);break;case"yyyy":e=Zt(Je.FullYear,4,0,!1,!0);break;case"Y":e=Bt(1);break;case"YY":e=Bt(2,!0);break;case"YYY":e=Bt(3);break;case"YYYY":e=Bt(4);break;case"M":case"L":e=Zt(Je.Month,1,1);break;case"MM":case"LL":e=Zt(Je.Month,2,1);break;case"MMM":e=zt(lt.Months,Qe.Abbreviated);break;case"MMMM":e=zt(lt.Months,Qe.Wide);break;case"MMMMM":e=zt(lt.Months,Qe.Narrow);break;case"LLL":e=zt(lt.Months,Qe.Abbreviated,Ye.Standalone);break;case"LLLL":e=zt(lt.Months,Qe.Wide,Ye.Standalone);break;case"LLLLL":e=zt(lt.Months,Qe.Narrow,Ye.Standalone);break;case"w":e=at(1);break;case"ww":e=at(2);break;case"W":e=at(1,!0);break;case"d":e=Zt(Je.Date,1);break;case"dd":e=Zt(Je.Date,2);break;case"c":case"cc":e=Zt(Je.Day,1);break;case"ccc":e=zt(lt.Days,Qe.Abbreviated,Ye.Standalone);break;case"cccc":e=zt(lt.Days,Qe.Wide,Ye.Standalone);break;case"ccccc":e=zt(lt.Days,Qe.Narrow,Ye.Standalone);break;case"cccccc":e=zt(lt.Days,Qe.Short,Ye.Standalone);break;case"E":case"EE":case"EEE":e=zt(lt.Days,Qe.Abbreviated);break;case"EEEE":e=zt(lt.Days,Qe.Wide);break;case"EEEEE":e=zt(lt.Days,Qe.Narrow);break;case"EEEEEE":e=zt(lt.Days,Qe.Short);break;case"a":case"aa":case"aaa":e=zt(lt.DayPeriods,Qe.Abbreviated);break;case"aaaa":e=zt(lt.DayPeriods,Qe.Wide);break;case"aaaaa":e=zt(lt.DayPeriods,Qe.Narrow);break;case"b":case"bb":case"bbb":e=zt(lt.DayPeriods,Qe.Abbreviated,Ye.Standalone,!0);break;case"bbbb":e=zt(lt.DayPeriods,Qe.Wide,Ye.Standalone,!0);break;case"bbbbb":e=zt(lt.DayPeriods,Qe.Narrow,Ye.Standalone,!0);break;case"B":case"BB":case"BBB":e=zt(lt.DayPeriods,Qe.Abbreviated,Ye.Format,!0);break;case"BBBB":e=zt(lt.DayPeriods,Qe.Wide,Ye.Format,!0);break;case"BBBBB":e=zt(lt.DayPeriods,Qe.Narrow,Ye.Format,!0);break;case"h":e=Zt(Je.Hours,1,-12);break;case"hh":e=Zt(Je.Hours,2,-12);break;case"H":e=Zt(Je.Hours,1);break;case"HH":e=Zt(Je.Hours,2);break;case"m":e=Zt(Je.Minutes,1);break;case"mm":e=Zt(Je.Minutes,2);break;case"s":e=Zt(Je.Seconds,1);break;case"ss":e=Zt(Je.Seconds,2);break;case"S":e=Zt(Je.FractionalSeconds,1);break;case"SS":e=Zt(Je.FractionalSeconds,2);break;case"SSS":e=Zt(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=br(Jt.Short);break;case"ZZZZZ":e=br(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=br(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=br(Jt.Long);break;default:return null}return An[n]=e,e}(C);_+=E?E(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function bt(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function _n(n,e){const t=function ne(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(rt[t]=rt[t]||{},rt[t][e])return rt[t][e];let r="";switch(e){case"shortDate":r=Ot(n,ot.Short);break;case"mediumDate":r=Ot(n,ot.Medium);break;case"longDate":r=Ot(n,ot.Long);break;case"fullDate":r=Ot(n,ot.Full);break;case"shortTime":r=He(n,ot.Short);break;case"mediumTime":r=He(n,ot.Medium);break;case"longTime":r=He(n,ot.Long);break;case"fullTime":r=He(n,ot.Full);break;case"short":const i=_n(n,"shortTime"),a=_n(n,"shortDate");r=nr(wt(n,ot.Short),[i,a]);break;case"medium":const l=_n(n,"mediumTime"),f=_n(n,"mediumDate");r=nr(wt(n,ot.Medium),[l,f]);break;case"long":const m=_n(n,"longTime"),_=_n(n,"longDate");r=nr(wt(n,ot.Long),[m,_]);break;case"full":const C=_n(n,"fullTime"),E=_n(n,"fullDate");r=nr(wt(n,ot.Full),[C,E])}return r&&(rt[t][e]=r),r}function nr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Wn(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),a+l}function Zt(n,e,t=0,r=!1,i=!1){return function(a,l){let f=function Vr(n,e){switch(n){case Je.FullYear:return e.getFullYear();case Je.Month:return e.getMonth();case Je.Date:return e.getDate();case Je.Hours:return e.getHours();case Je.Minutes:return e.getMinutes();case Je.Seconds:return e.getSeconds();case Je.FractionalSeconds:return e.getMilliseconds();case Je.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===Je.Hours)0===f&&-12===t&&(f=12);else if(n===Je.FractionalSeconds)return function Jr(n,e){return Wn(n,3).substring(0,e)}(f,e);const m=Ne(l,$e.MinusSign);return Wn(f,e,m,r,i)}}function zt(n,e,t=Ye.Format,r=!1){return function(i,a){return function vi(n,e,t,r,i,a){switch(t){case lt.Months:return function te(n,e,t){const r=(0,c.cg1)(n),a=un([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return un(a,t)}(e,i,r)[n.getMonth()];case lt.Days:return function Z(n,e,t){const r=(0,c.cg1)(n),a=un([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return un(a,t)}(e,i,r)[n.getDay()];case lt.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(a){const _=function Fr(n){const e=(0,c.cg1)(n);return tr(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?hn(r):[hn(r[0]),hn(r[1])])}(e),C=function Lr(n,e,t){const r=(0,c.cg1)(n);tr(r);const a=un([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return un(a,t)||[]}(e,i,r),E=_.findIndex(N=>{if(Array.isArray(N)){const[U,Q]=N,Ee=l>=U.hours&&f>=U.minutes,xe=l<Q.hours||l===Q.hours&&f<Q.minutes;if(U.hours<Q.hours){if(Ee&&xe)return!0}else if(Ee||xe)return!0}else if(N.hours===l&&N.minutes===f)return!0;return!1});if(-1!==E)return C[E]}return function $(n,e,t){const r=(0,c.cg1)(n),a=un([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return un(a,t)}(e,i,r)[l<12?0:1];case lt.Eras:return function le(n,e){return un((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function br(n){return function(e,t,r){const i=-1*r,a=Ne(t,$e.MinusSign),l=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Jt.Short:return(i>=0?"+":"")+Wn(l,2,a)+Wn(Math.abs(i%60),2,a);case Jt.ShortGMT:return"GMT"+(i>=0?"+":"")+Wn(l,1,a);case Jt.Long:return"GMT"+(i>=0?"+":"")+Wn(l,2,a)+":"+Wn(Math.abs(i%60),2,a);case Jt.Extended:return 0===r?"Z":(i>=0?"+":"")+Wn(l,2,a)+":"+Wn(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const je=0,ue=4;function Et(n){return bt(n.getFullYear(),n.getMonth(),n.getDate()+(ue-n.getDay()))}function at(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();i=1+Math.floor((l+a)/7)}else{const a=Et(t),l=function ze(n){const e=bt(n,je,1).getDay();return bt(n,0,1+(e<=ue?ue:ue+7)-e)}(a.getFullYear()),f=a.getTime()-l.getTime();i=1+Math.round(f/6048e5)}return Wn(i,n,Ne(r,$e.MinusSign))}}function Bt(n,e=!1){return function(t,r){return Wn(Et(t).getFullYear(),n,Ne(r,$e.MinusSign),e)}}const An={};function M(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function de(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ai=/\s+/,Br=[];let Pa=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=Br,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ai):Br}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ai):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ai).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Xe{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _t=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xe(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,l),Dn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Dn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Dn(n,e){n.context.$implicit=e.item}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){as("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){as("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Qn{constructor(){this.$implicit=null,this.ngIf=null}}function as(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function gr(n,e){return new c.vHH(2100,!1)}class Ci{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Ts{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ad=new Ts,an=new Ci;let ji=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return ad;if((0,c.F4k)(t))return an;throw gr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Sr=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),W_=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let mr=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,a){if(null==t||""===t||t!=t)return null;try{return pr(t,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw gr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(Sr,24),c.Y36(W_,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ss=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const dd="browser";let sD=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new oD((0,c.LFG)(Ie),window)}),n})();class oD{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ep(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gD extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ap extends gD{static makeCurrent(){!function z(n){H||(H=n)}(new Ap)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _d(){return ro=ro||document.querySelector("base"),ro?ro.getAttribute("href"):null}();return null==t?null:function xp(n){jo=jo||document.createElement("a"),jo.setAttribute("href",n);const e=jo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ro=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ln(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let jo,ro=null;const Mp=new c.OlP("TRANSITION_ID"),La=[{provide:c.ip1,useFactory:function mD(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=J(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Mp,Ie,c.zs3],multi:!0}];let yD=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Np=new c.OlP("EventManagerPlugins");let Ua=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Np),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class _D{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=J().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let uv=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ac=(()=>{class n extends uv{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lv=/%COMP%/g,Op=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function cc(n,e){return e.flat(100).map(t=>t.replace(lv,n))}function wd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Va=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new fv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof lc?i.applyToHost(t):i instanceof kp&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:a=new lc(l,f,r,this.appId,m);break;case c.ifc.ShadowDom:return new ps(l,f,t,r);default:a=new kp(l,f,r,m)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ua),c.LFG(ac),c.LFG(c.AFp),c.LFG(Op))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class fv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(cv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(gv(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gv(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=cv[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=cv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wd(r)):this.eventManager.addEventListener(e,t,wd(r))}}function gv(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ps extends fv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=cc(i.id,i.styles);for(const l of a){const f=document.createElement("style");f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kp extends fv{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=cc(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class lc extends kp{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function Cd(n){return"_ngcontent-%COMP%".replace(lv,n)}(l),this.hostAttr=function vD(n){return"_nghost-%COMP%".replace(lv,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Fp=(()=>{class n extends _D{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Lp=["alt","control","meta","shift"],Up={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let CD=(()=>{class n extends _D{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),l="code."),Lp.forEach(_=>{const C=r.indexOf(_);C>-1&&(r.splice(C,1),l+=_+".")}),l+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let i=Up[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Lp.forEach(l=>{l!==i&&(0,Vp[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mv=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:dd},{provide:c.g9A,useValue:function Id(){Ap.makeCurrent()},multi:!0},{provide:Ie,useFactory:function ID(){return(0,c.RDi)(document),document},deps:[]}]),Ho=new c.OlP(""),yv=[{provide:c.rWj,useClass:class oc{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const f=function(m){l=l||m,a--,0==a&&r(l)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?J().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],jp=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Go(){return new c.qLn},deps:[]},{provide:Np,useClass:Fp,multi:!0,deps:[Ie,c.R0b,c.Lbi]},{provide:Np,useClass:CD,multi:!0,deps:[Ie]},{provide:Va,useClass:Va,deps:[Ua,ac,c.AFp,Op]},{provide:c.FYo,useExisting:Va},{provide:uv,useExisting:ac},{provide:ac,useClass:ac,deps:[Ie]},{provide:Ua,useClass:Ua,deps:[Np,c.R0b]},{provide:class As{},useClass:yD,deps:[]},[]];let Gp=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Mp,useExisting:c.AFp},La]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ho,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...jp,...yv],imports:[Ss,c.hGG]}),n})(),io=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ie))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ba(){return new io((0,c.LFG)(Ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var or=S(8996),dc=S(7669);function pt(...n){const e=(0,dc.yG)(n);return(0,or.D)(n,e)}var so=S(7579);class Wt extends so.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ns=(0,S(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ps=S(9751);const{isArray:Iv}=Array,{getPrototypeOf:bD,prototype:TD,keys:SD}=Object;function Dv(n){if(1===n.length){const e=n[0];if(Iv(e))return{args:e,keys:null};if(function AD(n){return n&&"object"==typeof n&&bD(n)===TD}(e)){const t=SD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var hc=S(4671),Tt=S(4004);const{isArray:Ad}=Array;function qo(n){return(0,Tt.U)(e=>function qp(n,e){return Ad(e)?n(...e):n(e)}(n,e))}function Zp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Nn=S(5403),xD=S(9672);function Zo(...n){const e=(0,dc.yG)(n),t=(0,dc.jO)(n),{args:r,keys:i}=Dv(n);if(0===r.length)return(0,or.D)([],e);const a=new Ps.y(function fc(n,e,t=hc.y){return r=>{pc(e,()=>{const{length:i}=n,a=new Array(i);let l=i,f=i;for(let m=0;m<i;m++)pc(e,()=>{const _=(0,or.D)(n[m],e);let C=!1;_.subscribe((0,Nn.x)(r,E=>{a[m]=E,C||(C=!0,f--),f||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Zp(i,l):hc.y));return t?a.pipe(qo(t)):a}function pc(n,e,t){n?(0,xD.f)(t,n,e):e()}var Ga=S(8189);function Wp(...n){return function MD(){return(0,Ga.J)(1)}()((0,or.D)(n,(0,dc.yG)(n)))}var Ni=S(8421);function Wo(n){return new Ps.y(e=>{(0,Ni.Xf)(n()).subscribe(e)})}var ND=S(9635),oo=S(576);function Ha(n,e){const t=(0,oo.m)(n)?n:()=>n,r=i=>i.error(t());return new Ps.y(e?i=>e.schedule(r,0,i):r)}var ao=S(515),PD=S(727),Ar=S(4482);function Kp(){return(0,Ar.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Nn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bv extends Ps.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new PD.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Nn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=PD.w0.EMPTY)}return e}refCount(){return Kp()(this)}}function ei(n,e){return(0,Ar.e)((t,r)=>{let i=null,a=0,l=!1;const f=()=>l&&!i&&r.complete();t.subscribe((0,Nn.x)(r,m=>{i?.unsubscribe();let _=0;const C=a++;(0,Ni.Xf)(n(m,C)).subscribe(i=(0,Nn.x)(r,E=>r.next(e?e(m,E,C,_++):E),()=>{i=null,f()}))},()=>{l=!0,f()}))})}function Pn(n){return n<=0?()=>ao.E:(0,Ar.e)((e,t)=>{let r=0;e.subscribe((0,Nn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Tv(...n){const e=(0,dc.yG)(n);return(0,Ar.e)((t,r)=>{(e?Wp(n,t,e):Wp(n,t)).subscribe(r)})}function xn(n,e){return(0,Ar.e)((t,r)=>{let i=0;t.subscribe((0,Nn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Hr=S(5577);function gc(n){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function OD(n=RD){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe((0,Nn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function RD(){return new Ns}function uo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,a)=>n(i,a,r)):hc.y,Pn(1),t?gc(e):OD(()=>new Ns))}function Os(n,e){return(0,oo.m)(e)?(0,Hr.z)(n,e,1):(0,Hr.z)(n,1)}var ti=S(8505);function Ko(n){return(0,Ar.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Nn.x)(t,void 0,void 0,l=>{a=(0,Ni.Xf)(n(l,Ko(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function kD(n,e){return(0,Ar.e)(function Yp(n,e,t,r,i){return(a,l)=>{let f=t,m=e,_=0;a.subscribe((0,Nn.x)(l,C=>{const E=_++;m=f?n(m,C,E):(f=!0,C),r&&l.next(m)},i&&(()=>{f&&l.next(m),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Sv(n){return n<=0?()=>ao.E:(0,Ar.e)((e,t)=>{let r=[];e.subscribe((0,Nn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function FD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xn((i,a)=>n(i,a,r)):hc.y,Sv(1),t?gc(e):OD(()=>new Ns))}function LD(n){return(0,Tt.U)(()=>n)}function Qp(n){return(0,Ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Nt="primary",Yo=Symbol("RouteTitle");class Av{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qo(n){return new Av(n)}function xv(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],f=n[a];if(l.startsWith(":"))i[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ms(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Mv(n[i],e[i]))return!1;return!0}function Mv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Nv(n){return Array.prototype.concat.apply([],n)}function Jp(n){return n.length>0?n[n.length-1]:null}function xr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function co(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,or.D)(Promise.resolve(n)):pt(n)}const xd=!1,Ov={exact:function Md(n,e,t){if(!Jo(n.segments,e.segments)||!lo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Md(n.children[r],e.children[r],t))return!1;return!0},subset:Nd},Rv={exact:function ci(n,e){return ms(n,e)},subset:function Fv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Mv(n[t],e[t]))},ignored:()=>!0};function kv(n,e,t){return Ov[t.paths](n.root,e.root,t.matrixParams)&&Rv[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Nd(n,e,t){return Mr(n,e,e.segments,t)}function Mr(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Jo(i,t)||e.hasChildren()||!lo(i,t,r))}if(n.segments.length===t.length){if(!Jo(n.segments,t)||!lo(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Nd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Jo(n.segments,i)&&lo(n.segments,i,r)&&n.children[Nt])&&Mr(n.children[Nt],e,a,r)}}function lo(n,e,t){return e.every((r,i)=>Rv[t](n[i].parameters,r.parameters))}class Rs{constructor(e=new $t([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return UD.serialize(this)}}class $t{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Od(this)}}class mc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qo(this.parameters)),this._parameterMap}toString(){return Ud(this)}}function Jo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Pd},providedIn:"root"}),n})();class Pd{parse(e){const t=new jD(e);return new Rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Xo(e.root,!0)}`,r=function za(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kd(t)}=${kd(i)}`).join("&"):`${kd(t)}=${kd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _c(n){return encodeURI(n)}(e.fragment)}`:""}`}}const UD=new Pd;function Od(n){return n.segments.map(e=>Ud(e)).join("/")}function Xo(n,e){if(!n.hasChildren())return Od(n);if(e){const t=n.children[Nt]?Xo(n.children[Nt],!1):"",r=[];return xr(n.children,(i,a)=>{a!==Nt&&r.push(`${a}:${Xo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Uv(n,e){let t=[];return xr(n.children,(r,i)=>{i===Nt&&(t=t.concat(e(r,i)))}),xr(n.children,(r,i)=>{i!==Nt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Nt?[Xo(n.children[Nt],!1)]:[`${i}:${Xo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Nt]?`${Od(n)}/${t[0]}`:`${Od(n)}/(${t.join("//")})`}}function Rd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kd(n){return Rd(n).replace(/%3B/gi,";")}function Xp(n){return Rd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fd(n){return decodeURIComponent(n)}function Ld(n){return Fd(n.replace(/\+/g,"%20"))}function Ud(n){return`${Xp(n.path)}${function Vv(n){return Object.keys(n).map(e=>`;${Xp(e)}=${Xp(n[e])}`).join("")}(n.parameters)}`}const eg=/^[^\/()?;=#]+/;function vc(n){const e=n.match(eg);return e?e[0]:""}const VD=/^[^=?&#]+/,BD=/^[^&#]+/;class jD{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Nt]=new $t(e,t)),r}parseSegment(){const e=vc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,xd);return this.capture(e),new mc(Fd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vc(this.remaining);i&&(r=i,this.capture(r))}e[Fd(t)]=Fd(r)}parseQueryParam(e){const t=function tg(n){const e=n.match(VD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function $D(n){const e=n.match(BD);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Ld(t),a=Ld(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,xd);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Nt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Nt]:new $t([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,xd)}}function ng(n){return n.segments.length>0?new $t([],{[Nt]:n}):n}function Vd(n){const e={};for(const r of Object.keys(n.children)){const a=Vd(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function GD(n){if(1===n.numberOfChildren&&n.children[Nt]){const e=n.children[Nt];return new $t(n.segments.concat(e.segments),e.children)}return n}(new $t(n.segments,e))}function ho(n){return n instanceof Rs}const Cc=!1;function zD(n,e,t,r,i){if(0===t.length)return Pi(e.root,e.root,e.root,r,i);const a=function $v(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ig(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return xr(a.outlets,(m,_)=>{f[_]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new ig(t,e,r)}(t);return a.toRoot()?Pi(e.root,e.root,new $t([],{}),r,i):function l(m){const _=function qD(n,e,t,r){if(n.isAbsolute)return new wc(e.root,!0,0);if(-1===r)return new wc(t,t===e.root,0);return function sg(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,Cc&&"Invalid number of '../'");i=r.segments.length}return new wc(r,!1,i-a)}(t,r+(qa(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),C=_.processChildren?fo(_.segmentGroup,_.index,a.commands):jd(_.segmentGroup,_.index,a.commands);return Pi(e.root,_.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function qa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Za(n){return"object"==typeof n&&null!=n&&n.outlets}function Pi(n,e,t,r,i){let l,a={};r&&xr(r,(m,_)=>{a[_]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),l=n===e?t:rg(n,e,t);const f=ng(Vd(l));return new Rs(f,a,i)}function rg(n,e,t){const r={};return xr(n.children,(i,a)=>{r[a]=i===e?t:rg(i,e,t)}),new $t(n.segments,r)}class ig{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qa(r[0]))throw new c.vHH(4003,Cc&&"Root segment cannot have matrix parameters");const i=r.find(Za);if(i&&i!==Jp(r))throw new c.vHH(4004,Cc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function jd(n,e,t){if(n||(n=new $t([],{})),0===n.segments.length&&n.hasChildren())return fo(n,e,t);const r=function Gv(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],f=t[r];if(Za(f))break;const m=`${f}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!Hd(m,_,l))return a;r+=2}else{if(!Hd(m,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new $t(n.segments.slice(0,r.pathIndex),{});return a.children[Nt]=new $t(n.segments.slice(r.pathIndex),n.children),fo(a,0,i)}return r.match&&0===i.length?new $t(n.segments,{}):r.match&&!n.hasChildren()?Wa(n,e,t):r.match?fo(n,0,i):Wa(n,e,t)}function fo(n,e,t){if(0===t.length)return new $t(n.segments,{});{const r=function jv(n){return Za(n[0])?n[0].outlets:{[Nt]:n}}(t),i={};if(!r[Nt]&&n.children[Nt]&&1===n.numberOfChildren&&0===n.children[Nt].segments.length){const a=fo(n.children[Nt],e,t);return new $t(n.segments,a.children)}return xr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=jd(n.children[l],e,a))}),xr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new $t(n.segments,i)}}function Wa(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Za(a)){const m=Gd(a.outlets);return new $t(r,m)}if(0===i&&qa(t[0])){r.push(new mc(n.segments[e].path,og(t[0]))),i++;continue}const l=Za(a)?a.outlets[Nt]:`${a}`,f=i<t.length-1?t[i+1]:null;l&&f&&qa(f)?(r.push(new mc(l,og(f))),i+=2):(r.push(new mc(l,{})),i++)}return new $t(r,{})}function Gd(n){const e={};return xr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wa(new $t([],{}),0,t))}),e}function og(n){const e={};return xr(n,(t,r)=>e[r]=`${t}`),e}function Hd(n,e,t){return n==t.path&&ms(e,t.parameters)}const ea="imperative";class Oi{constructor(e,t){this.id=e,this.url=t}}class ta extends Oi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class na extends Oi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ec extends Oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zd extends Oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ag extends Oi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZD extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hv extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zv extends Oi{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qd extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ug extends Oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ka{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mM{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YD{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zd{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let cg=(()=>{class n{createUrlTree(t,r,i,a,l,f){return zD(t||r.root,i,a,l,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return cg.\u0275fac(e)},providedIn:"root"}),n})();class lg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dg(e,this._root).map(t=>t.value)}}function Kd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kd(n,t);if(r)return r}return null}function dg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=dg(n,t);if(r.length)return r.unshift(e),r}return[]}class ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Yv extends lg{constructor(e,t){super(e),this.snapshot=t,Xv(this,e)}toString(){return this.snapshot.toString()}}function Qv(n,e){const t=function po(n,e){const l=new hg([],{},{},"",{},Nt,e,null,n.root,-1,{});return new QD("",new ks(l,[]))}(n,e),r=new Wt([new mc("",{})]),i=new Wt({}),a=new Wt({}),l=new Wt({}),f=new Wt(""),m=new qi(r,i,l,f,a,Nt,e,t.root);return m.snapshot=t.root,new Yv(new ks(m,[]),t)}class qi{constructor(e,t,r,i,a,l,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.title=this.data?.pipe((0,Tt.U)(_=>_[Yo]))??pt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Qo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Qo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function yM(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hg{get title(){return this.data?.[Yo]}constructor(e,t,r,i,a,l,f,m,_,C,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=f,this.routeConfig=m,this._urlSegment=_,this._lastPathIndex=C,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class QD extends lg{constructor(e,t){super(t),this.url=e,Xv(this,t)}toString(){return JD(this._root)}}function Xv(n,e){e.value._routerState=n,e.children.forEach(t=>Xv(n,t))}function JD(n){const e=n.children.length>0?` { ${n.children.map(JD).join(", ")} } `:"";return`${n.value}${e}`}function Yd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ms(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ms(e.params,t.params)||n.params.next(t.params),function gs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ms(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ms(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function fg(n,e){const t=ms(n.params,e.params)&&function Lv(n,e){return Jo(n,e)&&n.every((t,r)=>ms(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||fg(n.parent,e.parent))}function Ic(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function eb(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ic(n,r,i);return Ic(n,r)})}(n,e,t);return new ks(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>Ic(n,f)),l}}const r=function pg(n){return new qi(new Wt(n.url),new Wt(n.params),new Wt(n.queryParams),new Wt(n.fragment),new Wt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ic(n,a));return new ks(r,i)}}const Zi="ngNavigationCancelingError";function Qa(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gg(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function gg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Zi]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mg(n){return yg(n)&&ho(n.url)}function yg(n){return n&&n[Zi]}class _M{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Qd,this.attachRef=null}}let Qd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _M,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _g=!1;let ra=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Nt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Qd),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,_g);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,_g);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,_g);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,_g);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new vg(t,f,i.injector);if(r&&function vM(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(l);this.activated=i.createComponent(_,i.length,m)}else this.activated=i.createComponent(l,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class vg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===qi?this.route:e===Qd?this.childContexts:this.parent.get(e,t)}}let Cg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[ra],encapsulation:2}),n})();function wg(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ig(n){const e=n.children&&n.children.map(Ig),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Nt&&(t.component=Cg),t}function on(n){return n.outlet||Nt}function Dg(n,e){const t=n.filter(r=>on(r)===e);return t.push(...n.filter(r=>on(r)!==e)),t}function Dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class t0{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),xr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ya(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ya(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ya(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Zd(a.value.snapshot))}),e.children.length&&this.forwardEvent(new mM(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Yd(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),Yd(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=Dc(i.snapshot),m=f?.get(c._Vd)??null;l.attachRef=null,l.route=i,l.resolver=m,l.injector=f,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class n0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class eh{constructor(e,t){this.component=e,this.route=t}}function nb(n,e,t){const r=n._root;return th(r,e?e._root:null,t,[r.value])}function ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function th(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ya(e);return n.children.forEach(l=>{(function DM(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const m=function bc(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Jo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,e.url)||!ms(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fg(n,e)||!ms(n.queryParams,e.queryParams);default:return!fg(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new n0(r)):(a.data=l.data,a._resolvedData=l._resolvedData),th(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new eh(f.outlet.component,l))}else l&&sa(e,f,i),i.canActivateChecks.push(new n0(r)),th(n,null,a.component?f?f.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),xr(a,(l,f)=>sa(l,t.getContext(f),i)),i}function sa(n,e,t){const r=Ya(n),i=n.value;xr(r,(a,l)=>{sa(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new eh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ja(n){return"function"==typeof n}function Tc(n){return n instanceof Ns||"EmptyError"===n?.name}const nh=Symbol("INITIAL_VALUE");function go(){return ei(n=>Zo(n.map(e=>e.pipe(Pn(1),Tv(nh)))).pipe((0,Tt.U)(e=>{for(const t of e)if(!0!==t){if(t===nh)return nh;if(!1===t||t instanceof Rs)return t}return!0}),xn(e=>e!==nh),Pn(1)))}function mo(n){return(0,ND.z)((0,ti.b)(e=>{if(ho(e))throw Qa(0,e)}),(0,Tt.U)(e=>!0===e))}const Sc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h0(n,e,t,r,i){const a=Sg(n,e,t);return a.matched?function d0(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pt(i.map(l=>{const f=ia(l,n);return co(function a0(n){return n&&Ja(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(go(),mo()):pt(!0)}(r=wg(e,r),e,t).pipe((0,Tt.U)(l=>!0===l?a:{...Sc})):pt(a)}function Sg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Sc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xv)(t,n,e);if(!i)return{...Sc};const a={};xr(i.posParams,(f,m)=>{a[m]=f.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Ac(n,e,t,r){if(t.length>0&&function ub(n,e,t){return t.some(r=>eu(n,e,r)&&on(r)!==Nt)}(n,t,r)){const a=new $t(e,function ab(n,e,t,r){const i={};i[Nt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&on(a)!==Nt){const l=new $t([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[on(a)]=l}return i}(n,e,r,new $t(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function cb(n,e,t){return t.some(r=>eu(n,e,r))}(n,t,r)){const a=new $t(n.segments,function Xa(n,e,t,r,i){const a={};for(const l of r)if(eu(n,t,l)&&!i[on(l)]){const f=new $t([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[on(l)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new $t(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function eu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function f0(n,e,t,r){return!!(on(n)===r||r!==Nt&&eu(e,t,n))&&("**"===n.path||Sg(e,n,t).matched)}function Ag(n,e,t){return 0===e.length&&!n.children[t]}const sh=!1;class xc{constructor(e){this.segmentGroup=e||null}}class lb{constructor(e){this.urlTree=e}}function Mc(n){return Ha(new xc(n))}function tu(n){return Ha(new lb(n))}class hb{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Ac(this.urlTree.root,[],[],this.config).segmentGroup,t=new $t(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Nt).pipe((0,Tt.U)(a=>this.createUrlTree(Vd(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ko(a=>{if(a instanceof lb)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof xc?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Nt).pipe((0,Tt.U)(i=>this.createUrlTree(Vd(i),e.queryParams,e.fragment))).pipe(Ko(i=>{throw i instanceof xc?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,sh)}createUrlTree(e,t,r){const i=ng(e);return new Rs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(a=>new $t([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,or.D)(i).pipe(Os(a=>{const l=r.children[a],f=Dg(t,a);return this.expandSegmentGroup(e,f,l,a).pipe((0,Tt.U)(m=>({segment:m,outlet:a})))}),kD((a,l)=>(a[l.outlet]=l.segment,a),{}),FD())}expandSegment(e,t,r,i,a,l){return(0,or.D)(r).pipe(Os(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,l).pipe(Ko(_=>{if(_ instanceof xc)return pt(null);throw _}))),uo(f=>!!f),Ko((f,m)=>{if(Tc(f))return Ag(t,i,a)?pt(new $t([],{})):Mc(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,l,f){return f0(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Mc(t):Mc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tu(a):this.lineralizeSegments(r,a).pipe((0,Hr.z)(l=>{const f=new $t(l,{});return this.expandSegment(e,f,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:f,consumedSegments:m,remainingSegments:_,positionalParamSegments:C}=Sg(t,i,a);if(!f)return Mc(t);const E=this.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?tu(E):this.lineralizeSegments(i,E).pipe((0,Hr.z)(N=>this.expandSegment(e,t,r,N.concat(_),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=wg(r,e),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Tt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new $t(i,{})))):pt(new $t(i,{}))):h0(t,r,i,e).pipe(ei(({matched:l,consumedSegments:f,remainingSegments:m})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Hr.z)(C=>{const E=C.injector??e,N=C.routes,{segmentGroup:U,slicedSegments:Q}=Ac(t,f,m,N),Ee=new $t(U.segments,U.children);if(0===Q.length&&Ee.hasChildren())return this.expandChildren(E,N,Ee).pipe((0,Tt.U)(Ft=>new $t(f,Ft)));if(0===N.length&&0===Q.length)return pt(new $t(f,{}));const xe=on(r)===a;return this.expandSegment(E,Ee,N,Q,xe?Nt:a,!0).pipe((0,Tt.U)(Mt=>new $t(f.concat(Mt.segments),Mt.children)))})):Mc(t)))}getChildConfig(e,t,r){return t.children?pt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pt({routes:t._loadedRoutes,injector:t._loadedInjector}):function ih(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pt(!0):pt(i.map(l=>{const f=ia(l,n);return co(function s0(n){return n&&Ja(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(go(),mo())}(e,t,r).pipe((0,Hr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ti.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function nu(n){return Ha(gg(sh,3))}())):pt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[Nt])return e.redirectTo,Ha(new c.vHH(4e3,sh));i=i.children[Nt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Rs(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return xr(t.children,(f,m)=>{l[m]=this.createSegmentGroup(e,f,r,i)}),new $t(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,sh);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class fb{}class y0{constructor(e,t,r,i,a,l,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=f}recognize(){const e=Ac(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Nt).pipe((0,Tt.U)(t=>{if(null===t)return null;const r=new hg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ks(r,t),a=new QD(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Jv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,or.D)(Object.keys(r.children)).pipe(Os(i=>{const a=r.children[i],l=Dg(t,i);return this.processSegmentGroup(e,l,a,i)}),kD((i,a)=>i&&a?(i.push(...a),i):null),function gM(n,e=!1){return(0,Ar.e)((t,r)=>{let i=0;t.subscribe((0,Nn.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),gc(null),FD(),(0,Tt.U)(i=>{if(null===i)return null;const a=oh(i);return function xg(n){n.sort((e,t)=>e.value.outlet===Nt?-1:t.value.outlet===Nt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,or.D)(t).pipe(Os(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),uo(l=>!!l),Ko(l=>{if(Tc(l))return Ag(r,i,a)?pt([]):pt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!f0(t,r,i,a))return pt(null);let l;if("**"===t.path){const f=i.length>0?Jp(i).parameters:{},m=v0(r)+i.length;l=pt({snapshot:new hg(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,C0(t),on(t),t.component??t._loadedComponent??null,t,_0(r),m,w0(t)),consumedSegments:[],remainingSegments:[]})}else l=h0(r,t,i,e).pipe((0,Tt.U)(({matched:f,consumedSegments:m,remainingSegments:_,parameters:C})=>{if(!f)return null;const E=v0(r)+m.length;return{snapshot:new hg(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,C0(t),on(t),t.component??t._loadedComponent??null,t,_0(r),E,w0(t)),consumedSegments:m,remainingSegments:_}}));return l.pipe(ei(f=>{if(null===f)return pt(null);const{snapshot:m,consumedSegments:_,remainingSegments:C}=f;e=t._injector??e;const E=t._loadedInjector??e,N=function Mg(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:Q}=Ac(r,_,C,N.filter(xe=>void 0===xe.redirectTo));if(0===Q.length&&U.hasChildren())return this.processChildren(E,N,U).pipe((0,Tt.U)(xe=>null===xe?null:[new ks(m,xe)]));if(0===N.length&&0===Q.length)return pt([new ks(m,[])]);const Ee=on(t)===a;return this.processSegment(E,N,U,Q,Ee?Nt:a).pipe((0,Tt.U)(xe=>null===xe?null:[new ks(m,xe)]))}))}}function gb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oh(n){const e=[],t=new Set;for(const r of n){if(!gb(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oh(r.children);e.push(new ks(r.value,i))}return e.filter(r=>!t.has(r))}function _0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function v0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function C0(n){return n.data||{}}function w0(n){return n.resolve||{}}function Cb(n){return"string"==typeof n.title||null===n.title}function E0(n){return ei(e=>{const t=n(e);return t?(0,or.D)(t).pipe((0,Tt.U)(()=>e)):pt(e)})}const Oc=new c.OlP("ROUTES");let ah=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=co(t.loadComponent()).pipe((0,Tt.U)(D0),(0,ti.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Qp(()=>{this.componentLoaders.delete(t)})),i=new bv(r,()=>new so.x).pipe(Kp());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Tt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,_,C=!1;Array.isArray(f)?_=f:(m=f.create(t).injector,_=Nv(m.get(Oc,[],c.XFs.Self|c.XFs.Optional)));return{routes:_.map(Ig),injector:m}}),Qp(()=>{this.childrenLoaders.delete(r)})),l=new bv(a,()=>new so.x).pipe(Kp());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return co(t()).pipe((0,Tt.U)(D0),(0,Hr.z)(r=>r instanceof c.YKP||Array.isArray(r)?pt(r):(0,or.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function D0(n){return function I0(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let uh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new so.x,this.configLoader=(0,c.f3M)(ah),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(yc),this.rootContexts=(0,c.f3M)(Qd),this.navigationId=0,this.afterPreactivation=()=>pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new WD(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ka(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Wt({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ea,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(r=>0!==r.id),(0,Tt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ei(r=>{let i=!1,a=!1;return pt(r).pipe((0,ti.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ei(l=>{const f=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new zd(l.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ao.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return b0(l.source)&&(t.browserUrlTree=l.extractedUrl),pt(l).pipe(ei(C=>{const E=this.transitions?.getValue();return this.events.next(new ta(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),E!==this.transitions?.getValue()?ao.E:Promise.resolve(C)}),function p0(n,e,t,r){return ei(i=>function Nc(n,e,t,r,i){return new hb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Tt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ti.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function mb(n,e,t,r,i){return(0,Hr.z)(a=>function m0(n,e,t,r,i,a,l="emptyOnly"){return new y0(n,e,t,r,i,l,a).recognize().pipe(ei(f=>null===f?function pb(n){return new Ps.y(e=>e.error(n))}(new fb):pt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,Tt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ti.b)(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(N,C)}t.browserUrlTree=C.urlAfterRedirects}const E=new ZD(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(E)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:E,source:N,restoredState:U,extras:Q}=l,Ee=new ta(C,this.urlSerializer.serialize(E),N,U);this.events.next(Ee);const xe=Qv(E,this.rootComponentType).snapshot;return pt(r={...l,targetSnapshot:xe,urlAfterRedirects:E,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new zd(l.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ao.E}}),(0,ti.b)(l=>{const f=new Hv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),(0,Tt.U)(l=>r={...l,guards:nb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function c0(n,e){return(0,Hr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?pt({...t,guardsResult:!0}):function l0(n,e,t,r){return(0,or.D)(n).pipe((0,Hr.z)(i=>function Tg(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?pt(a.map(f=>{const m=Dc(e)??i,_=ia(f,m);return co(function o0(n){return n&&Ja(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):m.runInContext(()=>_(n,e,t,r))).pipe(uo())})).pipe(go()):pt(!0)}(i.component,i.route,t,e,r)),uo(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Hr.z)(f=>f&&function r0(n){return"boolean"==typeof n}(f)?function oa(n,e,t,r){return(0,or.D)(e).pipe(Os(i=>Wp(function bg(n,e){return null!==n&&e&&e(new KD(n)),pt(!0)}(i.route.parent,r),function sb(n,e){return null!==n&&e&&e(new YD(n)),pt(!0)}(i.route,r),function ob(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function rb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Wo(()=>pt(l.guards.map(m=>{const _=Dc(l.node)??t,C=ia(m,_);return co(function ib(n){return n&&Ja(n.canActivateChild)}(C)?C.canActivateChild(r,n):_.runInContext(()=>C(r,n))).pipe(uo())})).pipe(go())));return pt(a).pipe(go())}(n,i.path,t),function rh(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(a=>Wo(()=>{const l=Dc(e)??t,f=ia(a,l);return co(function bM(n){return n&&Ja(n.canActivate)}(f)?f.canActivate(e,n):l.runInContext(()=>f(e,n))).pipe(uo())}));return pt(i).pipe(go())}(n,i.route,t))),uo(i=>!0!==i,!0))}(r,a,n,e):pt(f)),(0,Tt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ti.b)(l=>{if(r.guardsResult=l.guardsResult,ho(l.guardsResult))throw Qa(0,l.guardsResult);const f=new zv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),xn(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),E0(l=>{if(l.guards.canActivateChecks.length)return pt(l).pipe((0,ti.b)(f=>{const m=new qd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),ei(f=>{let m=!1;return pt(f).pipe(function yb(n,e){return(0,Hr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let a=0;return(0,or.D)(i).pipe(Os(l=>function ru(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Cb(i)&&(a[Yo]=i.title),function Fs(n,e,t,r){const i=function _b(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pt({});const a={};return(0,or.D)(i).pipe((0,Hr.z)(l=>function vb(n,e,t,r){const i=Dc(e)??r,a=ia(n,i);return co(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(uo(),(0,ti.b)(f=>{a[l]=f}))),Sv(1),LD(a),Ko(l=>Tc(l)?ao.E:Ha(l)))}(a,n,e,r).pipe((0,Tt.U)(l=>(n._resolvedData=l,n.data=Jv(n,t).resolve,i&&Cb(i)&&(n.data[Yo]=i.title),null)))}(l.route,r,n,e)),(0,ti.b)(()=>a++),Sv(1),(0,Hr.z)(l=>a===i.length?pt(t):ao.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ti.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ti.b)(f=>{const m=new ug(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),E0(l=>{const f=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,ti.b)(C=>{m.component=C}),(0,Tt.U)(()=>{})));for(const C of m.children)_.push(...f(C));return _};return Zo(f(l.targetSnapshot.root)).pipe(gc(),Pn(1))}),E0(()=>this.afterPreactivation()),(0,Tt.U)(l=>{const f=function XD(n,e,t){const r=Ic(n,e._root,t?t._root:void 0);return new Yv(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:f}}),(0,ti.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new t0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),Pn(1),(0,ti.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new na(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),Qp(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ko(l=>{if(a=!0,yg(l)){mg(l)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Ec(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(f),mg(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||b0(r.source)};t.scheduleNavigation(m,ea,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new ag(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(l))}catch(m){r.reject(m)}}return ao.E}))}))}cancelNavigationTransition(t,r,i){const a=new Ec(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b0(n){return n!==ea}let Ri=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Nt);return r}getResolvedTitleForRoute(t){return t.data[Yo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(wb)},providedIn:"root"}),n})(),wb=(()=>{class n extends Ri{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(io))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ib)},providedIn:"root"}),n})();class Eb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Ib=(()=>{class n extends Eb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ch=new c.OlP("",{providedIn:"root",factory:()=>({})});let S0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(bb)},providedIn:"root"}),n})(),bb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tb(n){throw n}function Pt(n,e,t){return e.parse("/")}const A0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},x0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(ch,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Tb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(S0),this.routeReuseStrategy=(0,c.f3M)(T0),this.urlCreationStrategy=(0,c.f3M)(Kv),this.titleStrategy=(0,c.f3M)(Ri),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nv((0,c.f3M)(Oc,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(uh),this.urlSerializer=(0,c.f3M)(yc),this.location=(0,c.f3M)(Gt),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ea,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ig),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:f,preserveFragment:m}=r,_=m?this.currentUrlTree.fragment:l;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ho(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,ea,null,r)}navigate(t,r={skipLocationChange:!1}){return function Sb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...A0}:!1===r?{...x0}:r,ho(t))return kv(this.currentUrlTree,t,i);const a=this.parseUrl(t);return kv(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let f,m,_,C;return l?(f=l.resolve,m=l.reject,_=l.promise):_=new Promise((E,N)=>{f=E,m=N}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(E=>Promise.reject(E))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lh=(()=>{class n{constructor(t,r,i,a,l,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new so.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof na&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mn),c.Y36(qi),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(et))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Og=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,a,l){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof na&&this.update()})}ngAfterContentInit(){pt(this.links.changes,pt(null)).pipe((0,Ga.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,or.D)(t).pipe((0,Ga.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Ab(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mn),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(lh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,lh,5),2&t){let a;c.iGM(a=c.CRH())&&(r.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),n})();class Rg{}let MM=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(xn(t=>t instanceof na),Os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,f=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,or.D)(i).pipe((0,Ga.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pt(null);const a=i.pipe((0,Hr.z)(l=>null===l?pt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,or.D)([a,l]).pipe((0,Ga.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Rg),c.LFG(ah))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dh=new c.OlP("");let kg=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ta?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof na&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var ar=(()=>((ar=ar||{})[ar.COMPLETE=0]="COMPLETE",ar[ar.FAILED=1]="FAILED",ar[ar.REDIRECTING=2]="REDIRECTING",ar))();const yo=!1;function aa(n,e){return{\u0275kind:n,\u0275providers:e}}const P0=new c.OlP("",{providedIn:"root",factory:()=>!1});function Nb(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(mn),i=n.get(O0);1===n.get(_o)&&r.initialNavigation(),n.get(k0,null,c.XFs.Optional)?.setUpPreloading(),n.get(dh,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const O0=new c.OlP(yo?"bootstrap done indicator":"",{factory:()=>new so.x}),_o=new c.OlP(yo?"initial navigation":"",{providedIn:"root",factory:()=>1});function hh(){let n=[];return n=yo?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(mn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Zv(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],aa(1,n)}const k0=new c.OlP(yo?"router preloader":"");function F0(n){return aa(0,[{provide:k0,useExisting:MM},{provide:Rg,useExisting:n}])}const kc=!1,Fg=new c.OlP(kc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ob=[Gt,{provide:yc,useClass:Pd},mn,Qd,{provide:qi,useFactory:function N0(n){return n.routerState.root},deps:[mn]},ah,kc?{provide:P0,useValue:!0}:[]];function L0(){return new c.PXZ("Router",mn)}let Fc=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ob,kc&&r?.enableTracing?hh().\u0275providers:[],{provide:Oc,multi:!0,useValue:t},{provide:Fg,useFactory:Rb,deps:[[mn,new c.FiY,new c.tp0]]},{provide:ch,useValue:r||{}},r?.useHash?{provide:et,useClass:St}:{provide:et,useClass:We},{provide:dh,useFactory:()=>{const n=(0,c.f3M)(sD),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(ch),r=(0,c.f3M)(uh),i=(0,c.f3M)(yc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new kg(i,r,n,e,t)}},r?.preloadingStrategy?F0(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:L0},r?.initialNavigation?UM(r):[],[{provide:ua,useFactory:Nb},{provide:c.tb,multi:!0,useExisting:ua}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Oc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fg,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Cg]}),n})();function Rb(n){if(kc&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function UM(n){return["disabled"===n.initialNavigation?aa(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(mn);return()=>{e.setUpLocationChangeListener()}}},{provide:_o,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?aa(2,[{provide:_o,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(ge,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(mn),a=e.get(O0);(function xb(n,e){n.events.pipe(xn(t=>t instanceof na||t instanceof Ec||t instanceof ag||t instanceof zd),(0,Tt.U)(t=>t instanceof na||t instanceof zd?ar.COMPLETE:t instanceof Ec&&(0===t.code||1===t.code)?ar.REDIRECTING:ar.FAILED),xn(t=>t!==ar.REDIRECTING),Pn(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(uh).afterPreactivation=()=>(r(!0),a.closed?pt(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const ua=new c.OlP(kc?"Router Initializer":"");let B0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ca=(()=>{class n extends B0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const li=new c.OlP("NgValueAccessor"),iu={provide:li,useExisting:(0,c.Gpc)(()=>Lc),multi:!0};let Lc=(()=>{class n extends ca{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},features:[c._Bn([iu]),c.qOj]}),n})();const Uc={provide:li,useExisting:(0,c.Gpc)(()=>Wi),multi:!0},fh=new c.OlP("CompositionEventMode");let Wi=(()=>{class n extends B0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vg(){const n=J()?J().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(fh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([Uc]),c.qOj]}),n})();const Bg=!1;function ys(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ph(n){return null!=n&&"number"==typeof n.length}const Nr=new c.OlP("NgValidators"),_s=new c.OlP("NgAsyncValidators"),kb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tn{static min(e){return function $g(n){return e=>{if(ys(e.value)||ys(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function $0(n){return e=>{if(ys(e.value)||ys(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function jg(n){return ys(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Gg(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function j0(n){return ys(n.value)||kb.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function G0(n){return e=>ys(e.value)||!ph(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function di(n){return e=>ph(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function H0(n){if(!n)return gh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ys(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return zg(e)}static composeAsync(e){return Z0(e)}}function gh(n){return null}function Fb(n){return null!=n}function mh(n){const e=(0,c.QGY)(n)?(0,or.D)(n):n;if(Bg&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function Hg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function z0(n,e){return e.map(t=>t(n))}function q0(n){return n.map(e=>function Lb(n){return!n.validate}(e)?e:t=>e.validate(t))}function zg(n){if(!n)return null;const e=n.filter(Fb);return 0==e.length?null:function(t){return Hg(z0(t,e))}}function qg(n){return null!=n?zg(q0(n)):null}function Z0(n){if(!n)return null;const e=n.filter(Fb);return 0==e.length?null:function(t){return function V0(...n){const e=(0,dc.jO)(n),{args:t,keys:r}=Dv(n),i=new Ps.y(a=>{const{length:l}=t;if(!l)return void a.complete();const f=new Array(l);let m=l,_=l;for(let C=0;C<l;C++){let E=!1;(0,Ni.Xf)(t[C]).subscribe((0,Nn.x)(a,N=>{E||(E=!0,_--),f[C]=N},()=>m--,void 0,()=>{(!m||!E)&&(_||a.next(r?Zp(r,f):f),a.complete())}))}});return e?i.pipe(qo(e)):i}(z0(t,e).map(mh)).pipe((0,Tt.U)(Hg))}}function Vc(n){return null!=n?Z0(q0(n)):null}function W0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function K0(n){return n._rawValidators}function Y0(n){return n._rawAsyncValidators}function Zg(n){return n?Array.isArray(n)?n:[n]:[]}function yh(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ki(n,e){const t=Zg(e);return Zg(n).forEach(i=>{yh(t,i)||t.push(i)}),t}function _h(n,e){return Zg(e).filter(t=>!yh(n,t))}class Q0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ni extends Q0{get formDirective(){return null}get path(){return null}}class Ls extends Q0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yi=(()=>{class n extends J0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ls,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Us=(()=>{class n extends J0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ni,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function Bc(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const wh=!1,ou="VALID",Eh="INVALID",au="PENDING",Bs="DISABLED";function Kg(n){return(Ih(n)?n.validators:n)||null}function Yg(n,e){return(Ih(e)?e.asyncValidators:n)||null}function Ih(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tC(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,wh?function Ch(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,wh?function $c(n,e){return`Cannot find form control ${Bc(n,e)}`}(e,t):"")}function nC(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,wh?function jb(n,e){return`Must supply a value for form control ${Bc(n,e)}`}(e,i):"")})}class Qg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ou}get invalid(){return this.status===Eh}get pending(){return this.status==au}get disabled(){return this.status===Bs}get enabled(){return this.status!==Bs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ki(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ki(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_h(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_h(e,this._rawAsyncValidators))}hasValidator(e){return yh(this._rawValidators,e)}hasAsyncValidator(e){return yh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bs,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ou,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ou||this.status===au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bs:ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=au,this._hasOwnPendingAsyncValidator=!0;const t=mh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Bs:this.errors?Eh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(au)?au:this._anyControlsHaveStatus(Eh)?Eh:ou}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ih(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function GM(n){return Array.isArray(n)?qg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gb(n){return Array.isArray(n)?Vc(n):n||null}(this._rawAsyncValidators)}}const ki=class Dh extends Qg{constructor(e,t,r){super(Kg(t),Yg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nC(this,!0,e),Object.keys(e).forEach(r=>{tC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},da=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>jc}),jc="always";function bh(n,e){return[...e.path,n]}function Gc(n,e,t=jc){Ah(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qb(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Jg(n,e)})}(n,e),function zM(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function HM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Jg(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Th(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Hc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ah(n,e){const t=K0(n);null!==e.validator?n.setValidators(W0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Y0(n);null!==e.asyncValidator?n.setAsyncValidators(W0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Sh(e._rawValidators,i),Sh(e._rawAsyncValidators,i)}function Hc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=K0(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Y0(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(l=>l!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Sh(e._rawValidators,r),Sh(e._rawAsyncValidators,r),t}function Jg(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function pa(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const js=class extends Qg{constructor(e=null,t,r){super(Kg(t),Yg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ih(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=pa(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){pa(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},On=js;let nm=(()=>{class n extends ni{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return bh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})(),Gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const uC={provide:li,useExisting:(0,c.Gpc)(()=>Mh),multi:!0};let Mh=(()=>{class n extends ca{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([uC]),c.qOj]}),n})(),Nh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const sm=new c.OlP("NgModelWithFormControlWarning"),dC={provide:ni,useExisting:(0,c.Gpc)(()=>Fi)};let Fi=(()=>{class n extends ni{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Gc(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Th(t.control||null,t,!1),function tm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function qc(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Th(r||null,t),(n=>n instanceof js)(i)&&(Gc(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function zc(n,e){Ah(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Zb(n,e){return Hc(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ah(this.form,this),this._oldForm&&Hc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr,10),c.Y36(_s,10),c.Y36(da,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([dC]),c.qOj,c.TTD]}),n})();const om={provide:ni,useExisting:(0,c.Gpc)(()=>ga)};let ga=(()=>{class n extends nm{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){am(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ni,13),c.Y36(Nr,10),c.Y36(_s,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([om]),c.qOj]}),n})();const hC={provide:ni,useExisting:(0,c.Gpc)(()=>Co)};let Co=(()=>{class n extends ni{constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return bh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){am(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ni,13),c.Y36(Nr,10),c.Y36(_s,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([hC]),c.qOj]}),n})();function am(n){return!(n instanceof ga||n instanceof Fi||n instanceof Co)}const Xb={provide:Ls,useExisting:(0,c.Gpc)(()=>Qi)};let Qi=(()=>{class n extends Ls{set isDisabled(t){}constructor(t,r,i,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hi(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Wi?t=a:function ha(n){return Object.getPrototypeOf(n.constructor)===ca}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function _r(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ni,13),c.Y36(Nr,10),c.Y36(_s,10),c.Y36(li,10),c.Y36(sm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Xb]),c.qOj,c.TTD]}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Nh]}),n})();class Lh extends Qg{constructor(e,t,r){super(Kg(t),Yg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nC(this,!1,e),e.forEach((r,i)=>{tC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}let lu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:da,useValue:t.callSetDisabledState??jc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vC]}),n})(),Uh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sm,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:da,useValue:t.callSetDisabledState??jc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vC]}),n})();var At=S(6795),Cs=S(259);class zs{constructor(e){return e}}class du{constructor(){return(0,Cs.C6)()}}const _m=new c.OlP("angularfire2._apps"),ws={provide:zs,useFactory:function dT(n){return n&&1===n.length?n[0]:new zs((0,Cs.Mq)())},deps:[[new c.FiY,_m]]},Ji={provide:du,deps:[[new c.FiY,_m]]};function Xi(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zs(r)}}let CC=(()=>{class n{constructor(t){(0,Cs.KN)("angularfire",At.q4.full,"core"),(0,Cs.KN)("angularfire",At.q4.full,"app"),(0,Cs.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ws,Ji]}),n})();function wC(n,...e){return{ngModule:CC,providers:[{provide:_m,useFactory:Xi(n),multi:!0,deps:[c.R0b,c.zs3,At.HU,...e]}]}}const hT=(0,At.u3)(Cs.ZF,!0);var V=S(5861),Cn=S(9681),hu=S(4859),qe=S(2090),es=S(1877);const fu=new Map,IC={activated:!1,tokenObservers:[]},DC={initialized:!1,enabled:!1};function jn(n){return fu.get(n)||Object.assign({},IC)}function ma(){return DC}const Jc="https://content-firebaseappcheck.googleapis.com/v1",SC="exchangeDebugToken",Cm={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,V.Z)(function*(){t.stop();try{t.pending=new qe.BH,yield function MC(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pr=new qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Em(n,e){return Im.apply(this,arguments)}function Im(){return(Im=(0,V.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const E=yield i.getHeartbeatsHeader();E&&(r["X-Firebase-Client"]=E)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,f;try{l=yield fetch(n,a)}catch(E){throw Pr.create("fetch-network-error",{originalErrorMessage:E?.message})}if(200!==l.status)throw Pr.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(E){throw Pr.create("fetch-parse-error",{originalErrorMessage:E?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Pr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+_,issuedAtTimeMillis:C}})).apply(this,arguments)}const yT="firebase-app-check-database",_T=1,Xc="firebase-app-check-store";let jh=null;function Dm(n,e){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,V.Z)(function*(n,e){const r=(yield function OC(){return jh||(jh=new Promise((n,e)=>{try{const t=indexedDB.open(yT,_T);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Xc,{keyPath:"compositeKey"})}}catch(t){e(Pr.create("storage-open",{originalErrorMessage:t?.message}))}}),jh)}()).transaction(Xc,"readwrite"),a=r.objectStore(Xc).put({compositeKey:n,value:e});return new Promise((l,f)=>{a.onsuccess=m=>{l()},r.onerror=m=>{var _;f(Pr.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const pu=new es.Yd("@firebase/app-check");function Zs(n,e){return(0,qe.hl)()?function RC(n,e){return Dm(function Tm(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wT(){return el.apply(this,arguments)}function el(){return(el=(0,V.Z)(function*(){const n=ma();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const UC={error:"UNKNOWN_ERROR"};function VC(n){return qe.US.encodeString(JSON.stringify(n),!1)}function Am(n){return mt.apply(this,arguments)}function mt(){return(mt=(0,V.Z)(function*(n,e=!1){const t=n.app;!function NC(n){if(!jn(n).activated)throw Pr.create("use-before-activation",{appName:n.name})}(t);const r=jn(t);let a,i=r.token;if(i&&!Ws(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(Ws(m)?i=m:yield Zs(t,void 0))}if(!e&&i&&Ws(i))return{token:i.token};let f,l=!1;if(function ya(){return ma().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Em(function mT(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Jc}/projects/${t}/apps/${r}:${SC}?key=${i}`,body:{debug_token:e}}}(t,yield wT()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield Zs(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield jn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?pu.warn(m.message):pu.error(m),a=m}return i?a?f=Ws(i)?{token:i.token,internalError:a}:tl(a):(f={token:i.token},r.token=i,yield Zs(t,i)):f=tl(a),l&&function $C(n,e){const t=jn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function Mm(n,e){const t=jn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function BC(n){const{app:e}=n,t=jn(e);let r=t.tokenRefresher;r||(r=function gu(n){const{app:e}=n;return new xC((0,V.Z)(function*(){let r;if(r=jn(e).token?yield Am(n,!0):yield Am(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Cm.RETRIAL_MIN_WAIT,Cm.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ws(n){return n.expireTimeMillis-Date.now()>0}function tl(n){return{token:VC(UC),error:n}}class Gn{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=jn(this.app);for(const t of e)Mm(this.app,t.next);return Promise.resolve()}}const km="app-check-internal";!function ST(){(0,Cn._registerComponent)(new hu.wA("app-check",n=>function rN(n,e){return new Gn(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(km).initialize()})),(0,Cn._registerComponent)(new hu.wA(km,n=>function jC(n){return{getToken:e=>Am(n,e),addTokenListener:e=>function xm(n,e,t,r){const{app:i}=n,a=jn(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Ws(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),BC(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>BC(n))}(n,"INTERNAL",e),removeTokenListener:e=>Mm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cn.registerVersion)("@firebase/app-check","0.6.5")}();class Wh{constructor(){return(0,At.vb)("app-check")}}typeof window<"u"&&window;var Um=S(655);const RT=function XC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vm=new qe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mu=new es.Yd("@firebase/auth");function sl(n,...e){mu.logLevel<=es.in.ERROR&&mu.error(`Auth (${Cn.SDK_VERSION}): ${n}`,...e)}function ri(n,...e){throw ol(n,...e)}function Es(n,...e){return ol(n,...e)}function ol(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Vm.create(n,...e)}function Fe(n,e,...t){if(!n)throw ol(e,...t)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sl(e),new Error(e)}function Io(n,e){n||ts(e)}function al(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function tw(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ul{constructor(e,t){this.shortDelay=e,this.longDelay=t,Io(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,qe.uI)()||(0,qe.b$)()}get(){return function FT(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Bm(){return"http:"===tw()||"https:"===tw()}()||(0,qe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $m(n,e){Io(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class jm{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},UT=new ul(3e4,6e4);function Rn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kn(n,e,t,r){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,V.Z)(function*(n,e,t,r,i={}){return rw(n,i,(0,V.Z)(function*(){let a={},l={};r&&("GET"===e?l=r:a={body:JSON.stringify(r)});const f=(0,qe.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),jm.fetch()(zm(n,n.config.apiHost,t,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function rw(n,e,t){return Hm.apply(this,arguments)}function Hm(){return(Hm=(0,V.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},nw),e);try{const i=new qm(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield a.json();if("needConfirmation"in l)throw ll(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const f=a.ok?l.errorMessage:l.error.message,[m,_]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw ll(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===m)throw ll(n,"email-already-in-use",l);if("USER_DISABLED"===m)throw ll(n,"user-disabled",l);const C=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw function ew(n,e,t){const r=Object.assign(Object.assign({},RT()),{[e]:t});return new qe.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,C,_);ri(n,C)}}catch(i){if(i instanceof qe.ZR)throw i;ri(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ns(n,e,t,r){return cl.apply(this,arguments)}function cl(){return(cl=(0,V.Z)(function*(n,e,t,r,i={}){const a=yield kn(n,e,t,r,i);return"mfaPendingCredential"in a&&ri(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function zm(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?$m(n.config,i):`${n.config.apiScheme}://${i}`}class qm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Es(this.auth,"network-request-failed")),UT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ll(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Es(n,e,r);return i.customData._tokenResponse=t,i}function dl(){return(dl=(0,V.Z)(function*(n,e){return kn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Jh(){return(Jh=(0,V.Z)(function*(n,e){return kn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fl(){return(fl=(0,V.Z)(function*(n,e=!1){const t=(0,qe.m9)(n),r=yield t.getIdToken(e),i=vu(r);Fe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:hl(Zm(i.auth_time)),issuedAtTime:hl(Zm(i.iat)),expirationTime:hl(Zm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Zm(n){return 1e3*Number(n)}function vu(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,qe.tV)(t);return i?JSON.parse(i):(sl("Failed to decode base64 JWT payload"),null)}catch(i){return sl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Is(n,e){return pl.apply(this,arguments)}function pl(){return(pl=(0,V.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof qe.ZR&&function sw({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ow{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,V.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,V.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cu(n){return Km.apply(this,arguments)}function Km(){return Km=(0,V.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Is(n,function _u(n,e){return Jh.apply(this,arguments)}(t,{idToken:r}));Fe(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?function aw(n){return n.map(e=>{var{providerId:t}=e,r=(0,Um._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(a.providerUserInfo):[],f=function GT(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),C=!!n.isAnonymous&&!(n.email&&a.passwordHash||f?.length),E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Wm(a.createdAt,a.lastLoginAt),isAnonymous:C};Object.assign(n,E)}),Km.apply(this,arguments)}function Ym(){return(Ym=(0,V.Z)(function*(n){const e=(0,qe.m9)(n);yield Cu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Xh(){return(Xh=(0,V.Z)(function*(n,e){const t=yield rw(n,{},(0,V.Z)(function*(){const r=(0,qe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=zm(n,i,"/v1/token",`key=${a}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",jm.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $T(n){const e=vu(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,V.Z)(function*(){return Fe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,V.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:l}=yield function mN(n,e){return Xh.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new gl;return r&&(Fe("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(Fe("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),a&&(Fe("number"==typeof a,"internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Do(n,e){Fe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class wu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,Um._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wm(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,V.Z)(function*(){const r=yield Is(t,t.stsTokenManager.getToken(t.auth,e));return Fe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function iw(n){return fl.apply(this,arguments)}(this,e)}reload(){return function jT(n){return Ym.apply(this,arguments)}(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,V.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Cu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,V.Z)(function*(){const t=yield e.getIdToken();return yield Is(e,function VT(n,e){return dl.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,f,m,_,C;const E=null!==(r=t.displayName)&&void 0!==r?r:void 0,N=null!==(i=t.email)&&void 0!==i?i:void 0,U=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,Q=null!==(l=t.photoURL)&&void 0!==l?l:void 0,Ee=null!==(f=t.tenantId)&&void 0!==f?f:void 0,xe=null!==(m=t._redirectEventId)&&void 0!==m?m:void 0,Dt=null!==(_=t.createdAt)&&void 0!==_?_:void 0,Mt=null!==(C=t.lastLoginAt)&&void 0!==C?C:void 0,{uid:Ft,emailVerified:fr,isAnonymous:Sn,providerData:En,stsTokenManager:yi}=t;Fe(Ft&&yi,e,"internal-error");const ko=gl.fromJSON(this.name,yi);Fe("string"==typeof Ft,e,"internal-error"),Do(E,e.name),Do(N,e.name),Fe("boolean"==typeof fr,e,"internal-error"),Fe("boolean"==typeof Sn,e,"internal-error"),Do(U,e.name),Do(Q,e.name),Do(Ee,e.name),Do(xe,e.name),Do(Dt,e.name),Do(Mt,e.name);const Xx=new wu({uid:Ft,auth:e,email:N,emailVerified:fr,displayName:E,isAnonymous:Sn,photoURL:Q,phoneNumber:U,tenantId:Ee,stsTokenManager:ko,createdAt:Dt,lastLoginAt:Mt});return En&&Array.isArray(En)&&(Xx.providerData=En.map(GG=>Object.assign({},GG))),xe&&(Xx._redirectEventId=xe),Xx}static _fromIdTokenResponse(e,t,r=!1){return(0,V.Z)(function*(){const i=new gl;i.updateFromServerResponse(t);const a=new wu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cu(a),a})()}}const uw=new Map;function Ks(n){Io(n instanceof Function,"Expected a class definition");let e=uw.get(n);return e?(Io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uw.set(n,e),e)}const cw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,V.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,V.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,V.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,V.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class va{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ef(this.userKey,i.apiKey,a),this.fullPersistenceKey=ef("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,V.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?wu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,V.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,V.Z)(function*(){if(!t.length)return new va(Ks(cw),e,r);const i=(yield Promise.all(t.map(function(){var _=(0,V.Z)(function*(C){if(yield C._isAvailable())return C});return function(C){return _.apply(this,arguments)}}()))).filter(_=>_);let a=i[0]||Ks(cw);const l=ef(r,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const C=yield _._get(l);if(C){const E=wu._fromJSON(e,C);_!==a&&(f=E),a=_;break}}catch{}const m=i.filter(_=>_._shouldAllowMigration);return a._shouldAllowMigration&&m.length?(a=m[0],f&&(yield a._set(l,f.toJSON())),yield Promise.all(t.map(function(){var _=(0,V.Z)(function*(C){if(C!==a)try{yield C._remove(l)}catch{}});return function(C){return _.apply(this,arguments)}}())),new va(a,e,r)):new va(a,e,r)})()}}function lw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Eu(e))return"Blackberry";if(Jm(e))return"Webos";if(Qm(e))return"Safari";if((e.includes("chrome/")||hw(e))&&!e.includes("edge/"))return"Chrome";if(pw(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dw(n=(0,qe.z$)()){return/firefox\//i.test(n)}function Qm(n=(0,qe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hw(n=(0,qe.z$)()){return/crios\//i.test(n)}function fw(n=(0,qe.z$)()){return/iemobile/i.test(n)}function pw(n=(0,qe.z$)()){return/android/i.test(n)}function Eu(n=(0,qe.z$)()){return/blackberry/i.test(n)}function Jm(n=(0,qe.z$)()){return/webos/i.test(n)}function ml(n=(0,qe.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Xm(n=(0,qe.z$)()){return ml(n)||pw(n)||Jm(n)||Eu(n)||/windows phone/i.test(n)||fw(n)}function qT(n,e=[]){let t;switch(n){case"Browser":t=lw((0,qe.z$)());break;case"Worker":t=`${lw((0,qe.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cn.SDK_VERSION}/${r}`}function _w(n,e){return ey.apply(this,arguments)}function ey(){return(ey=(0,V.Z)(function*(n,e){return kn(n,"GET","/v2/recaptchaConfig",Rn(n,e))})).apply(this,arguments)}function Iu(n){return void 0!==n&&void 0!==n.enterprise}class Cw{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Li(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Es("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function ty(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function ww(n){return`__${n}${Math.floor(1e6*Math.random())}`}class Ew{constructor(e){this.type="recaptcha-enterprise",this.auth=Cr(e)}verify(e="verify",t=!1){var r=this;return(0,V.Z)(function*(){function a(){return a=(0,V.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,V.Z)(function*(_,C){_w(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(E=>{if(void 0!==E.recaptchaKey){const N=new Cw(E);return null==f.tenantId?f._agentRecaptchaConfig=N:f._tenantRecaptchaConfigs[f.tenantId]=N,_(N.siteKey)}C(new Error("recaptcha Enterprise site key undefined"))}).catch(E=>{C(E)})});return function(_,C){return m.apply(this,arguments)}}())}),a.apply(this,arguments)}function l(f,m,_){const C=window.grecaptcha;Iu(C)?C.enterprise.ready(()=>{try{C.enterprise.execute(f,{action:e}).then(E=>{m(E)}).catch(E=>{_(E)})}catch(E){_(E)}}):_(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return a.apply(this,arguments)})(r.auth).then(_=>{if(!t&&Iu(window.grecaptcha))l(_,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));Li("https://www.google.com/recaptcha/enterprise.js?render="+_).then(()=>{l(_,f,m)}).catch(C=>{m(C)})}}).catch(_=>{m(_)})})})()}}function bo(n,e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,V.Z)(function*(n,e,t,r=!1){const i=new Ew(n);let a;try{a=yield i.verify(t)}catch{a=yield i.verify(t,!0)}const l=Object.assign({},e);return Object.assign(l,r?{captchaResp:a}:{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})).apply(this,arguments)}class nf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,f)=>{try{l(e(a))}catch(m){f(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,V.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class rf{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iw(this),this.idTokenSubscription=new Iw(this),this.beforeStateQueue=new nf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ks(t)),this._initializationPromise=this.queue((0,V.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield va.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,V.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,V.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,m=a?._redirectEventId,_=yield t.tryRedirectSignIn(e);(!f||f===m)&&_?.user&&(a=_.user,l=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(a)}catch(f){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return Fe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,V.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,V.Z)(function*(){try{yield Cu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function LT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,V.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,V.Z)(function*(){const r=e?(0,qe.m9)(e):null;return r&&Fe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,V.Z)(function*(){if(!r._deleted)return e&&Fe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,V.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,V.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,V.Z)(function*(){yield t.assertedPersistence.setPersistence(Ks(e))}))}initializeRecaptchaConfig(){var e=this;return(0,V.Z)(function*(){const t=yield _w(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Cw(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Ew(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,V.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,V.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Ks(e)||t._popupRedirectResolver;Fe(r,t,"argument-error"),t.redirectPersistenceManager=yield va.create(t,[Ks(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,V.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,V.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,V.Z)(function*(){if(e===t.currentUser)return t.queue((0,V.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(l,this,"internal-error"),l.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,V.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,V.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return(0,V.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function kT(n,...e){mu.logLevel<=es.in.WARN&&mu.warn(`Auth (${Cn.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Cr(n){return(0,qe.m9)(n)}class Iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,qe.ne)(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sf(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class af{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}function Sw(n,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,V.Z)(function*(n,e){return kn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function _l(n,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,V.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithPassword",Rn(n,e))})).apply(this,arguments)}function dy(){return(dy=(0,V.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))})).apply(this,arguments)}function Mw(){return(Mw=(0,V.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithEmailLink",Rn(n,e))})).apply(this,arguments)}class mf extends af{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new mf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new mf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,V.Z)(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const a=yield bo(e,i,"signInWithPassword");return _l(e,a)}return _l(e,i).catch(function(){var a=(0,V.Z)(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const f=yield bo(e,i,"signInWithPassword");return _l(e,f)}return Promise.reject(l)});return function(l){return a.apply(this,arguments)}}());case"emailLink":return function Du(n,e){return dy.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ri(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,V.Z)(function*(){switch(r.signInMethod){case"password":return Sw(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function WT(n,e){return Mw.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:ri(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ds(n,e){return vl.apply(this,arguments)}function vl(){return(vl=(0,V.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signInWithIdp",Rn(n,e))})).apply(this,arguments)}class bu{constructor(e){var t,r,i,a,l,f;const m=(0,qe.zd)((0,qe.pd)(e)),_=null!==(t=m.apiKey)&&void 0!==t?t:null,C=null!==(r=m.oobCode)&&void 0!==r?r:null,E=function yy(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Fe(_&&C&&E,"argument-error"),this.apiKey=_,this.operation=E,this.code=C,this.continueUrl=null!==(a=m.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(l=m.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function _N(n){const e=(0,qe.zd)((0,qe.pd)(n)).link,t=e?(0,qe.zd)((0,qe.pd)(e)).deep_link_id:null,r=(0,qe.zd)((0,qe.pd)(n)).deep_link_id;return(r?(0,qe.zd)((0,qe.pd)(r)).link:null)||r||t||e||n}(e);try{return new bu(t)}catch{return null}}}let _y=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return mf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=bu.parseLink(r);return Fe(i,"argument-error"),mf._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ii{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class YT extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Dl(n,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,V.Z)(function*(n,e){return ns(n,"POST","/v1/accounts:signUp",Rn(n,e))})).apply(this,arguments)}class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,V.Z)(function*(){const a=yield wu._fromIdTokenResponse(e,r,i),l=wy(r);return new Di({user:a,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,V.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=wy(r);return new Di({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function wy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class bl extends qe.ZR{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bl.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new bl(e,t,r,i)}}function Rw(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?bl._fromErrorAndOperation(n,a,e,r):a})}function vf(n,e){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,V.Z)(function*(n,e,t=!1){const r=yield Is(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Di._forOperation(n,"link",r)})).apply(this,arguments)}function by(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,V.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const a=yield Is(n,Rw(r,i,e,n),t);Fe(a.idToken,r,"internal-error");const l=vu(a.idToken);Fe(l,r,"internal-error");const{sub:f}=l;return Fe(n.uid===f,r,"user-mismatch"),Di._forOperation(n,i,a)}catch(a){throw"auth/user-not-found"===a?.code&&ri(r,"user-mismatch"),a}})).apply(this,arguments)}function eS(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,V.Z)(function*(n,e,t=!1){const r="signIn",i=yield Rw(n,r,e),a=yield Di._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}function Uw(n,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,V.Z)(function*(n,e){return eS(Cr(n),e)})).apply(this,arguments)}function nS(n,e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,V.Z)(function*(n,e,t){var r;const i=Cr(n),a={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let l;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const _=yield bo(i,a,"signUpPassword");l=Dl(i,_)}else l=Dl(i,a).catch(function(){var _=(0,V.Z)(function*(C){if("auth/missing-recaptcha-token"===C.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const E=yield bo(i,a,"signUpPassword");return Dl(i,E)}return Promise.reject(C)});return function(C){return _.apply(this,arguments)}}());const f=yield l.catch(_=>Promise.reject(_)),m=yield Di._fromIdTokenResponse(i,"signIn",f);return yield i._updateCurrentUser(m.user),m}),Ay.apply(this,arguments)}function rS(n,e,t){return Uw((0,qe.m9)(n),_y.credential(e,t))}function lS(n,e,t,r){return(0,qe.m9)(n).onIdTokenChanged(e,t,r)}function Yw(n){return(0,qe.m9)(n).signOut()}const Al="__sak";class eE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Al,"1"),this.storage.removeItem(Al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tE=(()=>{class n extends eE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pS(){const n=(0,qe.z$)();return Qm(n)||ml(n)}()&&function zT(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xm(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,m,_)=>{this.notifyListeners(f,_)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function mw(){return(0,qe.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,V.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,V.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,V.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),nE=(()=>{class n extends eE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let LN=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,V.Z)(function*(){const i=t,{eventId:a,eventType:l,data:f}=i.data,m=r.handlersMap[l];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const _=Array.from(m).map(function(){var E=(0,V.Z)(function*(N){return N(i.origin,f)});return function(N){return E.apply(this,arguments)}}()),C=yield function gS(n){return Promise.all(n.map(function(){var e=(0,V.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:C})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function rE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,V.Z)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,f;return new Promise((m,_)=>{const C=rE("",20);a.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(N){const U=N;if(U.data.eventId===C)switch(U.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(U.data.response);break;default:clearTimeout(E),clearTimeout(l),_(new Error("invalid_response"))}}},i.handlers.add(f),a.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:C,data:t},[a.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function ur(){return window}function Ly(){return typeof ur().WorkerGlobalScope<"u"&&"function"==typeof ur().importScripts}function Uy(){return(Uy=(0,V.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ao="firebaseLocalStorageDb",sE=1,xu="firebaseLocalStorage",Nf="fbase_key";class xl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mu(n,e){return n.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function Nu(){const n=indexedDB.open(Ao,sE);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xu,{keyPath:Nf})}catch(i){t(i)}}),n.addEventListener("success",(0,V.Z)(function*(){const r=n.result;r.objectStoreNames.contains(xu)?e(r):(r.close(),yield function Vy(){const n=indexedDB.deleteDatabase(Ao);return new xl(n).toPromise()}(),e(yield Nu()))}))})}function yS(n,e,t){return oE.apply(this,arguments)}function oE(){return(oE=(0,V.Z)(function*(n,e,t){const r=Mu(n,!0).put({[Nf]:e,value:t});return new xl(r).toPromise()})).apply(this,arguments)}function aE(){return(aE=(0,V.Z)(function*(n,e){const t=Mu(n,!1).get(e),r=yield new xl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function By(n,e){const t=Mu(n,!0).delete(e);return new xl(t).toPromise()}const CS=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,V.Z)(function*(){return t.db||(t.db=yield Nu()),t.db})()}_withRetries(t){var r=this;return(0,V.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,V.Z)(function*(){return Ly()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,V.Z)(function*(){t.receiver=LN._getInstance(function iE(){return Ly()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,V.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,V.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,V.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function Mf(){return Uy.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new UN(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);a&&null!==(r=a[0])&&void 0!==r&&r.fulfilled&&null!==(i=a[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,V.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function mS(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,V.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Nu();return yield yS(t,Al,"1"),yield By(t,Al),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,V.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,V.Z)(function*(){return i._withPendingWrite((0,V.Z)(function*(){return yield i._withRetries(a=>yS(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,V.Z)(function*(){const i=yield r._withRetries(a=>function BN(n,e){return aE.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,V.Z)(function*(){return r._withPendingWrite((0,V.Z)(function*(){return yield r._withRetries(i=>By(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,V.Z)(function*(){const r=yield t._withRetries(l=>{const f=Mu(l,!1).getAll();return new xl(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:l,value:f}of r)a.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!a.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,V.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();ww("rcb"),new ul(3e4,6e4);class h extends af{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function p(n){return eS(n.auth,new h(n),n.bypassAuthState)}function g(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),by(t,new h(n),n.bypassAuthState)}function y(n){return v.apply(this,arguments)}function v(){return(v=(0,V.Z)(function*(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),vf(t,new h(n),n.bypassAuthState)})).apply(this,arguments)}class w{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,V.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,V.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:l,error:f,type:m}=e;if(f)return void t.reject(f);const _={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(m)(_))}catch(C){t.reject(C)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return g;default:ri(this.auth,"internal-error")}}resolve(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ul(2e3,1e4);const Ct="pendingRedirect",fe=new Map;class xt extends w{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,V.Z)(function*(){let r=fe.get(t.auth._key());if(!r){try{const a=(yield function Mn(n,e){return Fn.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}fe.set(t.auth._key(),r)}return t.bypassAuthState||fe.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,V.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,V.Z)(function*(){})()}cleanUp(){}}function Fn(){return(Fn=(0,V.Z)(function*(n,e){const t=function ZN(n){return ef(Ct,n.config.apiKey,n.name)}(e),r=function qN(n){return Ks(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function AF(n,e){fe.set(n._key(),e)}function WN(n,e){return PS.apply(this,arguments)}function PS(){return(PS=(0,V.Z)(function*(n,e,t=!1){const r=Cr(n),i=function d(n,e){return e?Ks(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),l=yield new xt(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class OF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function RF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!QN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Es(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(YN(e))}saveEventToCache(e){this.cachedEventUids.add(YN(e)),this.lastProcessedEventTime=Date.now()}}function YN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function QN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function RS(){return(RS=(0,V.Z)(function*(n,e={}){return kn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const FF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LF=/^https?/;function kS(){return kS=(0,V.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function kF(n){return RS.apply(this,arguments)}(n);for(const t of e)try{if(VF(t))return}catch{}ri(n,"unauthorized-domain")}),kS.apply(this,arguments)}function VF(n){const e=al(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!LF.test(t))return!1;if(FF.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const BF=new ul(3e4,6e4);function JN(){const n=ur().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let vE=null;const GF=new ul(5e3,15e3),HF="__/auth/iframe",zF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WF(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$m(e,zF):`https://${n.config.authDomain}/${HF}`,r={apiKey:e.apiKey,appName:n.name,v:Cn.SDK_VERSION},i=ZF.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,qe.xO)(r).slice(1)}`}function FS(){return FS=(0,V.Z)(function*(n){const e=yield function jF(n){return vE=vE||function $F(n){return new Promise((e,t)=>{var r,i,a;function l(){JN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JN(),t(Es(n,"network-request-failed"))},timeout:BF.get()})}if(null!==(i=null===(r=ur().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=ur().gapi)||void 0===a||!a.load){const f=ww("iframefcb");return ur()[f]=()=>{gapi.load?l():t(Es(n,"network-request-failed"))},Li(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>t(m))}l()}}).catch(e=>{throw vE=null,e})}(n),vE}(n),t=ur().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:WF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},r=>new Promise(function(){var i=(0,V.Z)(function*(a,l){yield r.restyle({setHideOnLeave:!1});const f=Es(n,"network-request-failed"),m=ur().setTimeout(()=>{l(f)},GF.get());function _(){ur().clearTimeout(m),a(r)}r.ping(_).then(_,()=>{l(f)})});return function(a,l){return i.apply(this,arguments)}}()))}),FS.apply(this,arguments)}const YF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QF=500,JF=600,XF="_blank",eL="http://localhost";class XN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rL="__/auth/handler",iL="emulator/auth/handler",sL=encodeURIComponent("fac");function eP(n,e,t,r,i,a){return LS.apply(this,arguments)}function LS(){return(LS=(0,V.Z)(function*(n,e,t,r,i,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cn.SDK_VERSION,eventId:i};if(e instanceof Ii){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,qe.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,E]of Object.entries(a||{}))l[C]=E}if(e instanceof YT){const C=e.getScopes().filter(E=>""!==E);C.length>0&&(l.scopes=C.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const C of Object.keys(f))void 0===f[C]&&delete f[C];const m=yield n._getAppCheckToken(),_=m?`#${sL}=${encodeURIComponent(m)}`:"";return`${function oL({config:n}){return n.emulator?$m(n,iL):`https://${n.authDomain}/${rL}`}(n)}?${(0,qe.xO)(f).slice(1)}${_}`})).apply(this,arguments)}const US="webStorageSupport",uL=class aL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=WN,this._overrideRedirectResult=AF}_openPopup(e,t,r,i){var a=this;return(0,V.Z)(function*(){var l;Io(null===(l=a.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=yield eP(e,t,r,al(),i);return function tL(n,e,t,r=QF,i=JF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},YF),{width:r.toString(),height:i.toString(),top:a,left:l}),_=(0,qe.z$)().toLowerCase();t&&(f=hw(_)?XF:t),dw(_)&&(e=e||eL,m.scrollbars="yes");const C=Object.entries(m).reduce((N,[U,Q])=>`${N}${U}=${Q},`,"");if(function gw(n=(0,qe.z$)()){var e;return ml(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(_)&&"_self"!==f)return function nL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new XN(null);const E=window.open(e||"",f,C);Fe(E,n,"popup-blocked");try{E.focus()}catch{}return new XN(E)}(e,f,rE())})()}_openRedirect(e,t,r,i){var a=this;return(0,V.Z)(function*(){return yield a._originValidation(e),function VN(n){ur().location.href=n}(yield eP(e,t,r,al(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Io(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,V.Z)(function*(){const r=yield function KF(n){return FS.apply(this,arguments)}(e),i=new OF(e);return r.register("authEvent",a=>(Fe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(US,{type:US},i=>{var a;const l=null===(a=i?.[0])||void 0===a?void 0:a[US];void 0!==l&&t(!!l),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function UF(n){return kS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xm()||Qm()||ml()}};var rP="@firebase/auth";class cL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,V.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fL=(0,qe.Pz)("authIdTokenMaxAge")||300;let sP=null;const pL=n=>function(){var e=(0,V.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>fL)return;const a=r?.token;sP!==a&&(sP=a,yield fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function gL(n=(0,Cn.getApp)()){const e=(0,Cn._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Dw(n,e){const t=(0,Cn._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if((0,qe.vZ)(a,e??{}))return i;ri(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:uL,persistence:[CS,tE,nE]}),r=(0,qe.Pz)("authTokenSyncURL");if(r){const a=pL(r);(function dS(n,e,t){(0,qe.m9)(n).beforeAuthStateChanged(e,t)})(t,a,()=>a(t.currentUser)),lS(t,l=>a(l))}const i=(0,qe.q4)("auth");return i&&function iy(n,e,t){const r=Cr(n);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,a=sy(e),{host:l,port:f}=function oy(n){const e=sy(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:sf(r.substr(a.length+1))}}{const[a,l]=r.split(":");return{host:a,port:sf(l)}}}(e);r.config.emulator={url:`${a}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Tw(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function mL(n){return new Ps.y(function(e){var t=function hS(n,e,t,r){return(0,qe.m9)(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function oP(n){return new Ps.y(function(e){return{unsubscribe:lS(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function dL(n){(0,Cn._registerComponent)(new hu.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name}),Fe(!f?.includes(":"),"argument-error",{appName:r.name});const m={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(n)},_=new rf(r,i,a,m);return function bw(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ks);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Cn._registerComponent)(new hu.wA("auth-internal",e=>{const t=Cr(e.getProvider("auth").getImmediate());return new cL(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Cn.registerVersion)(rP,"0.23.0",function lL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Cn.registerVersion)(rP,"0.23.0","esm2017")}("Browser");class Gy{constructor(e){return e}}class BS{constructor(){return(0,At.vb)("auth")}}const $S=new c.OlP("angularfire2.auth-instances");function _L(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gy(r)}}const vL={provide:BS,deps:[[new c.FiY,$S]]},CL={provide:Gy,useFactory:function yL(n,e){const t=(0,At.JM)("auth",n,e);return t&&new Gy(t)},deps:[[new c.FiY,$S],zs]};let wL=(()=>{class n{constructor(){(0,Cs.KN)("angularfire",At.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CL,vL]}),n})();function EL(n,...e){return{ngModule:wL,providers:[{provide:$S,useFactory:_L(n),multi:!0,deps:[c.R0b,c.zs3,At.HU,du,[new c.FiY,Wh],...e]}]}}const IL=(0,At.u3)(mL,!0),DL=(0,At.u3)(oP,!0),bL=(0,At.u3)(nS,!0),TL=(0,At.u3)(gL,!0),SL=(0,At.u3)(rS,!0),AL=(0,At.u3)(Yw,!0);var ut,xL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={},jS=jS||{},Rt=xL||self;function wE(){}function EE(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hy(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var GS="closure_uid_"+(1e9*Math.random()>>>0),NL=0;function PL(n,e,t){return n.call.apply(n.bind,arguments)}function OL(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PL:OL).apply(null,arguments)}function IE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[i].apply(r,l)}}function Pu(){this.s=this.s,this.o=this.o}Pu.prototype.s=!1,Pu.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ML(n){Object.prototype.hasOwnProperty.call(n,GS)&&n[GS]||(n[GS]=++NL)}(this)},Pu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function HS(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function cP(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(EE(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function gi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gi.prototype.h=function(){this.defaultPrevented=!0};var kL=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",wE,e),Rt.removeEventListener("test",wE,e)}catch{}return n}();function DE(n){return/^[\s\xa0]*$/.test(n)}var lP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zS(n,e){return n<e?-1:n>e?1:0}function bE(){var n=Rt.navigator;return n&&(n=n.userAgent)?n:""}function xo(n){return-1!=bE().indexOf(n)}function qS(n){return qS[" "](n),n}qS[" "]=wE;var TE,n,LL=xo("Opera"),Pf=xo("Trident")||xo("MSIE"),dP=xo("Edge"),ZS=dP||Pf,hP=xo("Gecko")&&!(-1!=bE().toLowerCase().indexOf("webkit")&&!xo("Edge"))&&!(xo("Trident")||xo("MSIE"))&&!xo("Edge"),UL=-1!=bE().toLowerCase().indexOf("webkit")&&!xo("Edge");function fP(){var n=Rt.document;return n?n.documentMode:void 0}e:{var WS="",KS=(n=bE(),hP?/rv:([^\);]+)(\)|;)/.exec(n):dP?/Edge\/([\d\.]+)/.exec(n):Pf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):UL?/WebKit\/(\S+)/.exec(n):LL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KS&&(WS=KS?KS[1]:""),Pf){var YS=fP();if(null!=YS&&YS>parseFloat(WS)){TE=String(YS);break e}}TE=WS}var VL={};var $L=Rt.document&&Pf&&(fP()||parseInt(TE,10))||void 0;function zy(n,e){if(gi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hP){e:{try{qS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zy.X.h.call(this)}}ii(zy,gi);var jL={2:"touch",3:"pen",4:"mouse"};zy.prototype.h=function(){zy.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qy="closure_listenable_"+(1e6*Math.random()|0),GL=0;function HL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++GL,this.ba=this.ea=!1}function SE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function JS(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gP(n){const e={};for(const t in n)e[t]=n[t];return e}const mP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<mP.length;a++)t=mP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function AE(n){this.src=n,this.g={},this.h=0}function XS(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=uP(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(SE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function eA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}AE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=eA(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new HL(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var tA="closure_lm_"+(1e6*Math.random()|0),nA={};function _P(n,e,t,r,i){if(r&&r.once)return CP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)_P(n,e[a],t,r,i);return null}return t=oA(t),n&&n[qy]?n.N(e,t,Hy(r)?!!r.capture:!!r,i):vP(n,e,t,!1,r,i)}function vP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Hy(i)?!!i.capture:!!i,f=iA(n);if(f||(n[tA]=f=new AE(n)),(t=f.add(e,t,r,l,a)).proxy)return t;if(r=function zL(){const e=qL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kL||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(EP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)CP(n,e[a],t,r,i);return null}return t=oA(t),n&&n[qy]?n.O(e,t,Hy(r)?!!r.capture:!!r,i):vP(n,e,t,!0,r,i)}function wP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)wP(n,e[a],t,r,i);else r=Hy(r)?!!r.capture:!!r,t=oA(t),n&&n[qy]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=eA(a=n.g[e],t,r,i))&&(SE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=iA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=eA(e,t,r,i)),(t=-1<n?e[n]:null)&&rA(t))}function rA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[qy])XS(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(EP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=iA(e))?(XS(t,n),0==t.h&&(t.src=null,e[tA]=null)):SE(n)}}}function EP(n){return n in nA?nA[n]:nA[n]="on"+n}function qL(n,e){if(n.ba)n=!0;else{e=new zy(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&rA(n),n=t.call(r,e)}return n}function iA(n){return(n=n[tA])instanceof AE?n:null}var sA="__closure_events_fn_"+(1e9*Math.random()>>>0);function oA(n){return"function"==typeof n?n:(n[sA]||(n[sA]=function(e){return n.handleEvent(e)}),n[sA])}function zr(){Pu.call(this),this.i=new AE(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new gi(e,n);else if(e instanceof gi)e.target=e.target||n;else{var i=e;yP(e=new gi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=xE(l,r,!0,e)&&i}if(i=xE(l=e.g=n,r,!0,e)&&i,i=xE(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=xE(l=e.g=t[a],r,!1,e)&&i}function xE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var f=l.listener,m=l.ha||l.src;l.ea&&XS(n.i,l),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}ii(zr,Pu),zr.prototype[qy]=!0,zr.prototype.removeEventListener=function(n,e,t,r){wP(this,n,e,t,r)},zr.prototype.M=function(){if(zr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)SE(t[r]);delete n.g[e],n.h--}}this.I=null},zr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var aA=Rt.JSON.stringify;function ZL(){var n=bP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var uA,IP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KL,n=>n.reset());class KL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YL(n){Rt.setTimeout(()=>{throw n},0)}function DP(n,e){uA||function QL(){var n=Rt.Promise.resolve(void 0);uA=function(){n.then(JL)}}(),cA||(uA(),cA=!0),bP.add(n,e)}var cA=!1,bP=new class WL{constructor(){this.h=this.g=null}add(e,t){const r=IP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function JL(){for(var n;n=ZL();){try{n.h.call(n.g)}catch(t){YL(t)}var e=IP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cA=!1}function ME(n,e){zr.call(this),this.h=n||1,this.g=e||Rt,this.j=pi(this.lb,this),this.l=Date.now()}function lA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function dA(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function TP(n){n.g=dA(()=>{n.g=null,n.i&&(n.i=!1,TP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(ME,zr),(ut=ME.prototype).ca=!1,ut.R=null,ut.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),si(this,"tick"),this.ca&&(lA(this),this.start()))}},ut.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){ME.X.M.call(this),lA(this),delete this.g};class XL extends Pu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:TP(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zy(n){Pu.call(this),this.h=n,this.g={}}ii(Zy,Pu);var SP=[];function AP(n,e,t,r){Array.isArray(t)||(t&&(SP[0]=t.toString()),t=SP);for(var i=0;i<t.length;i++){var a=_P(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function xP(n){JS(n.g,function(e,t){this.g.hasOwnProperty(t)&&rA(e)},n),n.g={}}function NE(){this.g=!0}function Of(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function r3(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return aA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Zy.prototype.M=function(){Zy.X.M.call(this),xP(this)},Zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},NE.prototype.Aa=function(){this.g=!1},NE.prototype.info=function(){};var Pl={},MP=null;function PE(){return MP=MP||new zr}function NP(n){gi.call(this,Pl.Pa,n)}function Wy(n){const e=PE();si(e,new NP(e))}function PP(n,e){gi.call(this,Pl.STAT_EVENT,n),this.stat=e}function bi(n){const e=PE();si(e,new PP(e,n))}function OP(n,e){gi.call(this,Pl.Qa,n),this.size=e}function Ky(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Pl.Pa="serverreachability",ii(NP,gi),Pl.STAT_EVENT="statevent",ii(PP,gi),Pl.Qa="timingevent",ii(OP,gi);var OE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},RP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hA(){}function FP(){}hA.prototype.h=null;var gA,Yy={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fA(){gi.call(this,"d")}function pA(){gi.call(this,"c")}function RE(){}function Qy(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Zy(this),this.O=i3,this.T=new ME(n=ZS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new LP}function LP(){this.i=null,this.g="",this.h=!1}ii(fA,gi),ii(pA,gi),ii(RE,hA),RE.prototype.g=function(){return new XMLHttpRequest},RE.prototype.i=function(){return{}},gA=new RE;var i3=45e3,mA={},kE={};function yA(n,e,t){n.K=1,n.v=VE(Ia(e)),n.s=t,n.P=!0,UP(n,null)}function UP(n,e){n.F=Date.now(),Jy(n),n.A=Ia(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),WP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new LP,n.g=_O(n.l,t?e:null,!n.s),0<n.N&&(n.L=new XL(pi(n.La,n,n.g),n.N)),AP(n.S,n.g,"readystatechange",n.ib),e=n.H?gP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Wy(),function e3(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",f=a.split("&"),m=0;m<f.length;m++){var _=f[m].split("=");if(1<_.length){var C=_[0];_=_[1];var E=C.split("_");l=2<=E.length&&"type"==E[1]?l+(C+"=")+_+"&":l+(C+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function VP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function BP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=s3(n,t),i==kE){4==e&&(n.o=4,bi(14),r=!1),Of(n.j,n.m,null,"[Incomplete Response]");break}if(i==mA){n.o=4,bi(15),Of(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Of(n.j,n.m,i,null),_A(n,i)}VP(n)&&i!=kE&&i!=mA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),TA(e),e.K=!0,bi(11))):(Of(n.j,n.m,t,"[Invalid Chunked Response]"),Ol(n),Xy(n))}function s3(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kE:(t=Number(e.substring(t,r)),isNaN(t)?mA:(r+=1)+t>e.length?kE:(e=e.substr(r,t),n.C=r+t,e))}function Jy(n){n.V=Date.now()+n.O,$P(n,n.O)}function $P(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ky(pi(n.gb,n),e)}function FE(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Xy(n){0==n.l.G||n.I||pO(n.l,n)}function Ol(n){FE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,lA(n.T),xP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _A(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vA(t.h,n)))if(!n.J&&vA(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;zE(t),GE(t)}bA(t),bi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ky(pi(t.cb,t),6e3));if(1>=QP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else kl(t,11)}else if((n.J||t.g==n)&&zE(t),!DE(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const C=_[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const E=_[4];null!=E&&(t.Ca=E,t.j.info("SVER="+t.Ca));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(t.J=r=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const Q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var a=r.h;a.g||-1==Q.indexOf("spdy")&&-1==Q.indexOf("quic")&&-1==Q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(CA(a,a.h),a.h=null))}if(r.D){const Ee=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.za=Ee,Hn(r.F,r.D,Ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=yO(r,r.H?r.ka:null,r.V),l.J){JP(r.h,l);var f=l,m=r.J;m&&f.setTimeout(m),f.B&&(FE(f),Jy(f)),r.g=l}else hO(r);0<t.i.length&&HE(t)}else"stop"!=_[0]&&"close"!=_[0]||kl(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?kl(t,7):DA(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Wy()}catch{}}function jP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(EE(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function a3(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(EE(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function o3(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(EE(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ut=Qy.prototype).setTimeout=function(n){this.O=n},ut.ib=function(n){n=n.target;const e=this.L;e&&3==Da(n)?e.l():this.La(n)},ut.La=function(n){try{if(n==this.g)e:{const C=Da(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||ZS||this.g&&(this.h.h||this.g.fa()||oO(this.g)))){this.I||4!=C||7==e||Wy(),FE(this);var t=this.g.aa();this.Y=t;t:if(VP(this)){var r=oO(this.g);n="";var i=r.length,a=4==Da(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ol(this),Xy(this);var l="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function t3(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!DE(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,bi(12),Ol(this),Xy(this);break e}Of(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_A(this,t)}this.P?(BP(this,C,l),ZS&&this.i&&3==C&&(AP(this.S,this.T,"tick",this.hb),this.T.start())):(Of(this.j,this.m,l,null),_A(this,l)),4==C&&Ol(this),this.i&&!this.I&&(4==C?pO(this.l,this):(this.i=!1,Jy(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,bi(12)):(this.o=0,bi(13)),Ol(this),Xy(this)}}}catch{}},ut.hb=function(){if(this.g){var n=Da(this.g),e=this.g.fa();this.C<e.length&&(FE(this),BP(this,n,e),this.i&&4!=n&&Jy(this))}},ut.cancel=function(){this.I=!0,Ol(this)},ut.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function n3(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wy(),bi(17)),Ol(this),this.o=2,Xy(this)):$P(this,this.V-n)};var GP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rl){this.h=void 0!==e?e:n.h,LE(this,n.j),this.s=n.s,this.g=n.g,UE(this,n.m),this.l=n.l,e=n.i;var t=new n_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HP(this,t),this.o=n.o}else n&&(t=String(n).match(GP))?(this.h=!!e,LE(this,t[1]||"",!0),this.s=e_(t[2]||""),this.g=e_(t[3]||"",!0),UE(this,t[4]),this.l=e_(t[5]||"",!0),HP(this,t[6]||"",!0),this.o=e_(t[7]||"")):(this.h=!!e,this.i=new n_(null,this.h))}function Ia(n){return new Rl(n)}function LE(n,e,t){n.j=t?e_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function UE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HP(n,e,t){e instanceof n_?(n.i=e,function p3(n,e){e&&!n.j&&(Ou(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(qP(this,r),WP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=t_(e,h3)),n.i=new n_(e,n.h))}function Hn(n,e,t){n.i.set(e,t)}function VE(n){return Hn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function e_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function t_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,c3),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function c3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(t_(e,zP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(t_(e,zP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(t_(t,"/"==t.charAt(0)?d3:l3,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",t_(t,f3)),n.join("")};var zP=/[#\/\?@]/g,l3=/[#\?:]/g,d3=/[#\?]/g,h3=/[#\?@]/g,f3=/#/g;function n_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ou(n){n.g||(n.g=new Map,n.h=0,n.i&&function u3(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qP(n,e){Ou(n),e=Rf(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ZP(n,e){return Ou(n),e=Rf(n,e),n.g.has(e)}function WP(n,e,t){qP(n,e),0<t.length&&(n.i=null,n.g.set(Rf(n,e),HS(t)),n.h+=t.length)}function Rf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KP(n){this.l=n||m3,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ga&&Rt.g.Ga()&&Rt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=n_.prototype).add=function(n,e){Ou(this),this.i=null,n=Rf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){Ou(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ut.oa=function(){Ou(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ut.W=function(n){Ou(this);let e=[];if("string"==typeof n)ZP(this,n)&&(e=e.concat(this.g.get(Rf(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ut.set=function(n,e){return Ou(this),this.i=null,ZP(this,n=Rf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var m3=10;function YP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QP(n){return n.h?1:n.g?n.g.size:0}function vA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function CA(n,e){n.g?n.g.add(e):n.h=e}function JP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return HS(n.i)}function wA(){}function y3(){this.g=new wA}function _3(n,e,t){const r=t||"";try{jP(n,function(i,a){let l=i;Hy(i)&&(l=aA(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function r_(n){this.l=n.ac||null,this.j=n.jb||!1}function $E(n,e){zr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=EA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}KP.prototype.cancel=function(){if(this.i=XP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},wA.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},wA.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},ii(r_,hA),r_.prototype.g=function(){return new $E(this.l,this.j)},r_.prototype.i=function(n){return function(){return n}}({}),ii($E,zr);var EA=0;function eO(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function i_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,s_(n)}function s_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=$E.prototype).open=function(n,e){if(this.readyState!=EA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,s_(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,i_(this)),this.readyState=EA},ut.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,s_(this)),this.g&&(this.readyState=3,s_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eO(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ut.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?i_(this):s_(this),3==this.readyState&&eO(this)}},ut.Va=function(n){this.g&&(this.response=this.responseText=n,i_(this))},ut.Ua=function(n){this.g&&(this.response=n,i_(this))},ut.ga=function(){this.g&&i_(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($E.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var C3=Rt.JSON.parse;function Jn(n){zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tO,this.K=this.L=!1}ii(Jn,zr);var tO="",w3=/^https?$/i,E3=["POST","PUT"];function nO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rO(n),jE(n)}function rO(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function iO(n){if(n.h&&typeof jS<"u"&&(!n.C[1]||4!=Da(n)||2!=n.aa()))if(n.v&&4==Da(n))dA(n.Ha,0,n);else if(si(n,"readystatechange"),4==Da(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(GP)[1]||null;if(!i&&Rt.self&&Rt.self.location){var a=Rt.self.location.protocol;i=a.substr(0,a.length-1)}r=!w3.test(i?i.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var l=2<Da(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",rO(n)}}finally{jE(n)}}}function jE(n,e){if(n.g){sO(n);const t=n.g,r=n.C[0]?wE:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch{}}}function sO(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Da(n){return n.g?n.g.readyState:0}function oO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function aO(n){let e="";return JS(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function IA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=aO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Hn(n,e,t))}function o_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uO(n){this.Ca=0,this.i=[],this.j=new NE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=o_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=o_("baseRetryDelayMs",5e3,n),this.bb=o_("retryDelaySeedMs",1e4,n),this.$a=o_("forwardChannelMaxRetries",2,n),this.ta=o_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new KP(n&&n.concurrentRequestLimit),this.Fa=new y3,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function DA(n){if(cO(n),3==n.G){var e=n.U++,t=Ia(n.F);Hn(t,"SID",n.I),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),a_(n,t),(e=new Qy(n,n.j,e,void 0)).K=2,e.v=VE(Ia(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_O(e.l,null),e.g.da(e.v)),e.F=Date.now(),Jy(e)}mO(n)}function GE(n){n.g&&(TA(n),n.g.cancel(),n.g=null)}function cO(n){GE(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),zE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function HE(n){YP(n.h)||n.m||(n.m=!0,DP(n.Ja,n),n.C=0)}function lO(n,e){var t;t=e?e.m:n.U++;const r=Ia(n.F);Hn(r,"SID",n.I),Hn(r,"RID",t),Hn(r,"AID",n.T),a_(n,r),n.o&&n.s&&IA(r,n.o,n.s),t=new Qy(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=dO(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),CA(n.h,t),yA(t,r,e)}function a_(n,e){n.ia&&JS(n.ia,function(t,r){Hn(e,r,t)}),n.l&&jP({},function(t,r){Hn(e,r,t)})}function dO(n,e,t){t=Math.min(n.i.length,t);var r=n.l?pi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let _=i[m].h;const C=i[m].g;if(_-=a,0>_)a=Math.max(0,i[m].h-100),f=!1;else try{_3(C,l,"req"+_+"_")}catch{r&&r(C)}}if(f){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function hO(n){n.g||n.u||(n.Z=1,DP(n.Ia,n),n.A=0)}function bA(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ky(pi(n.Ia,n),gO(n,n.A)),n.A++,0))}function TA(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function fO(n){n.g=new Qy(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ia(n.sa);Hn(e,"RID","rpc"),Hn(e,"SID",n.I),Hn(e,"CI",n.L?"0":"1"),Hn(e,"AID",n.T),Hn(e,"TYPE","xmlhttp"),a_(n,e),n.o&&n.s&&IA(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=VE(Ia(e)),t.s=null,t.P=!0,UP(t,n)}function zE(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function pO(n,e){var t=null;if(n.g==e){zE(n),TA(n),n.g=null;var r=2}else{if(!vA(n.h,e))return;t=e.D,JP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;si(r=PE(),new OP(r,t)),HE(n)}else hO(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function D3(n,e){return!(QP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ky(pi(n.Ja,n,e),gO(n,n.C)),n.C++,0)))}(n,e)||2==r&&bA(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:kl(n,5);break;case 4:kl(n,10);break;case 3:kl(n,6);break;default:kl(n,2)}}function gO(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function kl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=pi(n.kb,n);t||(t=new Rl("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||LE(t,"https"),VE(t)),function v3(n,e){const t=new NE;if(Rt.Image){const r=new Image;r.onload=IE(BE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=IE(BE,t,r,"TestLoadImage: error",!1,e),r.onabort=IE(BE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=IE(BE,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else bi(2);n.G=0,n.l&&n.l.va(e),mO(n),cO(n)}function mO(n){if(n.G=0,n.la=[],n.l){const e=XP(n.h);(0!=e.length||0!=n.i.length)&&(cP(n.la,e),cP(n.la,n.i),n.h.i.length=0,HS(n.i),n.i.length=0),n.l.ua()}}function yO(n,e,t){var r=t instanceof Rl?Ia(t):new Rl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),UE(r,r.m);else{var i=Rt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Rl(null,void 0);r&&LE(a,r),e&&(a.g=e),i&&UE(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Hn(r,t,e),Hn(r,"VER",n.ma),a_(n,r),r}function _O(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(t&&n.Da&&!n.ra?new r_({jb:!0}):n.ra)).Ka(n.H),e}function vO(){}function qE(){if(Pf&&!(10<=Number($L)))throw Error("Environmental error: no available transport.")}function is(n,e){zr.call(this),this.g=new uO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!DE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!DE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new kf(this)}function CO(n){fA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wO(){pA.call(this),this.status=1}function kf(n){this.g=n}(ut=Jn.prototype).Ka=function(n){this.L=n},ut.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gA.g(),this.C=function kP(n){return n.h||(n.h=n.i())}(this.u?this.u:gA),this.g.onreadystatechange=pi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void nO(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Rt.FormData&&n instanceof Rt.FormData,!(0<=uP(E3,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sO(this),0<this.B&&((this.K=function I3(n){return Pf&&function BL(){return function FL(n){var e=VL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lP(String(TE)).split("."),t=lP("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=zS(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||zS(0==i[2].length,0==a[2].length)||zS(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.qa,this)):this.A=dA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){nO(this,a)}},ut.qa=function(){typeof jS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),jE(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jE(this,!0)),Jn.X.M.call(this)},ut.Ha=function(){this.s||(this.F||this.v||this.l?iO(this):this.fb())},ut.fb=function(){iO(this)},ut.aa=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},ut.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),C3(e)}},ut.Ea=function(){return this.m},ut.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=uO.prototype).ma=8,ut.G=1,ut.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Qy(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=gP(a),yP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=dO(this,i,e),Hn(t=Ia(this.F),"RID",n),Hn(t,"CVER",22),this.D&&Hn(t,"X-HTTP-Session-Id",this.D),a_(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(aO(a)))+"&"+e:this.o&&IA(t,this.o,a)),CA(this.h,i),this.Ya&&Hn(t,"TYPE","init"),this.O?(Hn(t,"$req",e),Hn(t,"SID","null"),i.Z=!0,yA(i,t,null)):yA(i,t,e),this.G=2}}else 3==this.G&&(n?lO(this,n):0==this.i.length||YP(this.h)||lO(this))},ut.Ia=function(){if(this.u=null,fO(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ky(pi(this.eb,this),n)}},ut.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,bi(10),GE(this),fO(this))},ut.cb=function(){null!=this.v&&(this.v=null,GE(this),bA(this),bi(19))},ut.kb=function(n){n?(this.j.info("Successfully pinged google.com"),bi(2)):(this.j.info("Failed to ping google.com"),bi(1))},(ut=vO.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Ra=function(){},qE.prototype.g=function(n,e){return new is(n,e)},ii(is,zr),is.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;bi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yO(n,null,n.V),HE(n)},is.prototype.close=function(){DA(this.g)},is.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=aA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&HE(e)},is.prototype.M=function(){this.g.l=null,delete this.j,DA(this.g),delete this.g,is.X.M.call(this)},ii(CO,fA),ii(wO,pA),ii(kf,vO),kf.prototype.xa=function(){si(this.g,"a")},kf.prototype.wa=function(n){si(this.g,new CO(n))},kf.prototype.va=function(n){si(this.g,new wO)},kf.prototype.ua=function(){si(this.g,"b")},qE.prototype.createWebChannel=qE.prototype.g,is.prototype.send=is.prototype.u,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,OE.NO_ERROR=0,OE.TIMEOUT=8,OE.HTTP_ERROR=6,RP.COMPLETE="complete",FP.EventType=Yy,Yy.OPEN="a",Yy.CLOSE="b",Yy.ERROR="c",Yy.MESSAGE="d",zr.prototype.listen=zr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.Oa,Jn.prototype.getLastErrorCode=Jn.prototype.Ea,Jn.prototype.getStatus=Jn.prototype.aa,Jn.prototype.getResponseJson=Jn.prototype.Sa,Jn.prototype.getResponseText=Jn.prototype.fa,Jn.prototype.send=Jn.prototype.da,Jn.prototype.setWithCredentials=Jn.prototype.Ka;var b3=Ea.createWebChannelTransport=function(){return new qE},T3=Ea.getStatEventTarget=function(){return PE()},SA=Ea.ErrorCode=OE,S3=Ea.EventType=RP,A3=Ea.Event=Pl,EO=Ea.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},x3=Ea.FetchXmlHttpFactory=r_,ZE=Ea.WebChannel=FP,M3=Ea.XhrIo=Jn;const IO="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let Ff="9.20.0";const Ru=new es.Yd("@firebase/firestore");function AA(){return Ru.logLevel}function Te(n,...e){if(Ru.logLevel<=es.in.DEBUG){const t=e.map(xA);Ru.debug(`Firestore (${Ff}): ${n}`,...t)}}function cr(n,...e){if(Ru.logLevel<=es.in.ERROR){const t=e.map(xA);Ru.error(`Firestore (${Ff}): ${n}`,...t)}}function ba(n,...e){if(Ru.logLevel<=es.in.WARN){const t=e.map(xA);Ru.warn(`Firestore (${Ff}): ${n}`,...t)}}function xA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function ht(n,e){n||st()}function Ze(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class P3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class O3{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let l=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const _=l;e.enqueueRetryable((0,V.Z)(function*(){yield _.promise,yield a(r.currentUser)}))},m=_=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht("string"==typeof r.accessToken),new DO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ht(null===e||"string"==typeof e),new qr(e)}}class R3{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class k3{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new R3(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F3{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht("string"==typeof t.token),this.T=t.token,new bO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function L3(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class TO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=L3(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function Lf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Zn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Zn(0,0))}static max(){return new gt(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class u_{constructor(e,t,r){void 0===t?t=0:t>e.length&&st(),void 0===r?r=e.length-t:r>e.length-t&&st(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===u_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof u_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nn extends u_{construct(e,t,r){return new nn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nn(t)}static emptyPath(){return new nn([])}}const U3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends u_{construct(e,t,r){return new lr(e,t,r)}static isValidIdentifier(e){return U3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new De(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new De(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new De(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(l=!l,i++):"."!==f||l?(r+=f,i++):(a(),i++)}if(a(),l)throw new De(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(nn.fromString(e))}static fromName(e){return new Ge(nn.fromString(e).popFirst(5))}static empty(){return new Ge(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new nn(e.slice()))}}function xO(n){return new ss(n.readTime,n.key,-1)}class ss{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ss(gt.min(),Ge.empty(),-1)}static max(){return new ss(gt.max(),Ge.empty(),-1)}}function NA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:kt(n.largestBatchId,e.largestBatchId))}const MO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ku(n){return PA.apply(this,arguments)}function PA(){return PA=(0,V.Z)(function*(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==MO)throw n;Te("LocalStore","Unexpectedly lost primary lease")}),PA.apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let i=0,a=0,l=!1;e.forEach(f=>{++i,f.next(()=>{++a,l&&a===i&&t()},m=>r(m))}),l=!0,a===i&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(i=>i?Y.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,i)=>{const a=e.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const _=m;t(e[_]).next(C=>{l[_]=C,++f,f===a&&r(l)},C=>i(C))}})}static doWhile(e,t){return new Y((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function Fu(n){return"IndexedDbTransactionError"===n.name}let os=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function d_(n){return null==n}function h_(n){return 0===n&&1/n==-1/0}function VO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ul(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Xn{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new JE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new JE(this.root,e,this.comparator,!1)}getReverseIterator(){return new JE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new JE(this.root,e,this.comparator,!0)}}class JE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??oi.RED,this.left=i??oi.EMPTY,this.right=a??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new oi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $O(this.data.getIterator())}getIteratorFrom(e){return new $O(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class $O{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ui{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new Ui([])}unionWith(e){let t=new wn(lr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class l2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new l2("Invalid base64 string: "+i):i}}(e);return new kr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(n){if(ht(!!n),"string"==typeof n){let e=0;const t=d2.exec(n);if(ht(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vl(n){return"string"==typeof n?kr.fromBase64String(n):kr.fromUint8Array(n)}function kA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jO(n){const e=n.mapValue.fields.__previous_value__;return kA(e)?jO(e):e}function f_(n){const e=Lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class h2{constructor(e,t,r,i,a,l,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $l(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kA(n)?4:qO(n)?9007199254740991:10:st()}function No(n,e){if(n===e)return!0;const t=$l(n);if(t!==$l(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return f_(n).isEqual(f_(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Lu(r.timestampValue),l=Lu(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Vl(n.bytesValue).isEqual(Vl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return er(r.geoPointValue.latitude)===er(i.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return er(r.integerValue)===er(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=er(r.doubleValue),l=er(i.doubleValue);return a===l?h_(a)===h_(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Lf(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(VO(a)!==VO(l))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===l[f]||!No(a[f],l[f])))return!1;return!0}(n,e);default:return st()}var i}function p_(n,e){return void 0!==(n.values||[]).find(t=>No(t,e))}function Vu(n,e){if(n===e)return 0;const t=$l(n),r=$l(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=er(i.integerValue||i.doubleValue),f=er(a.integerValue||a.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return GO(n.timestampValue,e.timestampValue);case 4:return GO(f_(n),f_(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Vl(i),f=Vl(a);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),f=a.split("/");for(let m=0;m<l.length&&m<f.length;m++){const _=kt(l[m],f[m]);if(0!==_)return _}return kt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=kt(er(i.latitude),er(a.latitude));return 0!==l?l:kt(er(i.longitude),er(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],f=a.values||[];for(let m=0;m<l.length&&m<f.length;++m){const _=Vu(l[m],f[m]);if(_)return _}return kt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Uu.mapValue&&a===Uu.mapValue)return 0;if(i===Uu.mapValue)return 1;if(a===Uu.mapValue)return-1;const l=i.fields||{},f=Object.keys(l),m=a.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let C=0;C<f.length&&C<_.length;++C){const E=kt(f[C],_[C]);if(0!==E)return E;const N=Vu(l[f[C]],m[_[C]]);if(0!==N)return N}return kt(f.length,_.length)}(n.mapValue,e.mapValue);default:throw st()}}function GO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=Lu(n),r=Lu(e),i=kt(t.seconds,r.seconds);return 0!==i?i:kt(t.nanos,r.nanos)}function Vf(n){return FA(n)}function FA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Lu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vl(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=FA(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const f of i)l?l=!1:a+=",",a+=`${f}:${FA(r.fields[f])}`;return a+"}"}(n.mapValue):st();var e}function jl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function LA(n){return!!n&&"integerValue"in n}function g_(n){return!!n&&"arrayValue"in n}function HO(n){return!!n&&"nullValue"in n}function zO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eI(n){return!!n&&"mapValue"in n}function m_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ul(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=m_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=m_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=m_(t)}setAll(e){let t=lr.emptyPath(),r={},i=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}l?r[f.lastSegment()]=m_(l):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());eI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];eI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ul(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wr(m_(this.value))}}function KO(n){const e=[];return Ul(n.fields,(t,r)=>{const i=new lr([t]);if(eI(r)){const a=KO(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Ui(e)}class Ln{constructor(e,t,r,i,a,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Ln(e,0,gt.min(),gt.min(),gt.min(),Wr.empty(),0)}static newFoundDocument(e,t,r,i){return new Ln(e,1,t,gt.min(),r,i,0)}static newNoDocument(e,t){return new Ln(e,2,t,gt.min(),gt.min(),Wr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,gt.min(),gt.min(),Wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bu{constructor(e,t){this.position=e,this.inclusive=t}}function YO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Ge.comparator(Ge.fromName(l.referenceValue),t.key):Vu(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function QO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}class Bf{constructor(e,t="asc"){this.field=e,this.dir=t}}function g2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JO{}class Kt extends JO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new m2(e,t,r):"array-contains"===t?new v2(e,r):"in"===t?new iR(e,r):"not-in"===t?new C2(e,r):"array-contains-any"===t?new w2(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new y2(e,r):new _2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vu(t,this.value)):null!==t&&$l(this.value)===$l(t)&&this.matchesComparison(Vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends JO{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new yn(e,t)}matches(e){return $f(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function $f(n){return"and"===n.op}function VA(n){return function XO(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}(n)&&$f(n)}function BA(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+Vf(n.value);if(VA(n))return n.filters.map(e=>BA(e)).join(",");{const e=n.filters.map(t=>BA(t)).join(",");return`${n.op}(${e})`}}function eR(n,e){return n instanceof Kt?(t=n,(r=e)instanceof Kt&&t.op===r.op&&t.field.isEqual(r.field)&&No(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&eR(a,r.filters[l]),!0)}(n,e):void st();var t,r}function nR(n){return n instanceof Kt?`${(e=n).field.canonicalString()} ${e.op} ${Vf(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(nR).join(" ,")+"}"}(n):"Filter";var e}class m2 extends Kt{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class y2 extends Kt{constructor(e,t){super(e,"in",t),this.keys=rR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _2 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=rR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class v2 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g_(t)&&p_(t.arrayValue,this.value)}}class iR extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&p_(this.value.arrayValue,t)}}class C2 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(p_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!p_(this.value.arrayValue,t)}}class w2 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>p_(this.value.arrayValue,r))}}class E2{constructor(e,t=null,r=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.ft=null}}function $A(n,e=null,t=[],r=[],i=null,a=null,l=null){return new E2(n,e,t,r,i,a,l)}function Gl(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>BA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),d_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vf(r)).join(",")),e.ft=t}return e.ft}function y_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QO(n.startAt,e.startAt)&&QO(n.endAt,e.endAt)}function tI(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ta{constructor(e,t=null,r=[],i=[],a=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.dt=null,this.wt=null}}function jf(n){return new Ta(n)}function uR(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function GA(n){return null!==n.collectionGroup}function Hl(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=rI(e),r=jA(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Bf(t)),e.dt.push(new Bf(lr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Bf(lr.keyField(),a))}}}return e.dt}function Si(n){const e=Ze(n);if(!e.wt)if("F"===e.limitType)e.wt=$A(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Hl(e))t.push(new Bf(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Bu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bu(e.startAt.position,e.startAt.inclusive):null;e.wt=$A(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function HA(n,e){e.getFirstInequalityField(),rI(n);const t=n.filters.concat([e]);return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function iI(n,e,t){return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function __(n,e){return y_(Si(n),Si(e))&&n.limitType===e.limitType}function cR(n){return`${Gl(Si(n))}|lt:${n.limitType}`}function zA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>nR(r)).join(", ")}]`),d_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vf(r)).join(",")),`Target(${t})`}(Si(n))}; limitType=${n.limitType})`}function v_(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Hl(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const f=YO(i,a,l);return i.inclusive?f<=0:f<0}(t.startAt,Hl(t),r)||t.endAt&&!function(i,a,l){const f=YO(i,a,l);return i.inclusive?f>=0:f>0}(t.endAt,Hl(t),r)));var t,r}function dR(n){return(e,t)=>{let r=!1;for(const i of Hl(n)){const a=I2(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function I2(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,a,l){const f=a.data.field(i),m=l.data.field(i);return null!==f&&null!==m?Vu(f,m):st()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}class $u{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ul(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return BO(this.inner)}size(){return this.innerSize}}const D2=new Xn(Ge.comparator);function Vi(){return D2}const hR=new Xn(Ge.comparator);function C_(...n){let e=hR;for(const t of n)e=e.insert(t.key,t);return e}function fR(n){let e=hR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Po(){return w_()}function pR(){return w_()}function w_(){return new $u(n=>n.toString(),(n,e)=>n.isEqual(e))}const b2=new Xn(Ge.comparator),T2=new wn(Ge.comparator);function jt(...n){let e=T2;for(const t of n)e=e.add(t);return e}const S2=new wn(kt);function sI(){return S2}function gR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h_(e)?"-0":e}}function mR(n){return{integerValue:""+n}}function yR(n,e){return function PO(n){return"number"==typeof n&&Number.isInteger(n)&&!h_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?mR(e):gR(n,e)}class oI{constructor(){this._=void 0}}function A2(n,e,t){return n instanceof Gf?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof zl?vR(n,e):n instanceof ql?CR(n,e):function(r,i){const a=_R(r,i),l=wR(a)+wR(r._t);return LA(a)&&LA(r._t)?mR(l):gR(r.serializer,l)}(n,e)}function x2(n,e,t){return n instanceof zl?vR(n,e):n instanceof ql?CR(n,e):t}function _R(n,e){return n instanceof Hf?LA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Gf extends oI{}class zl extends oI{constructor(e){super(),this.elements=e}}function vR(n,e){const t=ER(e);for(const r of n.elements)t.some(i=>No(i,r))||t.push(r);return{arrayValue:{values:t}}}class ql extends oI{constructor(e){super(),this.elements=e}}function CR(n,e){let t=ER(e);for(const r of n.elements)t=t.filter(i=>!No(i,r));return{arrayValue:{values:t}}}class Hf extends oI{constructor(e,t){super(),this.serializer=e,this._t=t}}function wR(n){return er(n.integerValue||n.doubleValue)}function ER(n){return g_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E_{constructor(e,t){this.field=e,this.transform=t}}class N2{constructor(e,t){this.version=e,this.transformResults=t}}class zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class uI{}function IR(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qf(n.key,zn.none()):new zf(n.key,n.data,zn.none());{const t=n.data,r=Wr.empty();let i=new wn(lr.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Sa(n.key,r,new Ui(i.toArray()),zn.none())}}function P2(n,e,t){n instanceof zf?function(r,i,a){const l=r.value.clone(),f=TR(r.fieldTransforms,i,a.transformResults);l.setAll(f),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Sa?function(r,i,a){if(!aI(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=TR(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(bR(r)),f.setAll(l),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function I_(n,e,t,r){return n instanceof zf?function(i,a,l,f){if(!aI(i.precondition,a))return l;const m=i.value.clone(),_=SR(i.fieldTransforms,f,a);return m.setAll(_),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Sa?function(i,a,l,f){if(!aI(i.precondition,a))return l;const m=SR(i.fieldTransforms,f,a),_=a.data;return _.setAll(bR(i)),_.setAll(m),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(l=t,aI(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function O2(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=_R(r.transform,i||null);null!=a&&(null===t&&(t=Wr.empty()),t.set(r.field,a))}return t||null}function DR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Lf(t,r,(i,a)=>function M2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zl&&r instanceof zl||t instanceof ql&&r instanceof ql?Lf(t.elements,r.elements,No):t instanceof Hf&&r instanceof Hf?No(t._t,r._t):t instanceof Gf&&r instanceof Gf);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zf extends uI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sa extends uI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TR(n,e,t){const r=new Map;ht(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,f=e.data.field(a.field);r.set(a.field,x2(l,f,t[i]))}return r}function SR(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,A2(a,l,e))}return r}class qf extends uI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qA extends uI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&P2(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=I_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=I_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pR();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=t.has(i.key)?null:f;const m=IR(l,f);null!==m&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(gt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&Lf(this.mutations,e.mutations,(t,r)=>DR(t,r))&&Lf(this.baseMutations,e.baseMutations,(t,r)=>DR(t,r))}}class WA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ht(e.mutations.length===r.length);let i=b2;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new WA(e,t,r,i)}}class KA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F2{constructor(e){this.count=e}}var wr,rn;function xR(n){if(void 0===n)return cr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case wr.OK:return ee.OK;case wr.CANCELLED:return ee.CANCELLED;case wr.UNKNOWN:return ee.UNKNOWN;case wr.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wr.INTERNAL:return ee.INTERNAL;case wr.UNAVAILABLE:return ee.UNAVAILABLE;case wr.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wr.NOT_FOUND:return ee.NOT_FOUND;case wr.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wr.ABORTED:return ee.ABORTED;case wr.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wr.DATA_LOSS:return ee.DATA_LOSS;default:return st()}}(rn=wr||(wr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class QA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cI}static getOrCreateInstance(){return null===cI&&(cI=new QA),cI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cI=null;class D_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,b_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new D_(gt.min(),i,sI(),Vi(),jt())}}class b_{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new b_(r,t,jt(),jt(),jt())}}class lI{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class MR{constructor(e,t){this.targetId=e,this.Et=t}}class NR{constructor(e,t,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class PR{constructor(){this.At=0,this.Rt=RR(),this.vt=kr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=jt(),t=jt(),r=jt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:st()}}),new b_(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=RR()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class L2{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Vi(),this.qt=OR(),this.Ut=new wn(kt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.Wt(i)&&t(i)})}Jt(e){var t;const r=e.targetId,i=e.Et.count,a=this.Yt(r);if(a){const l=a.target;if(tI(l))if(0===i){const f=new Ge(l.path);this.Qt(r,f,Ln.newNoDocument(f,gt.min()))}else ht(1===i);else{const f=this.Zt(r);f!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=QA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,l)=>{const f=this.Yt(l);if(f){if(a.current&&tI(f.target)){const m=new Ge(f.target.path);null!==this.Lt.get(m)||this.te(l,m)||this.Qt(l,m,Ln.newNoDocument(m,e))}a.St&&(t.set(l,a.Ct()),a.xt())}});let r=jt();this.qt.forEach((a,l)=>{let f=!0;l.forEachWhile(m=>{const _=this.Yt(m);return!_||2===_.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.Lt.forEach((a,l)=>l.setReadTime(e));const i=new D_(e,t,this.Ut,this.Lt,r);return this.Lt=Vi(),this.qt=OR(),this.Ut=new wn(kt),i}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new PR,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new wn(kt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Te("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new PR),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function OR(){return new Xn(Ge.comparator)}function RR(){return new Xn(Ge.comparator)}const U2={asc:"ASCENDING",desc:"DESCENDING"},V2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class $2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j2(n,e){return Zf(n,e.toTimestamp())}function dr(n){return ht(!!n),gt.fromTimestamp(function(e){const t=Lu(e);return new Zn(t.seconds,t.nanos)}(n))}function JA(n,e){return(t=n,new nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function FR(n){const e=nn.fromString(n);return ht(zR(e)),e}function T_(n,e){return JA(n.databaseId,e.path)}function Oo(n,e){const t=FR(e);if(t.get(1)!==n.databaseId.projectId)throw new De(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(UR(t))}function XA(n,e){return JA(n.databaseId,e)}function S_(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UR(n){return ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VR(n,e,t){return{name:T_(n,e),fields:t.value.mapValue.fields}}function $R(n,e){return{documents:[XA(n,e.path)]}}function t1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=XA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=XA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return HR(yn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(_=>{return{field:ju((C=_).field),direction:Z2(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=(_=e.limit,n.useProto3Json||d_(_)?_:{value:_});var _,f,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function jR(n){let e=function LR(n){const e=FR(n);return 4===e.length?nn.emptyPath():UR(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ht(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const E=GR(C);return E instanceof yn&&VA(E)?E.getFilters():[E]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new Bf(Wf((E=C).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let f=null;t.limit&&(f=function(C){let E;return E="object"==typeof C?C.value:C,d_(E)?null:E}(t.limit));let m=null;var C;t.startAt&&(m=new Bu((C=t.startAt).values||[],!!C.before));let _=null;return t.endAt&&(_=function(C){return new Bu(C.values||[],!C.before)}(t.endAt)),function aR(n,e,t,r,i,a,l,f){return new Ta(n,e,t,r,i,a,l,f)}(e,i,l,a,f,"F",m,_)}function GR(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Wf(e.unaryFilter.field);return Kt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Wf(e.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wf(e.unaryFilter.field);return Kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wf(e.unaryFilter.field);return Kt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?Kt.create(Wf((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>GR(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function Z2(n){return U2[n]}function W2(n){return V2[n]}function K2(n){return B2[n]}function ju(n){return{fieldPath:n.canonicalString()}}function Wf(n){return lr.fromServerFormat(n.fieldPath)}function HR(n){return n instanceof Kt?function(e){if("=="===e.op){if(zO(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NAN"}};if(HO(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zO(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NAN"}};if(HO(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(e.field),op:W2(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>HR(r));return 1===t.length?t[0]:{compositeFilter:{op:K2(e.op),filters:t}}}(n):st()}function Y2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function zR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gu{constructor(e,t,r,i,a=gt.min(),l=gt.min(),f=kr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qR{constructor(e){this.se=e}}function n1(n){const e=jR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iI(e,e.limit,"L"):e}class Yl{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(er(e.integerValue));else if("doubleValue"in e){const r=er(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),h_(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Vl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?qO(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):st()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const i of Object.keys(r))this.fe(i,t),this.ue(r[i],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const i of r)this.ue(i,t)}_e(e,t){this.ae(t,37),Ge.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}Yl.pe=new Yl;class sU{constructor(){this.He=new u1}addToCollectionParentIndex(e,t){return this.He.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(ss.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class u1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wn(nn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wn(nn.comparator)).toArray()}}new Uint8Array(0);class Bi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bi(e,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(41943040,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class Jl{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Jl(0)}static bn(){return new Jl(-1)}}class hU{constructor(){this.changes=new $u(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&I_(r.mutation,i,Ui.empty(),Zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){const i=Po();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=C_();return a.forEach((f,m)=>{l=l.insert(f,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Po();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,r,i){let a=Vi();const l=w_(),f=w_();return t.forEach((m,_)=>{const C=r.get(_.key);i.has(_.key)&&(void 0===C||C.mutation instanceof Sa)?a=a.insert(_.key,_):void 0!==C?(l.set(_.key,C.mutation.getFieldMask()),I_(C.mutation,_,C.mutation.getFieldMask(),Zn.now())):l.set(_.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((_,C)=>l.set(_,C)),t.forEach((_,C)=>{var E;return f.set(_,new gU(C,null!==(E=l.get(_))&&void 0!==E?E:null))}),f))}recalculateAndSaveOverlays(e,t){const r=w_();let i=new Xn((l,f)=>l-f),a=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(m=>{const _=t.get(m);if(null===_)return;let C=r.get(m)||Ui.empty();C=f.applyToLocalView(_,C),r.set(m,C);const E=(i.get(f.batchId)||jt()).add(m);i=i.insert(f.batchId,E)})}).next(()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),_=m.key,C=m.value,E=pR();C.forEach(N=>{if(!a.has(N)){const U=IR(t.get(N),r.get(N));null!==U&&E.set(N,U),a=a.add(N)}}),l.push(this.documentOverlayCache.saveOverlays(e,_,E))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):GA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Y.resolve(Po());let f=-1,m=a;return l.next(_=>Y.forEach(_,(C,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),a.get(C)?Y.resolve():this.remoteDocumentCache.getEntry(e,C).next(N=>{m=m.insert(C,N)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,m,_,jt())).next(C=>({batchId:f,changes:fR(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=C_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=C_();return this.indexManager.getCollectionParents(e,i).next(l=>Y.forEach(l,f=>{const m=(_=t,C=f.child(i),new Ta(C,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(_=>{_.forEach((C,E)=>{a=a.insert(C,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const _=m.getKey();null===a.get(_)&&(a=a.insert(_,Ln.newInvalidDocument(_)))});let l=C_();return a.forEach((f,m)=>{const _=i.get(f);void 0!==_&&I_(_.mutation,m,Ui.empty(),Zn.now()),v_(t,m)&&(l=l.insert(f,m))}),l})}}class mU{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Y.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:dr(r.createTime)}),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:n1(r.bundledQuery),readTime:dr(r.readTime)}),Y.resolve();var r}}class yU{constructor(){this.overlays=new Xn(Ge.comparator),this.ts=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Po();return Y.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.re(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ts.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const i=Po(),a=t.length+1,l=new Ge(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Xn((_,C)=>_-C);const l=this.overlays.getIterator();for(;l.hasNext();){const _=l.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let C=a.get(_.largestBatchId);null===C&&(C=Po(),a=a.insert(_.largestBatchId,C)),C.set(_.getKey(),_)}}const f=Po(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,C)=>f.set(_,C)),!(f.size()>=i)););return Y.resolve(f)}re(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new KA(t,r));let a=this.ts.get(t);void 0===a&&(a=jt(),this.ts.set(t,a)),this.ts.set(t,a.add(r.key))}}class c1{constructor(){this.es=new wn(Kr.ns),this.ss=new wn(Kr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new Kr(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new Kr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new Ge(new nn([])),r=new Kr(t,e),i=new Kr(t,e+1),a=[];return this.ss.forEachInRange([r,i],l=>{this.us(l),a.push(l.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ge(new nn([])),r=new Kr(t,e),i=new Kr(t,e+1);let a=jt();return this.ss.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Kr(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Kr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ge.comparator(e.key,t.key)||kt(e.ds,t.ds)}static rs(e,t){return kt(e.ds,t.ds)||Ge.comparator(e.key,t.key)}}class _U{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new wn(Kr.ns)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const l=new ZA(a,t,r,i);this.mutationQueue.push(l);for(const f of i)this._s=this._s.add(new Kr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,t){return Y.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ys(t+1),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kr(t,0),i=new Kr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],l=>{const f=this.gs(l.ds);a.push(f)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(kt);return t.forEach(i=>{const a=new Kr(i,0),l=new Kr(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,l],f=>{r=r.add(f.ds)})}),Y.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ge.isDocumentKey(a)||(a=a.child(""));const l=new Kr(new Ge(a),0);let f=new wn(kt);return this._s.forEachWhile(m=>{const _=m.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(m.ds)),!0)},l),Y.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(r=>{const i=this.gs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ht(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return Y.forEach(t.mutations,i=>{const a=new Kr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new Kr(t,0),i=this._s.firstAfterOrEqual(r);return Y.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Y.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vU{constructor(e){this.Ts=e,this.docs=new Xn(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Vi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ln.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Vi();const l=t.path,f=new Ge(l.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:_,value:{document:C}}=m.getNext();if(!l.isPrefixOf(_.path))break;_.path.length>l.length+1||NA(xO(C),r)<=0||(i.has(C.key)||v_(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,i){st()}Es(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CU(this)}getSize(e){return Y.resolve(this.size)}}class CU extends hU{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class wU{constructor(e){this.persistence=e,this.As=new $u(t=>Gl(t),y_),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new c1,this.targetCount=0,this.bs=Jl.vn()}forEachTarget(e,t){return this.As.forEach((r,i)=>t(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),Y.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Jl(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Sn(t),Y.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.As.forEach((l,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.As.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.vs.containsKey(t))}}class yk{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new os(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new wU(this),this.indexManager=new sU,this.remoteDocumentCache=new vU(r=>this.referenceDelegate.Cs(r)),this.serializer=new qR(t),this.xs=new mU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new _U(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const i=new EU(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(a=>this.referenceDelegate.ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,t){return Y.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class EU extends $3{constructor(e){super(),this.currentSequenceNumber=e}}class vI{constructor(e){this.persistence=e,this.$s=new c1,this.Ms=null}static Fs(e){return new vI(e)}get Bs(){if(this.Ms)return this.Ms;throw st()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),Y.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Bs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Bs,r=>{const i=Ge.fromPath(r);return this.Ls(e,i).next(a=>{a||t.removeEntry(i,gt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return Y.or([()=>Y.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class f1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=i}static Di(e,t){let r=jt(),i=jt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new f1(e,t.fromCache,r,i)}}class vk{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ni(e,t).next(a=>a||this.ki(e,t,i,r)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(uR(t))return Y.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=iI(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=jt(...a);return this.xi.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const _=this.$i(t,f);return this.Mi(t,_,l,m.readTime)?this.Ni(e,iI(t,null,"F")):this.Fi(e,_,t,m)}))})))}ki(e,t,r,i){return uR(t)||i.isEqual(gt.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(a=>{const l=this.$i(t,a);return this.Mi(t,l,r,i)?this.Oi(e,t):(AA()<=es.in.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zA(t)),this.Fi(e,l,t,function AO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gt.fromTimestamp(1e9===r?new Zn(t+1,0):new Zn(t,r));return new ss(i,Ge.empty(),e)}(i,-1)))})}$i(e,t){let r=new wn(dR(e));return t.forEach((i,a)=>{v_(e,a)&&(r=r.add(a))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,t){return AA()<=es.in.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zA(t)),this.xi.getDocumentsMatchingQuery(e,t,ss.min())}Fi(e,t,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class DU{constructor(e,t,r,i){this.persistence=e,this.Bi=t,this.serializer=i,this.Li=new Xn(kt),this.qi=new $u(a=>Gl(a),y_),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mk(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function wk(n,e){return p1.apply(this,arguments)}function p1(){return p1=(0,V.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],f=[];let m=jt();for(const _ of i){l.push(_.batchId);for(const C of _.mutations)m=m.add(C.key)}for(const _ of a){f.push(_.batchId);for(const C of _.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(_=>({Qi:_,removedBatchIds:l,addedBatchIds:f}))})})}),p1.apply(this,arguments)}function Ek(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function SU(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jf(n,e,t){return g1.apply(this,arguments)}function g1(){return g1=(0,V.Z)(function*(n,e,t){const r=Ze(n),i=r.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Fu(l))throw l;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}),g1.apply(this,arguments)}function wI(n,e,t){const r=Ze(n);let i=gt.min(),a=jt();return r.persistence.runTransaction("Execute query","readonly",l=>function(f,m,_){const C=Ze(f),E=C.qi.get(_);return void 0!==E?Y.resolve(C.Li.get(E)):C.Ds.getTargetData(m,_)}(r,l,Si(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(l,f.targetId).next(m=>{a=m})}).next(()=>r.Bi.getDocumentsMatchingQuery(l,e,t?i:gt.min(),t?a:jt())).next(f=>(function Tk(n,e,t){let r=n.Ui.get(e)||gt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ui.set(e,r)}(r,function lR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,Wi:a})))}class C1{constructor(){this.activeTargetIds=sI()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.Br=new C1,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new C1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MU{qr(e){}shutdown(){}}class Mk{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let DI=null;function E1(){return null===DI?DI=268435456+Math.round(2147483648*Math.random()):DI++,"0x"+DI.toString(16)}const NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PU{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const mi="WebChannelConnection";class OU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,i,a){const l=E1(),f=this.ao(e,t);Te("RestConnection",`Sending RPC '${e}' ${l}:`,f,r);const m={};return this.ho(m,i,a),this.lo(e,f,m,r).then(_=>(Te("RestConnection",`Received RPC '${e}' ${l}: `,_),_),_=>{throw ba("RestConnection",`RPC '${e}' ${l} failed with error: `,_,"url: ",f,"request:",r),_})}fo(e,t,r,i,a,l){return this.co(e,t,r,i,a)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ff,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,t){return`${this.ro}/v1/${t}:${NU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){const a=E1();return new Promise((l,f)=>{const m=new M3;m.setWithCredentials(!0),m.listenOnce(S3.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case SA.NO_ERROR:const C=m.getResponseJson();Te(mi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),l(C);break;case SA.TIMEOUT:Te(mi,`RPC '${e}' ${a} timed out`),f(new De(ee.DEADLINE_EXCEEDED,"Request time out"));break;case SA.HTTP_ERROR:const E=m.getStatus();if(Te(mi,`RPC '${e}' ${a} failed with status:`,E,"response text:",m.getResponseText()),E>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const Q=function(Ee){const xe=Ee.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(xe)>=0?xe:ee.UNKNOWN}(U.status);f(new De(Q,U.message))}else f(new De(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new De(ee.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Te(mi,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(i);Te(mi,`RPC '${e}' ${a} sending request:`,i),m.send(t,"POST",_,r,15)})}wo(e,t,r){const i=E1(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=b3(),f=T3(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new x3({})),this.ho(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const _=a.join("");Te(mi,`Creating RPC '${e}' stream ${i}: ${_}`,m);const C=l.createWebChannel(_,m);let E=!1,N=!1;const U=new PU({Wr:Ee=>{N?Te(mi,`Not sending because RPC '${e}' stream ${i} is closed:`,Ee):(E||(Te(mi,`Opening RPC '${e}' stream ${i} transport.`),C.open(),E=!0),Te(mi,`RPC '${e}' stream ${i} sending:`,Ee),C.send(Ee))},Hr:()=>C.close()}),Q=(Ee,xe,Dt)=>{Ee.listen(xe,Mt=>{try{Dt(Mt)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return Q(C,ZE.EventType.OPEN,()=>{N||Te(mi,`RPC '${e}' stream ${i} transport opened.`)}),Q(C,ZE.EventType.CLOSE,()=>{N||(N=!0,Te(mi,`RPC '${e}' stream ${i} transport closed`),U.so())}),Q(C,ZE.EventType.ERROR,Ee=>{N||(N=!0,ba(mi,`RPC '${e}' stream ${i} transport errored:`,Ee),U.so(new De(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(C,ZE.EventType.MESSAGE,Ee=>{var xe;if(!N){const Dt=Ee.data[0];ht(!!Dt);const Ft=Dt.error||(null===(xe=Dt[0])||void 0===xe?void 0:xe.error);if(Ft){Te(mi,`RPC '${e}' stream ${i} received error:`,Ft);const fr=Ft.status;let Sn=function(yi){const ko=wr[yi];if(void 0!==ko)return xR(ko)}(fr),En=Ft.message;void 0===Sn&&(Sn=ee.INTERNAL,En="Unknown error status: "+fr+" with message "+Ft.message),N=!0,U.so(new De(Sn,En)),C.close()}else Te(mi,`RPC '${e}' stream ${i} received:`,Dt),U.io(Dt)}}),Q(f,A3.STAT_EVENT,Ee=>{Ee.stat===EO.PROXY?Te(mi,`RPC '${e}' stream ${i} detected buffering proxy`):Ee.stat===EO.NOPROXY&&Te(mi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{U.no()},0),U}}function bI(){return typeof document<"u"?document:null}function L_(n){return new $2(n,!0)}class I1{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Pk{constructor(e,t,r,i,a,l,f,m){this.Ws=e,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new I1(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,V.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,V.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,V.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.Ko(r,i)},r=>{e(()=>{const i=new De(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){var e=this;this.state=5,this.Co.Ao((0,V.Z)(function*(){e.state=0,e.start()}))}Go(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RU extends Pk{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function H2(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:st(),i=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(ht(void 0===_||"string"==typeof _),kr.fromBase64String(_||"")):(ht(void 0===_||_ instanceof Uint8Array),kr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(m){const _=void 0===m.code?ee.UNKNOWN:xR(m.code);return new De(_,m.message||"")}(l);t=new NR(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Oo(n,r.document.name),a=dr(r.document.updateTime),l=r.document.createTime?dr(r.document.createTime):gt.min(),f=new Wr({mapValue:{fields:r.document.fields}}),m=Ln.newFoundDocument(i,a,l,f);t=new lI(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Oo(n,r.document),a=r.readTime?dr(r.readTime):gt.min(),l=Ln.newNoDocument(i,a);t=new lI([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=Oo(n,r.document);t=new lI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return st();{const r=e.filter,a=new F2(r.count||0);t=new MR(r.targetId,a)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return gt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?gt.min():a.readTime?dr(a.readTime):gt.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=S_(this.serializer),t.addTarget=function(i,a){let l;const f=a.target;return l=tI(f)?{documents:$R(i,f)}:{query:t1(i,f)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=kR(i,a.resumeToken):a.snapshotVersion.compareTo(gt.min())>0&&(l.readTime=Zf(i,a.snapshotVersion.toTimestamp())),l}(this.serializer,e);const r=function q2(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=S_(this.serializer),t.removeTarget=e,this.Fo(t)}}class kU extends Pk{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function z2(n,e){return n&&n.length>0?(ht(void 0!==e),n.map(t=>function(r,i){let a=dr(r.updateTime?r.updateTime:i);return a.isEqual(gt.min())&&(a=dr(i)),new N2(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.Zo(r,t)}return ht(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=S_(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function A_(n,e){let t;if(e instanceof zf)t={update:VR(n,e.key,e.value)};else if(e instanceof qf)t={delete:T_(n,e.key)};else if(e instanceof Sa)t={update:VR(n,e.key,e.data),updateMask:Y2(e.fieldMask)};else{if(!(e instanceof qA))return st();t={verify:T_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Gf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hf)return{fieldPath:a.field.canonicalString(),increment:l._t};throw st()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:j2(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),t;var i}(this.serializer,r))};this.Fo(t)}}class FU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new De(ee.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(ee.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.fo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ee.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class UU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(cr(t),this.ru=!1):Te("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class VU{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(f=>{r.enqueueAndForget((0,V.Z)(function*(){var m;Zu(l)&&(Te("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,V.Z)(function*(_){const C=Ze(_);C.du.add(4),yield Xf(C),C.mu.set("Unknown"),C.du.delete(4),yield U_(C)}),function(_){return m.apply(this,arguments)})(l))}))}),this.mu=new UU(r,i)}}function U_(n){return b1.apply(this,arguments)}function b1(){return b1=(0,V.Z)(function*(n){if(Zu(n))for(const e of n.wu)yield e(!0)}),b1.apply(this,arguments)}function Xf(n){return T1.apply(this,arguments)}function T1(){return T1=(0,V.Z)(function*(n){for(const e of n.wu)yield e(!1)}),T1.apply(this,arguments)}function TI(n,e){const t=Ze(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),x1(t)?A1(t):tp(t).No()&&S1(t,e))}function V_(n,e){const t=Ze(n),r=tp(t);t.fu.delete(e),r.No()&&Ok(t,e),0===t.fu.size&&(r.No()?r.$o():Zu(t)&&t.mu.set("Unknown"))}function S1(n,e){n.gu.Ot(e.targetId),tp(n).jo(e)}function Ok(n,e){n.gu.Ot(e),tp(n).Wo(e)}function A1(n){n.gu=new L2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),tp(n).start(),n.mu.ou()}function x1(n){return Zu(n)&&!tp(n).xo()&&n.fu.size>0}function Zu(n){return 0===Ze(n).du.size}function Rk(n){n.gu=void 0}function BU(n){return M1.apply(this,arguments)}function M1(){return M1=(0,V.Z)(function*(n){n.fu.forEach((e,t)=>{S1(n,e)})}),M1.apply(this,arguments)}function $U(n,e){return N1.apply(this,arguments)}function N1(){return N1=(0,V.Z)(function*(n,e){Rk(n),x1(n)?(n.mu.au(e),A1(n)):n.mu.set("Unknown")}),N1.apply(this,arguments)}function jU(n,e,t){return P1.apply(this,arguments)}function P1(){return P1=(0,V.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof NR&&2===e.state&&e.cause)try{yield(r=(0,V.Z)(function*(i,a){const l=a.cause;for(const f of a.targetIds)i.fu.has(f)&&(yield i.remoteSyncer.rejectListen(f,l),i.fu.delete(f),i.gu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield SI(n,r)}else if(e instanceof lI?n.gu.Kt(e):e instanceof MR?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(gt.min()))try{const r=yield Ek(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.gu.Xt(a);return l.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=i.fu.get(m);_&&i.fu.set(m,_.withResumeToken(f.resumeToken,a))}}),l.targetMismatches.forEach(f=>{const m=i.fu.get(f);if(!m)return;i.fu.set(f,m.withResumeToken(kr.EMPTY_BYTE_STRING,m.snapshotVersion)),Ok(i,f);const _=new Gu(m.target,f,1,m.sequenceNumber);S1(i,_)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Te("RemoteStore","Failed to raise snapshot:",r),yield SI(n,r)}var r}),P1.apply(this,arguments)}function SI(n,e,t){return O1.apply(this,arguments)}function O1(){return O1=(0,V.Z)(function*(n,e,t){if(!Fu(e))throw e;n.du.add(1),yield Xf(n),n.mu.set("Offline"),t||(t=()=>Ek(n.localStore)),n.asyncQueue.enqueueRetryable((0,V.Z)(function*(){Te("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield U_(n)}))}),O1.apply(this,arguments)}function kk(n,e){return e().catch(t=>SI(n,t,e))}function ep(n){return R1.apply(this,arguments)}function R1(){return R1=(0,V.Z)(function*(n){const e=Ze(n),t=Wu(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;GU(e);)try{const i=yield SU(e.localStore,r);if(null===i){0===e.lu.length&&t.$o();break}r=i.batchId,HU(e,i)}catch(i){yield SI(e,i)}Fk(e)&&Lk(e)}),R1.apply(this,arguments)}function GU(n){return Zu(n)&&n.lu.length<10}function HU(n,e){n.lu.push(e);const t=Wu(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Fk(n){return Zu(n)&&!Wu(n).xo()&&n.lu.length>0}function Lk(n){Wu(n).start()}function zU(n){return k1.apply(this,arguments)}function k1(){return k1=(0,V.Z)(function*(n){Wu(n).tu()}),k1.apply(this,arguments)}function qU(n){return F1.apply(this,arguments)}function F1(){return F1=(0,V.Z)(function*(n){const e=Wu(n);for(const t of n.lu)e.Yo(t.mutations)}),F1.apply(this,arguments)}function ZU(n,e,t){return L1.apply(this,arguments)}function L1(){return L1=(0,V.Z)(function*(n,e,t){const r=n.lu.shift(),i=WA.from(r,e,t);yield kk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ep(n)}),L1.apply(this,arguments)}function WU(n,e){return U1.apply(this,arguments)}function U1(){return U1=(0,V.Z)(function*(n,e){var t;e&&Wu(n).Jo&&(yield(t=(0,V.Z)(function*(r,i){if(function AR(n){switch(n){default:return st();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}(a=i.code)&&a!==ee.ABORTED){const l=r.lu.shift();Wu(r).Oo(),yield kk(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield ep(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Fk(n)&&Lk(n)}),U1.apply(this,arguments)}function Uk(n,e){return V1.apply(this,arguments)}function V1(){return V1=(0,V.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const r=Zu(t);t.du.add(3),yield Xf(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield U_(t)}),V1.apply(this,arguments)}function $1(){return $1=(0,V.Z)(function*(n,e){const t=Ze(n);e?(t.du.delete(2),yield U_(t)):e||(t.du.add(2),yield Xf(t),t.mu.set("Unknown"))}),$1.apply(this,arguments)}function tp(n){return n.yu||(n.yu=function(e,t,r){const i=Ze(e);return i.nu(),new RU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:BU.bind(null,n),Zr:$U.bind(null,n),zo:jU.bind(null,n)}),n.wu.push(function(){var e=(0,V.Z)(function*(t){t?(n.yu.Oo(),x1(n)?A1(n):n.mu.set("Unknown")):(yield n.yu.stop(),Rk(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Wu(n){return n.pu||(n.pu=function(e,t,r){const i=Ze(e);return i.nu(),new kU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:zU.bind(null,n),Zr:WU.bind(null,n),Xo:qU.bind(null,n),Zo:ZU.bind(null,n)}),n.wu.push(function(){var e=(0,V.Z)(function*(t){t?(n.pu.Oo(),yield ep(n)):(yield n.pu.stop(),n.lu.length>0&&(Te("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class j1{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,f=new j1(e,t,l,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(n,e){if(cr("AsyncQueue",`${e}: ${n}`),Fu(n))return new De(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class rp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=C_(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new rp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new rp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Vk{constructor(){this.Iu=new Xn(Ge.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):st():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ip{constructor(e,t,r,i,a,l,f,m,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new ip(e,t,rp.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&__(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class KU{constructor(){this.Eu=void 0,this.listeners=[]}}class YU{constructor(){this.queries=new $u(e=>cR(e),__),this.onlineState="Unknown",this.Au=new Set}}function G1(n,e){return H1.apply(this,arguments)}function H1(){return H1=(0,V.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new KU),i)try{a.Eu=yield t.onListen(r)}catch(l){const f=np(l,`Initialization of query '${zA(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&Z1(t)}),H1.apply(this,arguments)}function z1(n,e){return q1.apply(this,arguments)}function q1(){return q1=(0,V.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),q1.apply(this,arguments)}function QU(n,e){const t=Ze(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const f of l.listeners)f.vu(i)&&(r=!0);l.Eu=i}}r&&Z1(t)}function JU(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Z1(n){n.Au.forEach(e=>{e.next()})}class W1{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ip(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=ip.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class jk{constructor(e){this.key=e}}class Gk{constructor(e){this.key=e}}class Hk{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=jt(),this.mutatedKeys=jt(),this.Ku=dR(e),this.Gu=new rp(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new Vk,i=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,E)=>{const N=i.get(C),U=v_(this.query,E)?E:null,Q=!!N&&this.mutatedKeys.has(N.key),Ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let xe=!1;N&&U?N.data.isEqual(U.data)?Q!==Ee&&(r.track({type:3,doc:U}),xe=!0):this.Wu(N,U)||(r.track({type:2,doc:U}),xe=!0,(m&&this.Ku(U,m)>0||_&&this.Ku(U,_)<0)&&(f=!0)):!N&&U?(r.track({type:0,doc:U}),xe=!0):N&&!U&&(r.track({type:1,doc:N}),xe=!0,(m||_)&&(f=!0)),xe&&(U?(l=l.add(U),a=Ee?a.add(C):a.delete(C)):(l=l.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),a=a.delete(C.key),r.track({type:1,doc:C})}return{Gu:l,ju:r,Mi:f,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((_,C)=>function(E,N){const U=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return U(E)-U(N)}(_.type,C.type)||this.Ku(_.doc,C.doc)),this.Hu(r);const l=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,m=f!==this.qu;return this.qu=f,0!==a.length||m?{snapshot:new ip(this.query,e.Gu,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:l}:{Yu:l}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Vk,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=jt(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new Gk(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new jk(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=jt();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return ip.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class tV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nV{constructor(e){this.key=e,this.ec=!1}}class rV{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new $u(f=>cR(f),__),this.ic=new Map,this.rc=new Set,this.oc=new Xn(Ge.comparator),this.uc=new Map,this.cc=new c1,this.ac={},this.hc=new Map,this.lc=Jl.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function iV(n,e){return K1.apply(this,arguments)}function K1(){return K1=(0,V.Z)(function*(n,e){const t=function _x(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aV.bind(null,e),e.nc.zo=QU.bind(null,e.eventManager),e.nc.wc=JU.bind(null,e.eventManager),e}(n);let r,i;const a=t.sc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=yield function Qf(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ds.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):t.Ds.allocateTargetId(r).next(l=>(i=new Gu(e,l,0,r.currentSequenceNumber),t.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Li.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}(t.localStore,Si(e));t.isPrimaryClient&&TI(t.remoteStore,l);const f=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield function Y1(n,e,t,r,i){return Q1.apply(this,arguments)}(t,e,r,"current"===f,l.resumeToken)}return i}),K1.apply(this,arguments)}function Q1(){return Q1=(0,V.Z)(function*(n,e,t,r,i){n.dc=(E,N,U)=>{return(Q=(0,V.Z)(function*(Ee,xe,Dt,Mt){let Ft=xe.view.zu(Dt);Ft.Mi&&(Ft=yield wI(Ee.localStore,xe.query,!1).then(({documents:En})=>xe.view.zu(En,Ft)));const fr=Mt&&Mt.targetChanges.get(xe.targetId),Sn=xe.view.applyChanges(Ft,Ee.isPrimaryClient,fr);return ax(Ee,xe.targetId,Sn.Yu),Sn.snapshot}),function(Ee,xe,Dt,Mt){return Q.apply(this,arguments)})(n,E,N,U);var Q};const a=yield wI(n.localStore,e,!0),l=new Hk(e,a.Wi),f=l.zu(a.documents),m=b_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=l.applyChanges(f,n.isPrimaryClient,m);ax(n,t,_.Yu);const C=new tV(e,t,l);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),_.snapshot}),Q1.apply(this,arguments)}function sV(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,V.Z)(function*(n,e){const t=Ze(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(a=>!__(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),V_(t.remoteStore,r.targetId),sp(t,r.targetId)}).catch(ku))):(sp(t,r.targetId),yield Jf(t.localStore,r.targetId,!0))}),J1.apply(this,arguments)}function X1(){return X1=(0,V.Z)(function*(n,e,t){const r=function vx(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cV.bind(null,e),e}(n);try{const i=yield function(a,l){const f=Ze(a),m=Zn.now(),_=l.reduce((N,U)=>N.add(U.key),jt());let C,E;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Vi(),Q=jt();return f.Ki.getEntries(N,_).next(Ee=>{U=Ee,U.forEach((xe,Dt)=>{Dt.isValidDocument()||(Q=Q.add(xe))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,U)).next(Ee=>{C=Ee;const xe=[];for(const Dt of l){const Mt=O2(Dt,C.get(Dt.key).overlayedDocument);null!=Mt&&xe.push(new Sa(Dt.key,Mt,KO(Mt.value.mapValue),zn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,m,xe,l)}).next(Ee=>{E=Ee;const xe=Ee.applyToLocalDocumentSet(C,Q);return f.documentOverlayCache.saveOverlays(N,Ee.batchId,xe)})}).then(()=>({batchId:E.batchId,changes:fR(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,f){let m=a.ac[a.currentUser.toKey()];m||(m=new Xn(kt)),m=m.insert(l,f),a.ac[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Aa(r,i.changes),yield ep(r.remoteStore)}catch(i){const a=np(i,"Failed to persist write");t.reject(a)}}),X1.apply(this,arguments)}function zk(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,V.Z)(function*(n,e){const t=Ze(n);try{const r=yield function TU(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ki.newChangeBuffer({trackRemovals:!0});i=t.Li;const f=[];e.targetChanges.forEach((C,E)=>{const N=i.get(E);if(!N)return;f.push(t.Ds.removeMatchingKeys(a,C.removedDocuments,E).next(()=>t.Ds.addMatchingKeys(a,C.addedDocuments,E)));let U=N.withSequenceNumber(a.currentSequenceNumber);var Q,Ee,xe;e.targetMismatches.has(E)?U=U.withResumeToken(kr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):C.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(C.resumeToken,r)),i=i.insert(E,U),Ee=U,xe=C,(0===(Q=N).resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(a,U))});let m=Vi(),_=jt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(function Ik(n,e,t){let r=jt(),i=jt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=Vi();return t.forEach((f,m)=>{const _=a.get(f);m.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(gt.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):Te("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",m.version)}),{zi:l,ji:i}})}(a,l,e.documentUpdates).next(C=>{m=C.zi,_=C.ji})),!r.isEqual(gt.min())){const C=t.Ds.getLastRemoteSnapshotVersion(a).next(E=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(C)}return Y.waitFor(f).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,_)).next(()=>m)}).then(a=>(t.Li=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.uc.get(a);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?ht(l.ec):i.removedDocuments.size>0&&(ht(l.ec),l.ec=!1))}),yield Aa(t,r,e)}catch(r){yield ku(r)}}),ex.apply(this,arguments)}function qk(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((a,l)=>{const f=l.view.Ru(e);f.snapshot&&i.push(f.snapshot)}),function(a,l){const f=Ze(a);f.onlineState=l;let m=!1;f.queries.forEach((_,C)=>{for(const E of C.listeners)E.Ru(l)&&(m=!0)}),m&&Z1(f)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function aV(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,V.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new Xn(Ge.comparator);l=l.insert(a,Ln.newNoDocument(a,gt.min()));const f=jt().add(a),m=new D_(gt.min(),new Map,new wn(kt),l,f);yield zk(r,m),r.oc=r.oc.remove(a),r.uc.delete(e),ux(r)}else yield Jf(r.localStore,e,!1).then(()=>sp(r,e,t)).catch(ku)}),tx.apply(this,arguments)}function uV(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,V.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield function bU(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(l,f,m,_){const C=m.batch,E=C.keys();let N=Y.resolve();return E.forEach(U=>{N=N.next(()=>_.getEntry(f,U)).next(Q=>{const Ee=m.docVersions.get(U);ht(null!==Ee),Q.version.compareTo(Ee)<0&&(C.applyToRemoteDocument(Q,m),Q.isValidDocument()&&(Q.setReadTime(m.commitVersion),_.addEntry(Q)))})}),N.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let f=jt();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(f=f.add(l.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);ox(t,r,null),sx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Aa(t,i)}catch(i){yield ku(i)}}),nx.apply(this,arguments)}function cV(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,V.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(a,l){const f=Ze(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,l).next(C=>(ht(null!==C),_=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,e);ox(r,e,t),sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Aa(r,i)}catch(i){yield ku(i)}}),rx.apply(this,arguments)}function sx(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function ox(n,e,t){const r=Ze(n);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function sp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||Zk(n,r)})}function Zk(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(V_(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),ux(n))}function ax(n,e,t){for(const r of t)r instanceof jk?(n.cc.addReference(r.key,e),dV(n,r)):r instanceof Gk?(Te("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Zk(n,r.key)):st()}function dV(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Te("SyncEngine","New document in limbo: "+t),n.rc.add(r),ux(n))}function ux(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ge(nn.fromString(e)),r=n.lc.next();n.uc.set(r,new nV(t)),n.oc=n.oc.insert(t,r),TI(n.remoteStore,new Gu(Si(jf(t.path)),r,2,os.ct))}}function Aa(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,V.Z)(function*(n,e,t){const r=Ze(n),i=[],a=[],l=[];var f;r.sc.isEmpty()||(r.sc.forEach((f,m)=>{l.push(r.dc(m,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const C=f1.Di(m.targetId,_);a.push(C)}}))}),yield Promise.all(l),r.nc.zo(i),yield(f=(0,V.Z)(function*(m,_){const C=Ze(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(_,N=>Y.forEach(N.Vi,U=>C.persistence.referenceDelegate.addReference(E,N.targetId,U)).next(()=>Y.forEach(N.Si,U=>C.persistence.referenceDelegate.removeReference(E,N.targetId,U)))))}catch(E){if(!Fu(E))throw E;Te("LocalStore","Failed to update sequence numbers: "+E)}for(const E of _){const N=E.targetId;if(!E.fromCache){const U=C.Li.get(N),Ee=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);C.Li=C.Li.insert(N,Ee)}}}),function(m,_){return f.apply(this,arguments)})(r.localStore,a))}),cx.apply(this,arguments)}function hV(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,V.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const r=yield wk(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(l=>{l.forEach(f=>{f.reject(new De(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Aa(t,r.Qi)}var i}),lx.apply(this,arguments)}function fV(n,e){const t=Ze(n),r=t.uc.get(e);if(r&&r.ec)return jt().add(r.key);{let i=jt();const a=t.ic.get(e);if(!a)return i;for(const l of a){const f=t.sc.get(l);i=i.unionWith(f.view.Qu)}return i}}class Cx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,V.Z)(function*(){t.serializer=L_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Ck(n,e,t,r){return new DU(n,e,t,r)}(this.persistence,new vk,e.initialUser,this.serializer)}createPersistence(e){return new yk(vI.Fs,this.serializer)}createSharedClientState(e){return new xk}terminate(){var e=this;return(0,V.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class op{initialize(e,t){var r=this;return(0,V.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,r.syncEngine),yield function B1(n,e){return $1.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YU}createDatastore(e){const t=L_(e.databaseInfo.databaseId),r=new OU(e.databaseInfo);return new FU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>qk(this.syncEngine,f,0),l=Mk.D()?new Mk:new MU,new VU(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,f,m,_){const C=new rV(r,i,a,l,f,m);return _&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,V.Z)(function*(t){const r=Ze(t);Te("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield Xf(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class AI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bV{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=TO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,V.Z)(function*(f){Te("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Te("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,V.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,V.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=np(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function xI(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,V.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,V.Z)(function*(a){r.isEqual(a)||(yield wk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wx.apply(this,arguments)}function Ex(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,V.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Dx(n){return bx.apply(this,arguments)}(n);Te("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Uk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Uk(e.remoteStore,a)),n._onlineComponents=e}),Ix.apply(this,arguments)}function bx(){return bx=(0,V.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Xk(n){return"FirebaseError"===n.name?n.code===ee.FAILED_PRECONDITION||n.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),yield xI(n,new Cx)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),yield xI(n,new Cx);return n._offlineComponents}),bx.apply(this,arguments)}function MI(n){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,V.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ex(n,n._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),yield Ex(n,new op))),n._onlineComponents}),Tx.apply(this,arguments)}function ap(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,V.Z)(function*(n){const e=yield MI(n),t=e.eventManager;return t.onListen=iV.bind(null,e.syncEngine),t.onUnlisten=sV.bind(null,e.syncEngine),t}),Ax.apply(this,arguments)}const s4=new Map;function xx(n,e,t){if(!t)throw new De(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function o4(n){if(!Ge.isDocumentKey(n))throw new De(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a4(n){if(Ge.isDocumentKey(n))throw new De(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=PI(n);throw new De(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class c4{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new De(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function RV(n,e,t,r){if(!0===e&&!0===r)throw new De(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B_{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c4({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new De(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c4(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new N3;switch(t.type){case"firstParty":return new k3(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new De(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=s4.get(e);t&&(Te("ComponentProvider","Removing Datastore"),s4.delete(e),t.terminate())}(this),Promise.resolve()}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class ai{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class Ro extends ai{constructor(e,t,r){super(e,t,jf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Ge(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function FV(n,e,...t){if(n=(0,qe.m9)(n),xx("collection","path",e),n instanceof B_){const r=nn.fromString(e,...t);return a4(r),new Ro(n,null,r)}{if(!(n instanceof hr||n instanceof Ro))throw new De(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return a4(r),new Ro(n.firestore,null,r)}}function l4(n,e,...t){if(n=(0,qe.m9)(n),1===arguments.length&&(e=TO.A()),xx("doc","path",e),n instanceof B_){const r=nn.fromString(e,...t);return o4(r),new hr(n,null,new Ge(r))}{if(!(n instanceof hr||n instanceof Ro))throw new De(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return o4(r),new hr(n.firestore,n instanceof Ro?n.converter:null,new Ge(r))}}class LV{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new I1(this,"async_queue_retry"),this.qc=()=>{const t=bI();t&&Te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=bI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=bI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Rr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,V.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Fu(t))throw t;Te("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const i=j1.createAndSchedule(this,e,t,r,a=>this.Qc(a));return this.$c.push(i),i}Uc(){this.Mc&&st()}verifyOperationInProgress(){}zc(){var e=this;return(0,V.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class Un extends B_{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new LV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||h4(this),this._firestoreClient.terminate()}}function VV(n,e){const t="object"==typeof n?n:(0,Cn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Cn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,qe.P0)("firestore");a&&function kV(n,e,t,r={}){var i;const a=(n=tn(n,B_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ba("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,f;if("string"==typeof r.mockUserToken)l=r.mockUserToken,f=qr.MOCK_USER;else{l=(0,qe.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new De(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qr(m)}n._authCredentials=new P3(new DO(l,f))}}(i,...a)}return i}function Er(n){return n._firestoreClient||h4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function h4(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new h2(n._databaseId,f,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var f,_;n._firestoreClient=new bV(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ed(kr.fromBase64String(e))}catch(t){throw new De(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ed(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class up{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class OI{constructor(e){this._methodName=e}}class Nx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const $V=/^__.*__$/;class jV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms):new zf(e,this.data,t,this.fieldTransforms)}}class g4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class RI{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new RI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return FI(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(m4(this.Yc)&&$V.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class GV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||L_(e)}ua(e,t,r,i=!1){return new RI({Yc:e,methodName:t,oa:r,path:lr.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cp(n){const e=n._freezeSettings(),t=L_(n._databaseId);return new GV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Px(n,e,t,r,i,a={}){const l=n.ua(a.merge||a.mergeFields?2:0,e,t,i);Rx("Data must be an object, but it was:",l,r);const f=w4(r,l);let m,_;if(a.merge)m=new Ui(l.fieldMask),_=l.fieldTransforms;else if(a.mergeFields){const C=[];for(const E of a.mergeFields){const N=G_(e,E,t);if(!l.contains(N))throw new De(ee.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);I4(C,N)||C.push(N)}m=new Ui(C),_=l.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,_=l.fieldTransforms;return new jV(new Wr(f),m,_)}class j_ extends OI{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j_}}class HV extends OI{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=function y4(n,e,t){return new RI({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}(this,e,!0),r=this.ca.map(a=>td(a,t)),i=new zl(r);return new E_(e.path,i)}isEqual(e){return this===e}}function td(n,e){if(E4(n=(0,qe.m9)(n)))return Rx("Unsupported field value:",e,n),w4(n,e);if(n instanceof OI)return function(t,r){if(!m4(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let f=td(l,r.sa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yR(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Zn.fromDate(t);return{timestampValue:Zf(r.serializer,i)}}if(t instanceof Zn){const i=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zf(r.serializer,i)}}if(t instanceof Nx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ed)return{bytesValue:kR(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:JA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${PI(t)}`)}(n,e)}function w4(n,e){const t={};return BO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ul(n,(r,i)=>{const a=td(i,e.Xc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function E4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof Nx||n instanceof ed||n instanceof hr||n instanceof OI)}function Rx(n,e,t){if(!E4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=PI(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function G_(n,e,t){if((e=(0,qe.m9)(e))instanceof up)return e._internalPath;if("string"==typeof e)return kI(n,e);throw FI("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZV=new RegExp("[~\\*/\\[\\]]");function kI(n,e,t){if(e.search(ZV)>=0)throw FI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new up(...e.split("."))._internalPath}catch{throw FI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FI(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new De(ee.INVALID_ARGUMENT,f+n+m)}function I4(n,e){return n.some(t=>t.isEqual(e))}class kx{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new WV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class WV extends kx{data(){return super.data()}}function LI(n,e){return"string"==typeof e?kI(n,e):e instanceof up?e._internalPath:e._delegate._internalPath}class Fx{}class KV extends Fx{}function YV(n,e,...t){let r=[];e instanceof Fx&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof lp).length,l=i.filter(f=>f instanceof H_).length;if(a>1||a>0&&l>0)throw new De(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H_ extends KV{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H_(e,t,r)}_apply(e){const t=this._parse(e);return A4(e._query,t),new ai(e.firestore,e.converter,HA(e._query,t))}_parse(e){const t=cp(e.firestore);return function(i,a,l,f,m,_,C){let E;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new De(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){S4(C,_);const N=[];for(const U of C)N.push(T4(f,i,U));E={arrayValue:{values:N}}}else E=T4(f,i,C)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||S4(C,_),E=function C4(n,e,t,r=!1){return td(t,n.ua(r?4:3,e))}(l,"where",C,"in"===_||"not-in"===_);return Kt.create(m,_,E)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function QV(n,e,t){const r=e,i=LI("where",n);return H_._create(i,r,t)}class lp extends Fx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const f of l)A4(a,f),a=HA(a,f)}(e._query,t),new ai(e.firestore,e.converter,HA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function T4(n,e,t){if("string"==typeof(t=(0,qe.m9)(t))){if(""===t)throw new De(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&-1!==t.indexOf("/"))throw new De(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!Ge.isDocumentKey(r))throw new De(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jl(n,new Ge(r))}if(t instanceof hr)return jl(n,t._key);throw new De(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${PI(t)}.`)}function S4(n,e){if(!Array.isArray(n)||0===n.length)throw new De(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A4(n,e){if(e.isInequality()){const r=rI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new De(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=jA(n);null!==a&&function x4(n,e,t){if(!t.isEqual(e))throw new De(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new De(ee.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JV{convertValue(e,t="none"){switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const r={};return Ul(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Nx(er(e.latitude),er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jO(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(f_(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);ht(zR(r));const i=new Bl(r.get(1),r.get(3)),a=new Ge(r.popFirst(5));return i.isEqual(t)||cr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Ux(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dp extends kx{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $I(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $I extends dp{data(e={}){return super.data(e)}}class hp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $I(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new $I(r._firestore,r._userDataWriter,l.doc.key,l.doc,new nd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const f=new $I(r._firestore,r._userDataWriter,l.doc.key,l.doc,new nd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,_=-1;return 0!==l.type&&(m=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),_=a.indexOf(l.doc.key)),{type:eB(l.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function tB(n){n=tn(n,hr);const e=tn(n.firestore,Un);return function r4(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget((0,V.Z)(function*(){return function(i,a,l,f,m){const _=new AI({next:E=>{a.enqueueAndForget(()=>z1(i,C));const N=E.docs.has(l);!N&&E.fromCache?m.reject(new De(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&E.fromCache&&f&&"server"===f.source?m.reject(new De(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),C=new W1(jf(l.path),_,{includeMetadataChanges:!0,xu:!0});return G1(i,C)}(yield ap(n),n.asyncQueue,e,t,r)})),r.promise}(Er(e),n._key).then(t=>function Vx(n,e,t){const r=t.docs.get(e._key),i=new Ku(n);return new dp(n,i,e._key,r,new nd(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Ku extends JV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function nB(n){n=tn(n,ai);const e=tn(n.firestore,Un),t=Er(e),r=new Ku(e);return function D4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new De(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function i4(n,e,t={}){const r=new Rr;return n.asyncQueue.enqueueAndForget((0,V.Z)(function*(){return function(i,a,l,f,m){const _=new AI({next:E=>{a.enqueueAndForget(()=>z1(i,C)),E.fromCache&&"server"===f.source?m.reject(new De(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),C=new W1(l,_,{includeMetadataChanges:!0,xu:!0});return G1(i,C)}(yield ap(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new hp(e,r,n,i))}function rB(n,e,t){n=tn(n,hr);const r=tn(n.firestore,Un),i=Ux(n.converter,e,t);return z_(r,[Px(cp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,zn.none())])}function iB(n,e,t,...r){n=tn(n,hr);const i=tn(n.firestore,Un),a=cp(i);let l;return l="string"==typeof(e=(0,qe.m9)(e))||e instanceof up?function v4(n,e,t,r,i,a){const l=n.ua(1,e,t),f=[G_(e,r,t)],m=[i];if(a.length%2!=0)throw new De(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<a.length;N+=2)f.push(G_(e,a[N])),m.push(a[N+1]);const _=[],C=Wr.empty();for(let N=f.length-1;N>=0;--N)if(!I4(_,f[N])){const U=f[N];let Q=m[N];Q=(0,qe.m9)(Q);const Ee=l.na(U);if(Q instanceof j_)_.push(U);else{const xe=td(Q,Ee);null!=xe&&(_.push(U),C.set(U,xe))}}const E=new Ui(_);return new g4(C,E,l.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function _4(n,e,t,r){const i=n.ua(1,e,t);Rx("Data must be an object, but it was:",i,r);const a=[],l=Wr.empty();Ul(r,(m,_)=>{const C=kI(e,m,t);_=(0,qe.m9)(_);const E=i.na(C);if(_ instanceof j_)a.push(C);else{const N=td(_,E);null!=N&&(a.push(C),l.set(C,N))}});const f=new Ui(a);return new g4(l,f,i.fieldTransforms)}(a,"updateDoc",n._key,e),z_(i,[l.toMutation(n._key,zn.exists(!0))])}function sB(n,e){const t=tn(n.firestore,Un),r=l4(n),i=Ux(n.converter,e);return z_(t,[Px(cp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function z_(n,e){return function(t,r){const i=new Rr;return t.asyncQueue.enqueueAndForget((0,V.Z)(function*(){return function oV(n,e,t){return X1.apply(this,arguments)}(yield function Sx(n){return MI(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Er(n),e)}function gB(...n){return new HV("arrayUnion",n)}!function(n,e=!0){Ff=Cn.SDK_VERSION,(0,Cn._registerComponent)(new hu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Un(new O3(t.getProvider("auth-internal")),new F3(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(IO,"3.10.1",n),(0,Cn.registerVersion)(IO,"3.10.1","esm2017")}();class GI{constructor(e){return e}}const P4="firestore",Bx=new c.OlP("angularfire2.firestore-instances");function _B(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new GI(r)}}const vB={provide:class mB{constructor(){return(0,At.vb)(P4)}},deps:[[new c.FiY,Bx]]},CB={provide:GI,useFactory:function yB(n,e){const t=(0,At.JM)(P4,n,e);return t&&new GI(t)},deps:[[new c.FiY,Bx],zs]};let wB=(()=>{class n{constructor(){(0,Cs.KN)("angularfire",At.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[CB,vB]}),n})();function EB(n,...e){return{ngModule:wB,providers:[{provide:Bx,useFactory:_B(n),multi:!0,deps:[c.R0b,c.zs3,At.HU,du,[new c.FiY,BS],[new c.FiY,Wh],...e]}]}}const O4=(0,At.u3)(sB,!0),$x=(0,At.u3)(gB,!0),fp=(0,At.u3)(FV,!0),xa=(0,At.u3)(l4,!0),HI=(0,At.u3)(tB,!0),zI=(0,At.u3)(nB,!0),IB=(0,At.u3)(VV,!0),qI=(0,At.u3)(YV,!0),DB=(0,At.u3)(rB,!0),ZI=(0,At.u3)(iB,!0),WI=(0,At.u3)(QV,!0);let Ma=(()=>{class n{constructor(){this.firestore=(0,c.f3M)(GI)}createUserProfileData(t){try{DB(xa(this.firestore,"usersProfiles",t.userUID),t)}catch(r){console.error("Error adding document: ",r)}}getUserProfileData(t){return HI(xa(this.firestore,"usersProfiles",t))}updateUserProfile(t,r,i){return ZI(xa(this.firestore,"usersProfiles",t),{firstName:r,lastName:i})}createCourse(t,r,i){return O4(fp(this.firestore,"courses"),{title:t,creationDate:r,creatorUID:i,users:[]})}addUserToCourse(t,r){return ZI(xa(this.firestore,"courses",r),{users:$x(t)})}getCoursesListByUserUID(t){const r=qI(fp(this.firestore,"courses"),WI("users","array-contains",t));return zI(r)}getUserByEmail(t){const r=qI(fp(this.firestore,"usersProfiles"),WI("email","==",t));return zI(r)}getCreatedCoursesListByUserUID(t){const r=qI(fp(this.firestore,"courses"),WI("creatorUID","==",t));return zI(r)}getCourseData(t){return HI(xa(this.firestore,"courses",t))}getUserByUID(t){return HI(xa(this.firestore,"usersProfiles",t))}createLesson(t){return O4(fp(this.firestore,"lessons"),t)}getLessonsListByCourseUID(t){const r=qI(fp(this.firestore,"lessons"),WI("courseUID","==",t));return zI(r)}getLessonData(t){const r=xa(this.firestore,"lessons",t);return HI(r)}saveLessonAnswers(t,r,i){return ZI(xa(this.firestore,"lessons",t),{users:$x({userUID:r,answers:i,status:"onCheck",result:null,date:new Date})})}saveLessonCheckResult(t,r,i,a,l){return ZI(xa(this.firestore,"lessons",t),{users:$x({userUID:r,answers:i,results:a,status:"onResult",result:l,date:new Date})})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$i=(()=>{class n{constructor(){this._userInfo$=new Wt(null),this.userInfo$=this._userInfo$.asObservable(),this._currentCourse$=new Wt(null),this.currentCourse$=this._currentCourse$.asObservable(),this._currentCourseUsersList$=new Wt([]),this.currentCourseUsersList$=this._currentCourseUsersList$.asObservable(),this._userCoursesList$=new Wt(null),this.userCoursesList$=this._userCoursesList$.asObservable(),this._currentLesson$=new Wt(null),this.currentLesson$=this._currentLesson$.asObservable(),this._userCreatedCoursesList$=new Wt(null),this.userCreatedCoursesList$=this._userCreatedCoursesList$.asObservable(),this._currentCourseLessonsList$=new Wt(null),this.currentCourseLessonsList$=this._currentCourseLessonsList$.asObservable(),this._studentDashboard$=new Wt(null),this.studentDashboard$=this._studentDashboard$.asObservable()}setUserInfo(t){this._userInfo$.next(t)}setCoursesList(t){this._userCoursesList$.next(t)}setCreatedCoursesList(t){this._userCreatedCoursesList$.next(t)}setCurrentCourse(t){this._currentCourse$.next(t),localStorage.setItem("course",JSON.stringify(t))}setCurrentCourseUsersList(t){this._currentCourseUsersList$.next(t)}setCurrentLesson(t){this._currentLesson$.next(t)}setStudentDashboard(t){this._studentDashboard$.next(t)}setCurrentCourseLessonsList(t){this._currentCourseLessonsList$.next(t),t&&this.currentLesson$.pipe(Pn(1)).subscribe(r=>{for(let i of t)if(i.lessonUID===r?.lessonUID){this.setCurrentLesson(i);break}})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Na=(()=>{class n{constructor(){this.nextNotificationIndex=0,this._notificationsArray=[],this._notificationsSubject$=new Wt([]),this.notifications$=this._notificationsSubject$.asObservable()}addNotification(t){this._notificationsArray.length>=5&&(this._notificationsArray=this._notificationsArray.slice(1)),this._notificationsArray.push({index:this.nextNotificationIndex,...t}),this.nextNotificationIndex+=1,this._notificationsSubject$.next(this._notificationsArray.slice().reverse());const r=this.nextNotificationIndex-1;setTimeout(()=>{this.removeNotification(r)},1e4)}removeNotification(t){null!=t&&(this._notificationsArray=this._notificationsArray.filter(r=>r.index!==t),this._notificationsSubject$.next(this._notificationsArray.slice().reverse()))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R4=(()=>{class n{constructor(t,r){this.storeService=t,this.database=r,this._studentDashboardLessonsList=[],this._studentDashboardLessonsList$=new Wt(null),this.studentDashboardLessonsList$=this._studentDashboardLessonsList$.asObservable(),this._teacherDashboardLessonsList=[],this._teacherDashboardLessonsList$=new Wt(null),this.teacherDashboardLessonsList$=this._teacherDashboardLessonsList$.asObservable(),this.userCoursesListSubscription=t.userCoursesList$.subscribe(i=>{if(this._studentDashboardLessonsList=[],this._studentDashboardLessonsList$.next(null),i){0===i.length&&this._studentDashboardLessonsList$.next([]);for(let a of i)this.getCourseLessonsList(a)}}),this.userCreatedCoursesListSubscription=t.userCreatedCoursesList$.subscribe(i=>{if(this._teacherDashboardLessonsList=[],this._teacherDashboardLessonsList$.next(null),i){0===i.length&&this._teacherDashboardLessonsList$.next([]);for(let a of i)this.getCourseLessonsList(a,!0)}})}ngOnDestroy(){this.userCoursesListSubscription.unsubscribe(),this.userCreatedCoursesListSubscription.unsubscribe()}updateStudentDashboard(t,r){r.forEach(i=>{this._studentDashboardLessonsList.push({course:t,lesson:i})}),this._studentDashboardLessonsList$.next(this._studentDashboardLessonsList)}updateTeacherDashboard(t,r){r.forEach(i=>{this._teacherDashboardLessonsList.push({course:t,lesson:i})}),this._teacherDashboardLessonsList$.next(this._teacherDashboardLessonsList)}getCourseLessonsList(t,r=!1){this.database.getLessonsListByCourseUID(t.courseUID).then(i=>{const a=[];i.forEach(l=>{let f=0;const m=[];t.users.forEach(_=>{const C=this.findIndexWithUserUID(l.data().users,_);-1!==C&&"onCheck"===l.data().users[C].status&&(f+=1),m.push(-1===C?{answers:[],result:null,results:[],status:"onWork",userUID:_}:l.data().users[C])}),a.push({title:l.data().title,deadlineDate:new Date(1e3*l.data().deadlineDate.seconds),creationDate:new Date(1e3*l.data().creationDate.seconds),tasks:l.data().tasks,courseUID:l.data().courseUID,maxResult:l.data().maxResult,lessonUID:l.id,users:m,needToCheck:f})}),r?this.updateTeacherDashboard(t,a):this.updateStudentDashboard(t,a)})}findIndexWithUserUID(t,r){if(!t)return-1;let i=-1,a=0;for(let[l,f]of t.entries())f.userUID===r&&f.date.seconds>a&&(i=l,a=f.date.seconds);return i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($i),c.LFG(Ma))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rd=(()=>{class n{constructor(t,r,i,a){this.database=t,this.storeService=r,this.notificationService=i,this.dashboard=a}createCourse(t){this.storeService.userInfo$.pipe(xn(Boolean),Pn(1)).subscribe(r=>{this.database.createCourse(t,new Date,r.userUID).then(()=>{this.notificationService.addNotification({title:"\u041a\u0443\u0440\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",content:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u0440\u0435\u043c\u044f. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e.",status:"success"}),this.updateCreatedCoursesListByUserUID(r.userUID)}).catch(i=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u0430",content:"\u041a\u0443\u0440\u0441 \u043d\u0435 \u0431\u044b\u043b \u0441\u043e\u0437\u0434\u0430\u043d",status:"error"})})})}updateCoursesListByUserUID(t){this.storeService.setCoursesList(null),this.database.getCoursesListByUserUID(t).then(r=>{const i=[];r.forEach(l=>{i.push({courseUID:l.id,...l.data()})});const a=[];i.forEach(l=>{a.push(this.database.getUserByUID(l.creatorUID))}),Promise.all(a).then(l=>{for(let f=0;f<i.length;f+=1)i[f].creationDate=new Date(1e3*i[f].creationDate.seconds),i[f].creator=l[f].data().lastName+" "+l[f].data().firstName;i.sort((f,m)=>f.creationDate<m.creationDate?1:-1),this.storeService.setCoursesList(i)}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0443\u0440\u0441\u043e\u0432",content:"",status:"error"}))}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0443\u0440\u0441\u043e\u0432",content:"",status:"error"}))}updateCreatedCoursesListByUserUID(t){this.storeService.setCreatedCoursesList(null),this.database.getCreatedCoursesListByUserUID(t).then(r=>{const i=[];r.forEach(l=>{i.push({courseUID:l.id,...l.data()})});const a=[];i.forEach(l=>{a.push(this.database.getUserByUID(l.creatorUID))}),Promise.all(a).then(l=>{for(let f=0;f<i.length;f+=1)i[f].creationDate=new Date(1e3*i[f].creationDate.seconds),i[f].creator=l[f].data().lastName+" "+l[f].data().firstName;i.sort((f,m)=>f.creationDate<m.creationDate?1:-1),this.storeService.setCreatedCoursesList(i)}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432",content:"",status:"error"}))}).catch(r=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432",content:"",status:"error"})})}updateUsersListByCourseUID(t){this.database.getCourseData(t).then(r=>{const i=r.data().users,a=[];i.forEach(l=>{a.push(this.database.getUserByUID(l))}),Promise.all(a).then(l=>{l=l.map(f=>f.data()),this.storeService.setCurrentCourseUsersList(l)}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043a\u0443\u0440\u0441\u0430 1",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",status:"error"})})}).catch(r=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043a\u0443\u0440\u0441\u0430 2",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",status:"error"})})}updateCourseLessonsList(t,r=!0){this.storeService.setCurrentCourseLessonsList(null),this.database.getLessonsListByCourseUID(t.courseUID).then(i=>{const a=[];i.forEach(l=>{let f=0;const m=[];t.users.forEach(_=>{const C=this.findIndexWithUserUID(l.data().users,_);-1!==C&&"onCheck"===l.data().users[C].status&&(f+=1),m.push(-1===C?{answers:[],result:null,results:[],status:"onWork",userUID:_}:l.data().users[C])}),a.push({title:l.data().title,deadlineDate:new Date(1e3*l.data().deadlineDate.seconds),creationDate:new Date(1e3*l.data().creationDate.seconds),tasks:l.data().tasks,courseUID:l.data().courseUID,maxResult:l.data().maxResult,lessonUID:l.id,users:m,needToCheck:f})}),a.sort((l,f)=>l.creationDate<f.creationDate?1:-1),this.storeService.setCurrentCourseLessonsList(a)})}addUserToCourse(t,r){return new Promise((i,a)=>{this.database.getUserByEmail(r).then(l=>{if(!l||0===l.size)return this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",content:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",status:"error"}),void a();const f=l.docs[0].data().userUID;if(f===t.creatorUID)return this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",content:"\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0435\u043c \u043a\u0443\u0440\u0441\u0430 \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u0432 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",status:"error"}),void a();this.database.getCourseData(t.courseUID).then(m=>{if(m.data().users.includes(f))return this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",content:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u0443\u0440\u0441\u0435",status:"warning"}),void a();this.database.addUserToCourse(f,t.courseUID).then(()=>{this.updateUsersListByCourseUID(t.courseUID),this.notificationService.addNotification({title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",content:"",status:"success"}),i("success")}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430",content:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0431\u044b\u043b \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",status:"error"}),a("error")})}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440",content:"",status:"error"}),a()})}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",content:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",status:"error"}),a()})})}findIndexWithUserUID(t,r){if(!t)return-1;let i=-1,a=0;for(let[l,f]of t.entries())f.userUID===r&&f.date.seconds>a&&(i=l,a=f.date.seconds);return i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ma),c.LFG($i),c.LFG(Na),c.LFG(R4))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pp=(()=>{class n{constructor(t,r,i,a,l){this.firebaseService=t,this.router=r,this.storeService=i,this.coursesService=a,this.notificationService=l,this._auth=(0,c.f3M)(Gy),this.user$=DL(this._auth),this.userSubscription=this.user$.subscribe(f=>{f?this.firebaseService.getUserByUID(f.uid).then(m=>{if(!m.data())return;const _={userUID:f.uid,firstName:m.data()?.firstName,lastName:m.data()?.lastName,email:m.data()?.email};this.storeService.setUserInfo(_),this.coursesService.updateCoursesListByUserUID(f.uid),this.coursesService.updateCreatedCoursesListByUserUID(f.uid)}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0431\u0438\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",content:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",status:"error"})):this.storeService.setUserInfo(null)})}ngOnDestroy(){this.userSubscription.unsubscribe()}createNewUser(t,r,i,a){bL(this._auth,i,a).then(l=>{this.firebaseService.createUserProfileData({userUID:l.user.uid,firstName:t,lastName:r,email:i}),this.router.navigate(["user","dashboard"])}).catch(l=>{this.notificationService.addNotification("Firebase: Error (auth/email-already-in-use)."===l.message?{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:"\u0414\u0430\u043d\u043d\u044b\u0439 email \u0443\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f",status:"error"}:{title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",content:l.message,status:"error"})})}signInUser(t,r){SL(this._auth,t,r).then(()=>{this.router.navigate(["user","dashboard"]),this.notificationService.addNotification({title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430",content:"",status:"success"})}).catch(i=>{switch(i.message){case"Firebase: Error (auth/wrong-password).":this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",content:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",status:"error"});break;case"Firebase: Error (auth/user-not-found).":this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",content:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0442\u0430\u043a\u0438\u043c email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",status:"error"});break;default:this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",content:i.message,status:"error"})}})}signOutUser(){AL(this._auth).then(()=>{this.router.navigate(["auth"])}).catch(t=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",content:"",status:"error"})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ma),c.LFG(mn),c.LFG($i),c.LFG(rd),c.LFG(Na))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bB(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function TB(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 - 100! "),c.qZA())}function SB(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," \u041f\u043e\u0447\u0442\u0430 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443! "),c.qZA())}function AB(n,e){1&n&&(c.TgZ(0,"div",14),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}let xB=(()=>{class n{get loginInputEmail(){return this.loginForm.get("loginInputEmail")}get loginInputPass(){return this.loginForm.get("loginInputPass")}constructor(t){this.authService=t,this.registrationEmitter=new c.vpe,this.loginOnSubmit=!1,this.loginForm=new ki({loginInputEmail:new On(null,[Tn.required,Tn.email,Tn.maxLength(100)]),loginInputPass:new On(null,[Tn.required])})}toRegistration(){this.registrationEmitter.emit()}loginSubmit(){this.loginOnSubmit=!0,!this.loginForm.invalid&&this.authService.signInUser(this.loginInputEmail?.value,this.loginInputPass?.value)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],outputs:{registrationEmitter:"registrationEmitter"},decls:26,vars:11,consts:[[1,"login-container"],[1,"content"],[1,"left-part"],[1,"loginForm",3,"formGroup"],[1,"input-item"],[1,"fa-regular","fa-envelope"],["type","email","formControlName","loginInputEmail","placeholder","email@mail.ru",1,"input-text"],["class","invalid-input",4,"ngIf"],[1,"fa-solid","fa-unlock"],["type","password","formControlName","loginInputPass","placeholder","******",1,"input-text"],[1,"submit",3,"click"],[1,"right-part"],["src","assets/images/signup-image.jpg","alt","\u0412\u043e\u0439\u0442\u0438"],[3,"click"],[1,"invalid-input"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c._uU(4,"\u0412\u0445\u043e\u0434"),c.qZA(),c.TgZ(5,"form",3)(6,"div",4)(7,"p"),c._uU(8,"Email:"),c.qZA(),c._UZ(9,"i",5)(10,"input",6),c.YNc(11,bB,2,0,"div",7),c.YNc(12,TB,2,0,"div",7),c.YNc(13,SB,2,0,"div",7),c.qZA(),c.TgZ(14,"div",4)(15,"p"),c._uU(16,"\u041f\u0430\u0440\u043e\u043b\u044c:"),c.qZA(),c._UZ(17,"i",8)(18,"input",9),c.YNc(19,AB,2,0,"div",7),c.qZA(),c.TgZ(20,"button",10),c.NdJ("click",function(){return r.loginSubmit()}),c._uU(21,"\u0412\u043e\u0439\u0442\u0438"),c.qZA()()(),c.TgZ(22,"div",11),c._UZ(23,"img",12),c.TgZ(24,"a",13),c.NdJ("click",function(){return r.toRegistration()}),c._uU(25,"\u0423 \u043c\u0435\u043d\u044f \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),c.qZA()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.loginForm),c.xp6(5),c.ekj("invalid-input-input",(null==r.loginInputEmail?null:r.loginInputEmail.invalid)&&((null==r.loginInputEmail?null:r.loginInputEmail.touched)||r.loginOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.loginInputEmail||null==r.loginInputEmail.errors?null:r.loginInputEmail.errors.required)&&((null==r.loginInputEmail?null:r.loginInputEmail.touched)||r.loginOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.loginInputEmail||null==r.loginInputEmail.errors?null:r.loginInputEmail.errors.maxlength)&&((null==r.loginInputEmail?null:r.loginInputEmail.touched)||r.loginOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.loginInputEmail||null==r.loginInputEmail.errors?null:r.loginInputEmail.errors.email)&&((null==r.loginInputEmail?null:r.loginInputEmail.touched)||r.loginOnSubmit)),c.xp6(5),c.ekj("invalid-input-input",(null==r.loginInputPass?null:r.loginInputPass.invalid)&&((null==r.loginInputPass?null:r.loginInputPass.touched)||r.loginOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.loginInputPass||null==r.loginInputPass.errors?null:r.loginInputPass.errors.required)&&((null==r.loginInputPass?null:r.loginInputPass.touched)||r.loginOnSubmit)),c.xp6(1),c.ekj("disabled",r.loginForm.invalid))},dependencies:[qn,Gs,Wi,Yi,Us,Fi,Qi],styles:[".registration-container[_ngcontent-%COMP%]{width:850px;margin:30px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.login-container[_ngcontent-%COMP%]{width:850px;margin:130px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.login[_ngcontent-%COMP%]{max-height:500px;width:100%}.registration[_ngcontent-%COMP%]{max-height:600px;width:100%}.left-part[_ngcontent-%COMP%], .right-part[_ngcontent-%COMP%]{width:40%}.registration[_ngcontent-%COMP%]   .last-item[_ngcontent-%COMP%]{height:40px;font-weight:500}i[_ngcontent-%COMP%]{position:absolute;transform:translate(25%,50%)}p[_ngcontent-%COMP%]{font-weight:500}img[_ngcontent-%COMP%]{margin-top:20px}.input-item[_ngcontent-%COMP%]{margin-bottom:20px;height:60px}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:30px;padding:6px 30px;outline:none;border:none;border-bottom:1px solid #999;font-size:16px;font-family:Montserrat,sans-serif}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.input-item[_ngcontent-%COMP%]   .input-checkbox[_ngcontent-%COMP%]{display:inline-block;position:absolute;transform:translateY(15%);margin-left:15px;width:16px;height:16px}.input-item[_ngcontent-%COMP%]   .invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}.input-item[_ngcontent-%COMP%]   .invalid-input[_ngcontent-%COMP%]{margin:3px 0 0 15px;color:var(--primary-red);font-size:13px;font-weight:600}a[_ngcontent-%COMP%]{display:block;margin-top:20px;width:100%;text-align:center;cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})();const MB=n=>{const e=n.get("registrationInputPass")?.value,t=n.get("registrationInputConfirm")?.value;return e!==t?{notEqual:!0}:null};function NB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function PB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function OB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function RB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 - 100! "),c.qZA())}function kB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u043e\u0447\u0442\u0430 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0443! "),c.qZA())}function FB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function LB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c! "),c.qZA())}function UB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442! "),c.qZA())}function VB(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0430\u0448\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435! "),c.qZA())}let BB=(()=>{class n{get registrationInputFirstName(){return this.registrationForm.get("registrationInputFirstName")}get registrationInputLastName(){return this.registrationForm.get("registrationInputLastName")}get registrationInputEmail(){return this.registrationForm.get("registrationInputEmail")}get registrationInputPass(){return this.registrationForm.get("registrationInputPass")}get registrationInputConfirm(){return this.registrationForm.get("registrationInputConfirm")}get registrationInputCheck(){return this.registrationForm.get("registrationInputCheck")}constructor(t){this.authService=t,this.loginEmitter=new c.vpe,this.registrationOnSubmit=!1,this.registrationForm=new ki({registrationInputFirstName:new On(null,[Tn.required]),registrationInputLastName:new On(null,[Tn.required]),registrationInputEmail:new On(null,[Tn.required,Tn.email,Tn.maxLength(100)]),registrationInputPass:new On(null,[Tn.required,Tn.minLength(6)]),registrationInputConfirm:new On(null),registrationInputCheck:new On(null,[Tn.requiredTrue])},{validators:MB})}toLogin(){this.loginEmitter.emit()}registrationSubmit(){this.registrationOnSubmit=!0,!this.registrationForm.invalid&&this.authService.createNewUser(this.registrationInputFirstName?.value,this.registrationInputLastName?.value,this.registrationInputEmail?.value,this.registrationInputPass?.value)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-registration"]],outputs:{loginEmitter:"loginEmitter"},decls:49,vars:24,consts:[[1,"registration-container"],[1,"content"],[1,"left-part"],[1,"registration",3,"formGroup"],[1,"input-item"],[1,"fa-solid","fa-user"],["type","text","formControlName","registrationInputFirstName",1,"input-text"],["class","invalid-input",4,"ngIf"],[1,"fa-regular","fa-user"],["type","text","formControlName","registrationInputLastName",1,"input-text"],[1,"fa-regular","fa-envelope"],["type","email","formControlName","registrationInputEmail",1,"input-text"],[1,"fa-solid","fa-lock"],["type","password","formControlName","registrationInputPass",1,"input-text"],["type","password","formControlName","registrationInputConfirm",1,"input-text"],[1,"input-item","last-item"],["type","checkbox","formControlName","registrationInputCheck",1,"input-checkbox"],[1,"submit",3,"click"],[1,"right-part"],["src","assets/images/signin-image.jpg","alt",""],[3,"click"],[1,"invalid-input"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c._uU(4,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.qZA(),c.TgZ(5,"form",3)(6,"div",4)(7,"p"),c._uU(8,"\u0418\u043c\u044f:"),c.qZA(),c._UZ(9,"i",5)(10,"input",6),c.YNc(11,NB,2,0,"div",7),c.qZA(),c.TgZ(12,"div",4)(13,"p"),c._uU(14,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),c.qZA(),c._UZ(15,"i",8)(16,"input",9),c.YNc(17,PB,2,0,"div",7),c.qZA(),c.TgZ(18,"div",4)(19,"p"),c._uU(20,"Email:"),c.qZA(),c._UZ(21,"i",10)(22,"input",11),c.YNc(23,OB,2,0,"div",7),c.YNc(24,RB,2,0,"div",7),c.YNc(25,kB,2,0,"div",7),c.qZA(),c.TgZ(26,"div",4)(27,"p"),c._uU(28,"\u041f\u0430\u0440\u043e\u043b\u044c:"),c.qZA(),c._UZ(29,"i",12)(30,"input",13),c.YNc(31,FB,2,0,"div",7),c.YNc(32,LB,2,0,"div",7),c.qZA(),c.TgZ(33,"div",4)(34,"p"),c._uU(35,"\u041f\u043e\u0432\u0442\u043e\u0440 \u043f\u0430\u0440\u043e\u043b\u044f"),c.qZA(),c._UZ(36,"i",12)(37,"input",14),c.YNc(38,UB,2,0,"div",7),c.qZA(),c.TgZ(39,"div",15),c._uU(40," \u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445: "),c._UZ(41,"input",16),c.YNc(42,VB,2,0,"div",7),c.qZA(),c.TgZ(43,"button",17),c.NdJ("click",function(){return r.registrationSubmit()}),c._uU(44,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),c.qZA()()(),c.TgZ(45,"div",18),c._UZ(46,"img",19),c.TgZ(47,"a",20),c.NdJ("click",function(){return r.toLogin()}),c._uU(48,"\u042f \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"),c.qZA()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.registrationForm),c.xp6(5),c.ekj("invalid-input-input",(null==r.registrationInputFirstName?null:r.registrationInputFirstName.invalid)&&((null==r.registrationInputFirstName?null:r.registrationInputFirstName.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputFirstName||null==r.registrationInputFirstName.errors?null:r.registrationInputFirstName.errors.required)&&((null==r.registrationInputFirstName?null:r.registrationInputFirstName.touched)||r.registrationOnSubmit)),c.xp6(5),c.ekj("invalid-input-input",(null==r.registrationInputLastName?null:r.registrationInputLastName.invalid)&&((null==r.registrationInputLastName?null:r.registrationInputLastName.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputLastName||null==r.registrationInputLastName.errors?null:r.registrationInputLastName.errors.required)&&((null==r.registrationInputLastName?null:r.registrationInputLastName.touched)||r.registrationOnSubmit)),c.xp6(5),c.ekj("invalid-input-input",(null==r.registrationInputEmail?null:r.registrationInputEmail.invalid)&&((null==r.registrationInputEmail?null:r.registrationInputEmail.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputEmail||null==r.registrationInputEmail.errors?null:r.registrationInputEmail.errors.required)&&((null==r.registrationInputEmail?null:r.registrationInputEmail.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputEmail||null==r.registrationInputEmail.errors?null:r.registrationInputEmail.errors.maxlength)&&((null==r.registrationInputEmail?null:r.registrationInputEmail.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputEmail||null==r.registrationInputEmail.errors?null:r.registrationInputEmail.errors.email)&&((null==r.registrationInputEmail?null:r.registrationInputEmail.touched)||r.registrationOnSubmit)),c.xp6(5),c.ekj("invalid-input-input",(null==r.registrationInputPass?null:r.registrationInputPass.invalid)&&((null==r.registrationInputPass?null:r.registrationInputPass.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputPass||null==r.registrationInputPass.errors?null:r.registrationInputPass.errors.required)&&((null==r.registrationInputPass?null:r.registrationInputPass.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputPass||null==r.registrationInputPass.errors?null:r.registrationInputPass.errors.minlength)&&((null==r.registrationInputPass?null:r.registrationInputPass.touched)||r.registrationOnSubmit)),c.xp6(5),c.ekj("invalid-input-input",(null==r.registrationForm.errors?null:r.registrationForm.errors.notEqual)&&((null==r.registrationInputConfirm?null:r.registrationInputConfirm.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationForm.errors?null:r.registrationForm.errors.notEqual)&&((null==r.registrationInputConfirm?null:r.registrationInputConfirm.touched)||r.registrationOnSubmit)),c.xp6(3),c.ekj("invalid-input-input",(null==r.registrationInputCheck?null:r.registrationInputCheck.invalid)&&((null==r.registrationInputCheck?null:r.registrationInputCheck.touched)||r.registrationOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.registrationInputCheck||null==r.registrationInputCheck.errors?null:r.registrationInputCheck.errors.required)&&((null==r.registrationInputCheck?null:r.registrationInputCheck.touched)||r.registrationOnSubmit)),c.xp6(1),c.ekj("disabled",r.registrationForm.invalid))},dependencies:[qn,Gs,Wi,Lc,Yi,Us,Fi,Qi],styles:[".registration-container[_ngcontent-%COMP%]{width:850px;margin:30px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.login-container[_ngcontent-%COMP%]{width:850px;margin:130px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.login[_ngcontent-%COMP%]{max-height:500px;width:100%}.registration[_ngcontent-%COMP%]{max-height:600px;width:100%}.left-part[_ngcontent-%COMP%], .right-part[_ngcontent-%COMP%]{width:40%}.registration[_ngcontent-%COMP%]   .last-item[_ngcontent-%COMP%]{height:40px;font-weight:500}i[_ngcontent-%COMP%]{position:absolute;transform:translate(25%,50%)}p[_ngcontent-%COMP%]{font-weight:500}img[_ngcontent-%COMP%]{margin-top:20px}.input-item[_ngcontent-%COMP%]{margin-bottom:20px;height:60px}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:30px;padding:6px 30px;outline:none;border:none;border-bottom:1px solid #999;font-size:16px;font-family:Montserrat,sans-serif}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.input-item[_ngcontent-%COMP%]   .input-checkbox[_ngcontent-%COMP%]{display:inline-block;position:absolute;transform:translateY(15%);margin-left:15px;width:16px;height:16px}.input-item[_ngcontent-%COMP%]   .invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}.input-item[_ngcontent-%COMP%]   .invalid-input[_ngcontent-%COMP%]{margin:3px 0 0 15px;color:var(--primary-red);font-size:13px;font-weight:600}a[_ngcontent-%COMP%]{display:block;margin-top:20px;width:100%;text-align:center;cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})();function $B(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-login",2),c.NdJ("registrationEmitter",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.toRegistration())}),c.qZA()}}function jB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-registration",3),c.NdJ("loginEmitter",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.toLogin())}),c.qZA()}}let GB=(()=>{class n{constructor(){this.onLogin=!0}toLogin(){this.onLogin=!0}toRegistration(){this.onLogin=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-authentication"]],decls:3,vars:2,consts:[[3,"registrationEmitter",4,"ngIf","ngIfElse"],["onRegistration",""],[3,"registrationEmitter"],[3,"loginEmitter"]],template:function(t,r){if(1&t&&(c.YNc(0,$B,1,0,"app-login",0),c.YNc(1,jB,1,0,"ng-template",null,1,c.W1O)),2&t){const i=c.MAs(2);c.Q6J("ngIf",r.onLogin)("ngIfElse",i)}},dependencies:[qn,xB,BB],styles:[".registration-container[_ngcontent-%COMP%]{width:850px;margin:30px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.login-container[_ngcontent-%COMP%]{width:850px;margin:130px auto;padding:40px 80px;border-radius:20px;box-shadow:0 15px 16.83px .17px #0000000d;background-color:#fff}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%}.login[_ngcontent-%COMP%]{max-height:500px;width:100%}.registration[_ngcontent-%COMP%]{max-height:600px;width:100%}.left-part[_ngcontent-%COMP%], .right-part[_ngcontent-%COMP%]{width:40%}.registration[_ngcontent-%COMP%]   .last-item[_ngcontent-%COMP%]{height:40px;font-weight:500}i[_ngcontent-%COMP%]{position:absolute;transform:translate(25%,50%)}p[_ngcontent-%COMP%]{font-weight:500}img[_ngcontent-%COMP%]{margin-top:20px}.input-item[_ngcontent-%COMP%]{margin-bottom:20px;height:60px}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:30px;padding:6px 30px;outline:none;border:none;border-bottom:1px solid #999;font-size:16px;font-family:Montserrat,sans-serif}.input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.input-item[_ngcontent-%COMP%]   .input-checkbox[_ngcontent-%COMP%]{display:inline-block;position:absolute;transform:translateY(15%);margin-left:15px;width:16px;height:16px}.input-item[_ngcontent-%COMP%]   .invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}.input-item[_ngcontent-%COMP%]   .invalid-input[_ngcontent-%COMP%]{margin:3px 0 0 15px;color:var(--primary-red);font-size:13px;font-weight:600}a[_ngcontent-%COMP%]{display:block;margin-top:20px;width:100%;text-align:center;cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),HB=(()=>{class n{constructor(t,r){this.authService=t,this.storeService=r}toSignout(){this.authService.signOutUser()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pp),c.Y36($i))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-user"]],decls:27,vars:6,consts:[[1,"top-nav"],[1,"logo"],[1,"side-nav"],[1,"side-nav-container"],[1,"user-info"],["src","assets/images/userProfile.svg","alt","",1,"user-image"],[1,"username"],["routerLink","/user/dashboard","routerLinkActive","side-nav-item__active",1,"side-nav-item"],[1,"fa-solid","fa-house","fa-sm"],["routerLink","/user/profile","routerLinkActive","side-nav-item__active",1,"side-nav-item"],[1,"fa-regular","fa-id-card","fa-sm"],["routerLink","/user/courses","routerLinkActive","side-nav-item__active",1,"side-nav-item"],[1,"fa-solid","fa-book","fa-sm"],[1,"side-nav-item","side-nav-item__signout",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket"],[1,"main-content"]],template:function(t,r){if(1&t&&(c.TgZ(0,"section",0)(1,"div",1),c._uU(2,"AngularLMS"),c.qZA()(),c.TgZ(3,"section",2)(4,"div",3)(5,"div",4),c._UZ(6,"img",5),c.TgZ(7,"div",6)(8,"strong"),c._uU(9),c.ALo(10,"async"),c.ALo(11,"async"),c.qZA()()(),c.TgZ(12,"div")(13,"div",7),c._UZ(14,"i",8),c._uU(15,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),c.qZA(),c.TgZ(16,"div",9),c._UZ(17,"i",10),c._uU(18,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),c.qZA(),c.TgZ(19,"div",11),c._UZ(20,"i",12),c._uU(21,"\u041a\u0443\u0440\u0441\u044b"),c.qZA(),c.TgZ(22,"div",13),c.NdJ("click",function(){return r.toSignout()}),c._UZ(23,"i",14),c._uU(24,"\u0412\u044b\u0439\u0442\u0438"),c.qZA()()()(),c.TgZ(25,"section",15),c._UZ(26,"router-outlet"),c.qZA()),2&t){let i;c.xp6(9),c.AsE("",null==(i=c.lcZ(10,2,r.storeService.userInfo$))?null:i.firstName,"\xa0",null==(i=c.lcZ(11,4,r.storeService.userInfo$))?null:i.lastName,"")}},dependencies:[ra,lh,Og,ji],styles:[".logo[_ngcontent-%COMP%]{width:300px;height:50px;fill:gray;line-height:50px;text-align:center;font-weight:600;font-size:25px}.side-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-top:49px;width:299px;height:100vh;background-color:#fff;border-right:1px solid var(--primary-blue)}.side-nav[_ngcontent-%COMP%]   .side-nav-container[_ngcontent-%COMP%]{width:230px;margin:0 auto}.side-nav[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{height:230px}.side-nav[_ngcontent-%COMP%]   .user-image[_ngcontent-%COMP%]{display:block;margin-top:60px;padding:0 50px;width:100%;filter:invert(48%) sepia(8%) saturate(333%) hue-rotate(182deg) brightness(101%) contrast(88%)}.side-nav[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{margin-top:20px;width:100%;text-align:center;color:var(--primary-black);font-size:16px}.side-nav[_ngcontent-%COMP%]   .side-nav-item[_ngcontent-%COMP%]{margin-top:15px;padding:17px 25px;border-radius:18px;color:var(--primary-gray);font-size:17px;font-weight:400;transition:background-color .2s linear;-webkit-user-select:none;user-select:none;cursor:pointer}.side-nav[_ngcontent-%COMP%]   .side-nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;width:20px}.side-nav[_ngcontent-%COMP%]   .side-nav-item__signout[_ngcontent-%COMP%]{color:var(--primary-red);font-weight:500}.side-nav[_ngcontent-%COMP%]   .side-nav-item[_ngcontent-%COMP%]:hover{background-color:#1294f280;color:#fff;font-weight:500;transition:background-color .2s linear}.side-nav[_ngcontent-%COMP%]   .side-nav-container[_ngcontent-%COMP%]   .side-nav-item__active[_ngcontent-%COMP%]{background-color:var(--primary-blue);color:#fff;font-weight:500;transition:background-color .2s linear}.top-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2;height:49px;width:100%;background-color:#fff;border-bottom:1px solid var(--primary-blue)}.main-content[_ngcontent-%COMP%]{margin:100px 25px 100px 370px}"]}),n})(),k4=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return this.auth.user$.pipe((0,Tt.U)(i=>!!i||this.router.navigate(["auth"])))}canActivateChild(t,r){return this.canActivate(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pp),c.LFG(mn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zB=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return this.auth.user$.pipe((0,Tt.U)(i=>!i||this.router.navigate(["user","dashboard"])))}canActivateChild(t,r){return this.canActivate(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pp),c.LFG(mn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-courses"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[ra],styles:[".courses-flexbox[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;margin-top:40px;margin-right:25px;padding:15px;width:31%;height:200px;box-shadow:2px 2px 5px #223c5033;border-radius:10px;background:linear-gradient(to bottom,#9ac99b 45%,white 45%);transition:all .1s linear}.course-card[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{color:var(--primary-gray);font-weight:600;font-size:12px}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:3px 4px 7px 1px #223c5033;transition:all .1s linear}a[_ngcontent-%COMP%]{display:inline-block;margin-top:20px;margin-right:10px;padding:8px;background-color:#fff;border-radius:8px;cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})();function ZB(n,e){1&n&&(c.TgZ(0,"div",8),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function WB(n,e){1&n&&(c.TgZ(0,"div",8),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function KB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1)(1,"form",2)(2,"div",3)(3,"p"),c._uU(4),c.qZA()(),c.TgZ(5,"div",3)(6,"p"),c._uU(7,"\u0418\u043c\u044f:"),c.qZA(),c._UZ(8,"input",4),c.YNc(9,ZB,2,0,"div",5),c.qZA(),c.TgZ(10,"div",3)(11,"p"),c._uU(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),c.qZA(),c._UZ(13,"input",6),c.YNc(14,WB,2,0,"div",5),c.qZA(),c.TgZ(15,"button",7),c.NdJ("click",function(){const a=c.CHM(t).ngIf,l=c.oxw();return c.KtG(l.formSubmit(a,l.profileForm.invalid||(null==l.inputFirstName?null:l.inputFirstName.value)===a.firstName&&(null==l.inputLastName?null:l.inputLastName.value)===a.lastName))}),c._uU(16,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),c.qZA()()()}if(2&n){const t=e.ngIf,r=c.oxw();c.xp6(1),c.Q6J("formGroup",r.profileForm),c.xp6(3),c.hij("\u0412\u0430\u0448 Email: ",t.email,""),c.xp6(4),c.ekj("invalid-input-input",null==r.inputFirstName?null:r.inputFirstName.invalid),c.xp6(1),c.Q6J("ngIf",null==r.inputFirstName||null==r.inputFirstName.errors?null:r.inputFirstName.errors.required),c.xp6(4),c.ekj("invalid-input-input",null==r.inputLastName?null:r.inputLastName.invalid),c.xp6(1),c.Q6J("ngIf",null==r.inputLastName||null==r.inputLastName.errors?null:r.inputLastName.errors.required),c.xp6(1),c.ekj("disabled",r.profileForm.invalid||(null==r.inputFirstName?null:r.inputFirstName.value)===t.firstName&&(null==r.inputLastName?null:r.inputLastName.value)===t.lastName)}}let YB=(()=>{class n{get inputFirstName(){return this.profileForm.get("inputFirstName")}get inputLastName(){return this.profileForm.get("inputLastName")}constructor(t,r,i){this.storeService=t,this.firebase=r,this.notificationService=i,this.profileForm=new ki({inputFirstName:new On("loading...",[Tn.required]),inputLastName:new On("loading...",[Tn.required])}),this.storeService.setCurrentCourse(null),this.storeService.userInfo$.pipe(xn(Boolean),Pn(1)).subscribe(a=>{this.profileForm.setValue({inputFirstName:a.firstName,inputLastName:a.lastName})})}formSubmit(t,r){this.profileForm.invalid||r||this.firebase.updateUserProfile(t.userUID,this.inputFirstName?.value,this.inputLastName?.value).then(()=>{this.notificationService.addNotification({title:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b",content:"",status:"success"}),t.firstName=this.inputFirstName?.value,t.lastName=this.inputLastName?.value,this.storeService.setUserInfo(t)}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437",status:"error"})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(Ma),c.Y36(Na))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","profile-form",4,"ngIf"],[1,"profile-form"],[3,"formGroup"],[1,"input-item"],["type","text","formControlName","inputFirstName",1,"input-text"],["class","invalid-input",4,"ngIf"],["type","text","formControlName","inputLastName",1,"input-text"],[3,"click"],[1,"invalid-input"]],template:function(t,r){1&t&&(c.YNc(0,KB,17,10,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.storeService.userInfo$))},dependencies:[qn,Gs,Wi,Yi,Us,Fi,Qi,ji],styles:[".profile-form[_ngcontent-%COMP%]{padding:20px;width:1000px;border-radius:20px;border:1px solid var(--primary-gray);background-color:#fff}p[_ngcontent-%COMP%]{margin-bottom:5px;font-size:20px;font-weight:600}.input-item[_ngcontent-%COMP%]{margin-bottom:10px}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:1px solid var(--primary-gray);font-size:18px}input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.invalid-input[_ngcontent-%COMP%]{margin:3px;color:var(--primary-red);font-size:13px;font-weight:600}.invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}"]}),n})(),KI=(()=>{class n{urok(t){switch(t){case 0:default:return"\u0443\u0440\u043e\u043a\u043e\u0432";case 1:return"\u0443\u0440\u043e\u043a";case 2:return"\u0443\u0440\u043e\u043a\u0430"}}createdCourse(t){switch(t){case void 0:return"\u043a\u0443\u0440\u0441\u043e\u0432";case 1:return"\u043a\u0443\u0440\u0441\u0430";default:return"\u043a\u0443\u0440\u0441\u043e\u0432"}}course(t){switch(t){case void 0:return"\u043a\u0443\u0440\u0441\u0430\u0445";case 1:return"\u043a\u0443\u0440\u0441\u0435";default:return"\u043a\u0443\u0440\u0441\u0430\u0445"}}left(t){if(!t)return"";const r=Math.floor((t-(new Date).getTime())/1e3/60/60);switch(r){case 0:return"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0447\u0430\u0441\u0430";case 1:return"\u041e\u0441\u0442\u0430\u043b\u0441\u044f 1 \u0447\u0430\u0441";case 2:return`\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ${r} \u0447\u0430\u0441\u0430`;default:return`\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c ${r} \u0447\u0430\u0441\u043e\u0432`}}deadline(t){switch(t){case 0:default:return"\u0434\u0435\u0434\u043b\u0430\u0439\u043d\u043e\u0432";case 1:return"\u0434\u0435\u0434\u043b\u0430\u0439\u043d";case 2:return"\u0434\u0435\u0434\u043b\u0430\u0439\u043d\u0430"}}rabot(t){switch(t){case 0:return"0 \u043d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442";case 1:return"\u0434\u0435\u0434\u043b\u0430\u0439\u043d";case 2:return`${t} \u043d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b`;default:return`${t} \u043d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442`}}ball(t){switch(t){case 0:return"0 \u0431\u0430\u043b\u043b\u043e\u0432";case 1:return"1 \u0431\u0430\u043b\u043b";case 2:return`${t} \u0431\u0430\u043b\u043b\u0430`;default:return`${t} \u0431\u0430\u043b\u043b\u043e\u0432`}}transform(t,r){switch(r){case"\u0443\u0440\u043e\u043a":return this.urok(t);case"\u043a\u0443\u0440\u0441\u0430\u0445":return this.createdCourse(t);case"\u043a\u0443\u0440\u0441\u043e\u0432":return this.course(t);case"\u0434\u0435\u0434\u043b\u0430\u0439\u043d":return this.deadline(t);case"\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c":return this.left(t);case"\u0440\u0430\u0431\u043e\u0442":return this.rabot(t);case"\u0431\u0430\u043b\u043b":return this.ball(t);default:return"12"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"declension",type:n,pure:!0}),n})();function QB(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"declension"),c.qZA()),2&n){const t=e.ngIf;c.xp6(1),c.AsE("",t.length," ",c.xi3(2,2,t.length,"\u0434\u0435\u0434\u043b\u0430\u0439\u043d")," ")}}function JB(n,e){1&n&&c._UZ(0,"span",8)}function XB(n,e){1&n&&c._UZ(0,"img",9)}function e$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"div",11),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(3);return c.KtG(l.toLesson(a))}),c.TgZ(2,"div",12)(3,"h4"),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.qZA()(),c.TgZ(7,"div",13)(8,"div",14),c._uU(9),c.ALo(10,"date"),c.qZA(),c.TgZ(11,"div",15),c._uU(12),c.ALo(13,"declension"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(4),c.hij('\u0423\u0440\u043e\u043a "',t.lesson.title,'"'),c.xp6(2),c.hij('\u041a\u0443\u0440\u0441 "',t.course.title,'"'),c.xp6(3),c.hij(" \u0414\u0435\u0434\u043b\u0430\u0439\u043d: ",c.xi3(10,4,t.lesson.deadlineDate,"dd.MM.YYYY hh:mm")," "),c.xp6(3),c.hij(" ",c.xi3(13,7,t.lesson.deadlineDate.getTime(),"\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c")," ")}}function t$(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,e$,14,10,"div",10),c.ALo(2,"async"),c.qZA()),2&n){const t=e.ngIf,r=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,r.getDeadlinesLessons$(t.userUID)))}}function n$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"section",2)(1,"h2"),c._uU(2," \u0423 \u0432\u0430\u0441 "),c.YNc(3,QB,3,5,"span",3),c.ALo(4,"async"),c.YNc(5,JB,1,0,"ng-template",null,4,c.W1O),c.qZA(),c.YNc(7,XB,1,0,"img",5),c.ALo(8,"async"),c.ALo(9,"async"),c.YNc(10,t$,3,3,"div",6),c.ALo(11,"async"),c.TgZ(12,"button",7),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.updateDeadlinesList())}),c._uU(13,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),c.qZA()()}if(2&n){const t=e.ngIf,r=c.MAs(6),i=c.oxw();let a;c.xp6(3),c.Q6J("ngIf",c.lcZ(4,4,i.getDeadlinesLessons$(t.userUID)))("ngIfElse",r),c.xp6(4),c.Q6J("ngIf",c.lcZ(8,6,i.getDeadlinesLessons$(t.userUID))&&0===(null==(a=c.lcZ(9,8,i.getDeadlinesLessons$(t.userUID)))?null:a.length)),c.xp6(3),c.Q6J("ngIf",c.lcZ(11,10,i.storeService.userInfo$))}}function r$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"declension"),c.qZA()),2&n){const t=e.ngIf;c.xp6(1),c.hij("",c.xi3(2,1,t.needToCheck,"\u0440\u0430\u0431\u043e\u0442")," ")}}function i$(n,e){1&n&&c._UZ(0,"span",8)}function s$(n,e){1&n&&c._UZ(0,"img",9)}function o$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div")(1,"div",11),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.toLessonCheck(a))}),c.TgZ(2,"div",12)(3,"h4"),c._uU(4),c.qZA(),c.TgZ(5,"p"),c._uU(6),c.qZA()(),c.TgZ(7,"div",13)(8,"div",14),c._uU(9),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(4),c.hij('\u0423\u0440\u043e\u043a "',t.lesson.title,'"'),c.xp6(2),c.hij('\u041a\u0443\u0440\u0441 "',t.course.title,'"'),c.xp6(3),c.hij(" \u041d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442: ",t.lesson.needToCheck," ")}}function a$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"section",16)(1,"h2"),c._uU(2," \u0423 \u0432\u0430\u0441 "),c.YNc(3,r$,3,4,"span",3),c.ALo(4,"async"),c.YNc(5,i$,1,0,"ng-template",null,17,c.W1O),c.qZA(),c.YNc(7,s$,1,0,"img",5),c.ALo(8,"async"),c.ALo(9,"async"),c.TgZ(10,"div"),c.YNc(11,o$,10,3,"div",10),c.ALo(12,"async"),c.qZA(),c.TgZ(13,"button",7),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.updateDeadlinesList())}),c._uU(14,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),c.qZA()()}if(2&n){const t=c.MAs(6),r=c.oxw();let i,a;c.xp6(3),c.Q6J("ngIf",c.lcZ(4,4,r.getOnCheckLessons$()))("ngIfElse",t),c.xp6(4),c.Q6J("ngIf",c.lcZ(8,6,r.getOnCheckLessons$())&&0===(null==(i=c.lcZ(9,8,r.getOnCheckLessons$()))?null:i.needToCheck)),c.xp6(4),c.Q6J("ngForOf",null==(a=c.lcZ(12,10,r.getOnCheckLessons$()))?null:a.lessons)}}let u$=(()=>{class n{constructor(t,r,i,a){this.router=t,this.dashboardService=r,this.storeService=i,this.coursesService=a,this.storeService.setCurrentCourse(null)}toLesson(t){this.storeService.setCurrentCourse(t.course),this.coursesService.updateUsersListByCourseUID(t.course.courseUID),this.storeService.setCurrentLesson(t.lesson),this.router.navigate(["/user","courses","course","lesson"])}toLessonCheck(t){this.storeService.setCurrentCourse(t.course),this.coursesService.updateUsersListByCourseUID(t.course.courseUID),this.storeService.setCurrentLesson(t.lesson),this.router.navigate(["/user","courses","course","lesson-check"])}updateDeadlinesList(){this.storeService.userInfo$.pipe(Pn(1),xn(Boolean)).subscribe(t=>{this.coursesService.updateCoursesListByUserUID(t.userUID),this.coursesService.updateCreatedCoursesListByUserUID(t.userUID)})}getDeadlinesLessons$(t){return this.dashboardService.studentDashboardLessonsList$.pipe(xn(Boolean),(0,Tt.U)(r=>{const i=[];for(let a of r)for(let l of a.lesson.users)l.userUID===t&&"onWork"===l.status&&new Date<a.lesson.deadlineDate&&i.push(a);return i.sort((a,l)=>a.lesson.deadlineDate>l.lesson.deadlineDate?1:-1),i}))}getOnCheckLessons$(){return this.dashboardService.teacherDashboardLessonsList$.pipe(xn(Boolean),(0,Tt.U)(t=>{const r=[],i=[];for(let f of t)for(let m of f.lesson.users)"onCheck"===m.status&&r.push(f);r.sort((f,m)=>f.lesson.lessonUID>m.lesson.lessonUID?1:-1);let a=0,l="";for(let f of r)f.lesson.lessonUID!==l&&(i.push(f),a+=f.lesson.needToCheck),l=f.lesson.lessonUID;return{lessons:i,needToCheck:a}}))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mn),c.Y36(R4),c.Y36($i),c.Y36(rd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:4,vars:6,consts:[["class","user-deadlines",4,"ngIf"],["class","teacher-oncheck",4,"ngIf"],[1,"user-deadlines"],[4,"ngIf","ngIfElse"],["loading1",""],["src","assets/images/check-solid.svg","class","check-image",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"spiner"],["src","assets/images/check-solid.svg",1,"check-image"],[4,"ngFor","ngForOf"],[1,"deadline-card",3,"click"],[1,"left-side"],[1,"right-side"],[1,"deadline-info"],[1,"time-left"],[1,"teacher-oncheck"],["loading2",""]],template:function(t,r){1&t&&(c.YNc(0,n$,14,12,"section",0),c.ALo(1,"async"),c.YNc(2,a$,15,12,"section",1),c.ALo(3,"async")),2&t&&(c.Q6J("ngIf",c.lcZ(1,2,r.storeService.userInfo$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(3,4,r.storeService.userInfo$)))},dependencies:[_t,qn,ji,mr,KI],styles:[".deadline-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;padding:12px 20px;width:100%;font-size:20px;color:var(--primary-black);border-radius:20px;border:1px solid var(--primary-gray)}.deadline-card[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-blue);cursor:pointer}.deadline-card[_ngcontent-%COMP%]   .deadline-info[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:var(--primary-gray)}.deadline-card[_ngcontent-%COMP%]   .time-left[_ngcontent-%COMP%]{color:var(--primary-blue);font-size:20px;font-weight:600}.deadline-card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{width:30%}.user-deadlines[_ngcontent-%COMP%], .teacher-oncheck[_ngcontent-%COMP%]{margin-bottom:40px;width:1000px;padding:20px;background-color:#fff;border-radius:20px;border:1px solid var(--primary-gray)}.check-image[_ngcontent-%COMP%]{filter:invert(54%) sepia(90%) saturate(4097%) hue-rotate(183deg) brightness(100%) contrast(90%);fill:var(--primary-blue);width:200px;height:200px}"]}),n})(),jx=(()=>{class n{constructor(t,r,i){this.storeService=t,this.notificationService=r,this.firebase=i}getUserLessonData(t){return this.storeService.userInfo$.pipe(xn(Boolean),(0,Tt.U)(r=>{for(let i of t.users)if(i.userUID===r.userUID)return"onWork"===i.status?new Date<t.deadlineDate?{...i,...r,status:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",result:"-",maxResult:t.maxResult}:{...i,...r,status:"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e",result:"-",maxResult:t.maxResult}:"onCheck"===i.status?{...r,...i,status:"\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435",result:"-",maxResult:t.maxResult}:{...i,...r,status:"\u041e\u0446\u0435\u043d\u0435\u043d\u043e",maxResult:t.maxResult}}))}createLesson(t){return new Promise((r,i)=>this.firebase.createLesson(t).then(a=>{if(!a)return this.notificationService.addNotification({title:"\u0423\u0440\u043e\u043a \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d",content:"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",status:"error"}),void i();this.notificationService.addNotification({title:"\u0423\u0440\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d",content:"",status:"success"}),r()}).catch(()=>{this.notificationService.addNotification({title:"\u0423\u0440\u043e\u043a \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d",content:"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",status:"error"}),i()}))}updateUsersStatusesList(){return new Promise((t,r)=>Zo([this.storeService.currentCourseUsersList$.pipe(xn(Boolean)),this.storeService.currentLesson$.pipe(xn(Boolean))]).pipe(Pn(1)).subscribe(([i,a])=>{a.lessonUID?this.firebase.getLessonData(a.lessonUID).then(l=>{const f=l.data().users,m=[];for(let C of i){const E=_(C.userUID);m.push(-1===E?new Date<a.deadlineDate?{...C,status:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",result:"-",maxResult:a.maxResult}:{...C,status:"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e",result:"-",maxResult:a.maxResult}:"onCheck"===f[E].status?{...f[E],...C,status:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438",result:"-",maxResult:a.maxResult}:{...f[E],...C,status:"\u041e\u0446\u0435\u043d\u0435\u043d\u043e",maxResult:a.maxResult})}function _(C){if(!f)return-1;let E=-1,N=0;for(let[U,Q]of f.entries())Q.userUID===C&&Q.date.seconds>N&&(E=U,N=Q.date.seconds);return E}t(m)}).catch(()=>{this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432",content:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e",status:"error"}),r()}):r()}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($i),c.LFG(Na),c.LFG(Ma))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",12),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(3);return c.KtG(i.toggleUsersList())}),c._UZ(1,"i",13),c._uU(2," \u0421\u043a\u0440\u044b\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"),c.qZA()}}function l$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",12),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(3);return c.KtG(i.toggleUsersList())}),c._UZ(1,"i",14),c._uU(2," \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"),c.qZA()}}function d$(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(null==t?null:t.firstName),c.xp6(2),c.Oqu(null==t?null:t.lastName),c.xp6(2),c.Oqu(null==t?null:t.email)}}function h$(n,e){if(1&n&&(c.TgZ(0,"table",15)(1,"caption"),c._uU(2,"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 (\u0431\u0435\u0437 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f)"),c.qZA(),c.TgZ(3,"thead")(4,"tr")(5,"th"),c._uU(6,"\u0418\u043c\u044f"),c.qZA(),c.TgZ(7,"th"),c._uU(8,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),c.qZA(),c.TgZ(9,"th"),c._uU(10,"Email"),c.qZA()()(),c.TgZ(11,"tbody"),c.YNc(12,d$,7,3,"tr",16),c.ALo(13,"async"),c.qZA()()),2&n){const t=c.oxw(3);c.xp6(12),c.Q6J("ngForOf",c.lcZ(13,1,t.storeService.currentCourseUsersList$))}}function f$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",17)(1,"h4"),c._uU(2,"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0432 \u043a\u0443\u0440\u0441 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0435\u0433\u043e Email"),c.qZA(),c.TgZ(3,"form",18),c._UZ(4,"input",19)(5,"br"),c.TgZ(6,"button",20),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2).ngIf,a=c.oxw();return c.KtG(a.addUserToCourse(i))}),c._uU(7," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 "),c.qZA()()()}if(2&n){const t=c.oxw(3);c.xp6(3),c.Q6J("formGroup",t.newUserForm),c.xp6(3),c.ekj("disabled",t.newUserForm.invalid)}}function p$(n,e){if(1&n&&(c.TgZ(0,"div",8)(1,"h3"),c._uU(2,"\u0412\u044b \u044f\u0432\u043b\u044f\u0435\u0442\u0435\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0435\u043c \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430"),c.qZA(),c.YNc(3,c$,3,0,"a",9),c.YNc(4,l$,3,0,"a",9),c._UZ(5,"br"),c.YNc(6,h$,14,3,"table",10),c.YNc(7,f$,8,3,"div",11),c.qZA()),2&n){const t=c.oxw(2);c.xp6(3),c.Q6J("ngIf",t.onUsersList),c.xp6(1),c.Q6J("ngIf",!t.onUsersList),c.xp6(2),c.Q6J("ngIf",t.onUsersList),c.xp6(1),c.Q6J("ngIf",t.onUsersList)}}function g$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"declension"),c.qZA()),2&n){const t=e.ngIf;c.xp6(1),c.AsE("",null==t?null:t.length," ",c.xi3(2,2,t.length,"\u0443\u0440\u043e\u043a")," ")}}function m$(n,e){1&n&&c._UZ(0,"span",21)}function y$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",4),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.toLessonAdmin())}),c._UZ(1,"i",22),c._uU(2," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u043a "),c.qZA()}}function _$(n,e){if(1&n&&(c.TgZ(0,"div",31),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.hij("\u041d\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442: ",null==t?null:t.needToCheck,"")}}function v$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"async"),c.qZA()),2&n){const t=c.oxw(2).$implicit,r=c.oxw(2);let i;c.xp6(1),c.AsE(" ",null==(i=c.lcZ(2,2,r.getUserLessonData(t)))?null:i.result," / ",t.maxResult,"")}}function C$(n,e){if(1&n&&(c.TgZ(0,"div",27),c._uU(1),c.ALo(2,"async"),c.YNc(3,v$,3,4,"span",0),c.ALo(4,"async"),c.qZA()),2&n){const t=c.oxw().$implicit,r=c.oxw(2);let i,a;c.xp6(1),c.hij("\u0421\u0442\u0430\u0442\u0443\u0441: ",null==(i=c.lcZ(2,2,r.getUserLessonData(t)))?null:i.status," "),c.xp6(2),c.Q6J("ngIf","\u041e\u0446\u0435\u043d\u0435\u043d\u043e"===(null==(a=c.lcZ(4,4,r.getUserLessonData(t)))?null:a.status))}}function w$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",23)(1,"div",24),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.toLesson(a))}),c.TgZ(2,"div",25)(3,"div",26),c._uU(4),c.qZA(),c.TgZ(5,"div",27),c._uU(6),c.ALo(7,"date"),c.qZA()(),c.TgZ(8,"div",28),c.YNc(9,_$,2,1,"div",29),c.ALo(10,"async"),c.YNc(11,C$,5,6,"div",30),c.ALo(12,"async"),c.TgZ(13,"div",27),c._uU(14),c.ALo(15,"date"),c.qZA()()()()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.xp6(4),c.Oqu(null==t?null:t.title),c.xp6(2),c.hij(" \u0421\u043e\u0437\u0434\u0430\u043d ",c.xi3(7,5,null==t?null:t.creationDate,"dd.MM.YYYY"),""),c.xp6(3),c.Q6J("ngIf",c.lcZ(10,8,r.isAdmin$)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(12,10,r.isAdmin$)),c.xp6(3),c.hij("\u0414\u0435\u0434\u043b\u0430\u0439\u043d ",c.xi3(15,12,t.deadlineDate,"dd.MM.YYYY \u0432 HH:mm"),"")}}function E$(n,e){if(1&n&&(c.TgZ(0,"div",36)(1,"p",37),c._uU(2),c.ALo(3,"async"),c.ALo(4,"async"),c.qZA()()),2&n){const t=c.oxw(3);c.xp6(2),c.AsE("\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: ",c.lcZ(3,2,t.getUserLessonData(t.onShowLesson)).result," / ",c.lcZ(4,4,t.getUserLessonData(t.onShowLesson)).maxResult," ")}}function I$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"async"),c.qZA()),2&n){const t=c.oxw(2).index,r=c.oxw(3);let i;c.xp6(1),c.Oqu(null==(i=c.lcZ(2,1,r.getUserLessonData(r.onShowLesson)))?null:i.results[t])}}function D$(n,e){if(1&n&&(c.TgZ(0,"div",43)(1,"p")(2,"span",44),c._uU(3,"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"),c.qZA()(),c._UZ(4,"div",41),c.TgZ(5,"p")(6,"span",44),c._uU(7,"\u0412\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430: "),c.qZA(),c.YNc(8,I$,3,3,"span",0),c.ALo(9,"async"),c._uU(10),c.qZA()()),2&n){const t=c.oxw().$implicit,r=c.oxw(3);let i;c.xp6(4),c.Q6J("innerHTML",t.asnwer,c.oJD),c.xp6(4),c.Q6J("ngIf",null==(i=c.lcZ(9,3,r.getUserLessonData(r.onShowLesson)))?null:i.results),c.xp6(2),c.hij(" / ",t.maxPoint," ")}}function b$(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",38)(2,"h3"),c._uU(3),c.qZA(),c._UZ(4,"hr")(5,"div",39),c.TgZ(6,"div",40)(7,"h3"),c._uU(8,"\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442:"),c.qZA(),c._UZ(9,"div",41),c.ALo(10,"async"),c.qZA(),c.YNc(11,D$,11,5,"div",42),c.ALo(12,"async"),c.qZA()()),2&n){const t=e.$implicit,r=e.index,i=c.oxw(3);let a;c.xp6(3),c.hij(" \u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",r+1," "),c.xp6(2),c.Q6J("innerHTML",t.text,c.oJD),c.xp6(4),c.Q6J("innerHTML",c.lcZ(10,4,i.getUserLessonData(i.onShowLesson)).answers[r],c.oJD),c.xp6(2),c.Q6J("ngIf",null==(a=c.lcZ(12,6,i.getUserLessonData(i.onShowLesson)))?null:a.results)}}function T$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"section",32)(1,"div",33)(2,"h3"),c._uU(3),c.TgZ(4,"i",34),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.onShowLesson=null)}),c.qZA()(),c.YNc(5,E$,5,6,"div",35),c.ALo(6,"async"),c.YNc(7,b$,13,8,"div",16),c.qZA()()}if(2&n){const t=c.oxw(2);let r;c.xp6(3),c.hij(" \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0443\u0440\u043e\u043a\u0430 ",t.onShowLesson.title," "),c.xp6(2),c.Q6J("ngIf",null==(r=c.lcZ(6,3,t.getUserLessonData(t.onShowLesson)))?null:r.results),c.xp6(2),c.Q6J("ngForOf",t.onShowLesson.tasks)}}function S$(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.YNc(1,p$,8,4,"div",1),c.ALo(2,"async"),c.TgZ(3,"h2"),c._uU(4," \u0412 \u043a\u0443\u0440\u0441\u0435 "),c.YNc(5,g$,3,5,"span",2),c.ALo(6,"async"),c.YNc(7,m$,1,0,"ng-template",null,3,c.W1O),c.qZA(),c.TgZ(9,"button",4),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.backToCourses())}),c._uU(10,"\u041d\u0430\u0437\u0430\u0434"),c.qZA(),c.TgZ(11,"button",4),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.updateLessonsList())}),c._uU(12,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),c.qZA(),c.YNc(13,y$,3,0,"button",5),c.ALo(14,"async"),c.YNc(15,w$,16,15,"div",6),c.ALo(16,"async"),c.YNc(17,T$,8,5,"section",7),c.BQk()}if(2&n){const t=c.MAs(8),r=c.oxw();c.xp6(1),c.Q6J("ngIf",c.lcZ(2,6,r.isAdmin$)),c.xp6(4),c.Q6J("ngIf",c.lcZ(6,8,r.storeService.currentCourseLessonsList$))("ngIfElse",t),c.xp6(8),c.Q6J("ngIf",c.lcZ(14,10,r.isAdmin$)),c.xp6(2),c.Q6J("ngForOf",c.lcZ(16,12,r.storeService.currentCourseLessonsList$)),c.xp6(2),c.Q6J("ngIf",r.onShowLesson)}}let A$=(()=>{class n{get newUserInputEmail(){return this.newUserForm.get("newUserInputEmail")}constructor(t,r,i,a,l,f){this.router=t,this.storeService=r,this.coursesService=i,this.firestore=a,this.notificationService=l,this.lessonsService=f,this.isAdmin$=Zo([this.storeService.currentCourse$,this.storeService.userInfo$]).pipe((0,Tt.U)(([m,_])=>Boolean(_&&m?.creatorUID===_.userUID))),this.onUsersList=!1,this.onShowLesson=null,this.newUserForm=new ki({newUserInputEmail:new On(null,[Tn.required,Tn.email])}),this.updateLessonsList(),this.storeService.currentCourse$.pipe(xn(Boolean),Pn(1)).subscribe(m=>{this.coursesService.updateUsersListByCourseUID(m.courseUID)})}ngOnDestroy(){}updateLessonsList(){this.storeService.currentCourse$.pipe(Pn(1),xn(Boolean)).subscribe(t=>{this.coursesService.updateCourseLessonsList(t,!0)})}backToCourses(){this.router.navigate(["/user","courses"]),this.storeService.setCurrentCourse(null)}toLessonAdmin(){this.router.navigate(["/user","courses","course","lesson-admin"])}toggleUsersList(){this.onUsersList=!this.onUsersList}toLesson(t){Zo([this.storeService.userInfo$,this.storeService.currentCourse$]).pipe(Pn(1)).subscribe(([r,i])=>{if(r?.userUID===i?.creatorUID)this.storeService.setCurrentLesson(t),this.router.navigate(["/user","courses","course","lesson-check"]);else{let a=!1;for(let l of t.users)l.userUID===r?.userUID&&"onWork"===l.status&&(a=!0);if(a){if(t.deadlineDate<new Date)return void this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0443\u0440\u043e\u043a\u0443",content:"\u0414\u043e\u0441\u0442\u0443\u043f \u043f\u043e\u0441\u043b\u0435 \u0434\u0435\u0434\u043b\u0430\u0439\u043d\u0430 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d",status:"error"});this.storeService.setCurrentLesson(t),this.router.navigate(["/user","courses","course","lesson"])}else this.onShowLesson=t}})}getUserLessonData(t){return this.lessonsService.getUserLessonData(t)}addUserToCourse(t){if(this.newUserForm.invalid)return;const r=this.newUserInputEmail?.value;this.coursesService.addUserToCourse(t,r).then(()=>this.newUserForm.reset()).catch(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mn),c.Y36($i),c.Y36(rd),c.Y36(Ma),c.Y36(Na),c.Y36(jx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-course"]],decls:5,vars:6,consts:[[4,"ngIf"],["class","admin-window",4,"ngIf"],[4,"ngIf","ngIfElse"],["loader1",""],[1,"course-buttons",3,"click"],["class","course-buttons",3,"click",4,"ngIf"],["class","lessons-container",4,"ngFor","ngForOf"],["class","modal-window",4,"ngIf"],[1,"admin-window"],["class","users-list-opener",3,"click",4,"ngIf"],["class","users-list",4,"ngIf"],["class","new-user",4,"ngIf"],[1,"users-list-opener",3,"click"],[1,"fa-solid","fa-sort-up","fa-lg",2,"transform","translateY(7px)"],[1,"fa-solid","fa-sort-down","fa-lg",2,"transform","translateY(-5px)"],[1,"users-list"],[4,"ngFor","ngForOf"],[1,"new-user"],[1,"new-user-form",3,"formGroup"],["type","text","formControlName","newUserInputEmail"],[1,"add-user-button",3,"click"],[1,"spiner"],[1,"fa-solid","fa-plus","fa-sm",2,"margin-right","8px"],[1,"lessons-container"],[1,"lesson-card",3,"click"],[1,"left-side"],[1,"lesson-title"],[1,"lesson-secondary-info"],[1,"right-side"],["class","lesson-secondary-info notification",4,"ngIf"],["class","lesson-secondary-info",4,"ngIf"],[1,"lesson-secondary-info","notification"],[1,"modal-window"],[1,"modal-dialog"],[1,"fa-solid","fa-xmark","cross","fa-lg",2,"float","right",3,"click"],["class","total-result",4,"ngIf"],[1,"total-result"],[2,"font-size","20px"],[1,"task-card"],[1,"task-text",3,"innerHTML"],[1,"task-answer"],[3,"innerHTML"],["class","task-result",4,"ngIf"],[1,"task-result"],[2,"font-weight","600","font-size","16px"]],template:function(t,r){if(1&t&&(c.TgZ(0,"h1"),c._uU(1),c.ALo(2,"async"),c.qZA(),c.YNc(3,S$,18,14,"ng-container",0),c.ALo(4,"async")),2&t){let i;c.xp6(1),c.Oqu(null==(i=c.lcZ(2,2,r.storeService.currentCourse$))?null:i.title),c.xp6(2),c.Q6J("ngIf",c.lcZ(4,4,r.storeService.currentCourse$))}},dependencies:[_t,qn,Gs,Wi,Yi,Us,Fi,Qi,ji,mr,KI],styles:[".lesson-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px;padding:10px 20px;width:800px;height:80px;background-color:#fff;border-radius:20px;border:1px solid var(--primary-gray);-webkit-user-select:none;user-select:none;cursor:pointer}.lesson-card[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-blue)}.lesson-card[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.lesson-card[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;width:30%}.lesson-card[_ngcontent-%COMP%]   .lesson-title[_ngcontent-%COMP%]{font-weight:600;font-size:23px}.lesson-card[_ngcontent-%COMP%]   .lesson-secondary-info[_ngcontent-%COMP%]{font-weight:500;font-size:15px;color:var(--primary-gray)}.admin-window[_ngcontent-%COMP%]{width:800px;margin-bottom:20px;padding:20px;background-color:#fff;border-radius:20px;border:1px solid var(--primary-gray);-webkit-user-select:none;user-select:none}.admin-window[_ngcontent-%COMP%]   .users-list[_ngcontent-%COMP%]{margin-top:20px;width:100%}.admin-window[_ngcontent-%COMP%]   .users-list-opener[_ngcontent-%COMP%]{display:inline-block;margin:0 0 20px;padding:0;text-align:center;font-size:18px;font-weight:400;cursor:pointer;border:none}.admin-window[_ngcontent-%COMP%]   .users-list-opener[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-window[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:200px;height:30px;outline:none;border:none;border-bottom:1px solid #999;font-size:16px;font-weight:500;font-family:Montserrat,sans-serif}.admin-window[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.course-buttons[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:0}.add-user-button[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}a[_ngcontent-%COMP%]{display:inline-block;margin:15px 10px 15px 0;padding:8px;background-color:#fff;border-radius:8px;border:1px solid var(--primary-gray);cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline;border:1px solid var(--primary-blue)}.modal-window[_ngcontent-%COMP%]{position:fixed;z-index:6;top:0;left:0;width:100%;height:100vh;background-color:#000000b3;overflow:auto}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:1000px;margin:150px auto;padding:20px;background-color:#fff;border:1px solid var(--primary-blue);border-radius:20px}.modal-dialog[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:10px}.modal-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:16px}.modal-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:20px}.modal-dialog[_ngcontent-%COMP%]   .task-answer[_ngcontent-%COMP%]{margin-bottom:20px}.modal-dialog[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--primary-gray)}"]}),n})();function x$(n,e){1&n&&(c.TgZ(0,"div",4),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}let M$=(()=>{class n{get newCourseInputTitle(){return this.newCourseForm.get("newCourseInputTitle")}constructor(t,r){this.coursesService=t,this.router=r,this.newCourseFormOnSubmit=!1,this.newCourseForm=new ki({newCourseInputTitle:new On(null,[Tn.required])})}createNewCourse(){this.newCourseForm.invalid||(this.coursesService.createCourse(this.newCourseInputTitle?.value),localStorage.setItem("onCourses","created"),this.toCourses())}toCourses(){this.router.navigate(["/user","courses"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rd),c.Y36(mn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-new-course"]],decls:12,vars:6,consts:[[1,"new-course-form",3,"formGroup"],["type","text","formControlName","newCourseInputTitle"],["class","invalid-input",4,"ngIf"],[3,"click"],[1,"invalid-input"]],template:function(t,r){1&t&&(c.TgZ(0,"form",0)(1,"h2"),c._uU(2,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430"),c.qZA(),c.TgZ(3,"p"),c._uU(4,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430:"),c.qZA(),c._UZ(5,"input",1),c.YNc(6,x$,2,0,"div",2),c.TgZ(7,"p")(8,"button",3),c.NdJ("click",function(){return r.toCourses()}),c._uU(9,"\u041e\u0442\u043c\u0435\u043d\u0430"),c.qZA(),c.TgZ(10,"button",3),c.NdJ("click",function(){return r.createNewCourse()}),c._uU(11,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),c.qZA()()()),2&t&&(c.Q6J("formGroup",r.newCourseForm),c.xp6(5),c.ekj("invalid-input-input",(null==r.newCourseInputTitle||null==r.newCourseInputTitle.errors?null:r.newCourseInputTitle.errors.required)&&((null==r.newCourseInputTitle?null:r.newCourseInputTitle.touched)||r.newCourseFormOnSubmit)),c.xp6(1),c.Q6J("ngIf",(null==r.newCourseInputTitle||null==r.newCourseInputTitle.errors?null:r.newCourseInputTitle.errors.required)&&((null==r.newCourseInputTitle?null:r.newCourseInputTitle.touched)||r.newCourseFormOnSubmit)),c.xp6(4),c.ekj("disabled",r.newCourseForm.invalid))},dependencies:[qn,Gs,Wi,Yi,Us,Fi,Qi],styles:[".new-course-form[_ngcontent-%COMP%]{padding:20px;width:1000px;border:1px solid var(--primary-gray);border-radius:20px;background-color:#fff}p[_ngcontent-%COMP%]{margin-bottom:5px;font-size:20px;font-weight:600}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:1px solid var(--primary-gray);font-size:18px}input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.invalid-input[_ngcontent-%COMP%]{margin:3px;color:var(--primary-red);font-size:13px;font-weight:600}.invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}"]}),n})();function N$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"async"),c.ALo(3,"declension"),c.ALo(4,"async"),c.qZA()),2&n){const t=c.oxw(2);let r;c.xp6(1),c.AsE("",null==(r=c.lcZ(2,2,t.storeService.userCreatedCoursesList$))?null:r.length," ",c.xi3(3,4,null==(r=c.lcZ(4,7,t.storeService.userCreatedCoursesList$))?null:r.length,"\u043a\u0443\u0440\u0441\u0430\u0445"),"")}}function P$(n,e){1&n&&c._UZ(0,"span",6)}function O$(n,e){if(1&n&&(c.TgZ(0,"h2"),c._uU(1," \u0412\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c "),c.YNc(2,N$,5,9,"span",4),c.ALo(3,"async"),c.YNc(4,P$,1,0,"ng-template",null,5,c.W1O),c.qZA()),2&n){const t=c.MAs(5),r=c.oxw();c.xp6(2),c.Q6J("ngIf",c.lcZ(3,2,r.storeService.userCreatedCoursesList$))("ngIfElse",t)}}function R$(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"async"),c.ALo(3,"declension"),c.ALo(4,"async"),c.qZA()),2&n){const t=c.oxw(2);let r;c.xp6(1),c.AsE("",null==(r=c.lcZ(2,2,t.storeService.userCoursesList$))?null:r.length," ",c.xi3(3,4,null==(r=c.lcZ(4,7,t.storeService.userCoursesList$))?null:r.length,"\u043a\u0443\u0440\u0441\u043e\u0432"),"")}}function k$(n,e){1&n&&c._UZ(0,"span",6)}function F$(n,e){if(1&n&&(c.TgZ(0,"h2"),c._uU(1," \u0412\u044b \u0443\u0447\u0438\u0442\u0435\u0441\u044c \u043d\u0430 "),c.YNc(2,R$,5,9,"span",4),c.ALo(3,"async"),c.YNc(4,k$,1,0,"ng-template",null,7,c.W1O),c.qZA()),2&n){const t=c.MAs(5),r=c.oxw();c.xp6(2),c.Q6J("ngIf",c.lcZ(3,2,r.storeService.userCoursesList$))("ngIfElse",t)}}function L$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.toCourse(a))}),c.TgZ(1,"h3"),c._uU(2),c.qZA(),c.TgZ(3,"div",11)(4,"p"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c.ALo(8,"date"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.title),c.xp6(3),c.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",t.creator,""),c.xp6(2),c.hij("\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",c.xi3(8,3,t.creationDate,"dd.MM.YYYY"),"")}}function U$(n,e){if(1&n&&(c.TgZ(0,"div",8),c.YNc(1,L$,9,6,"div",9),c.ALo(2,"async"),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,t.storeService.userCreatedCoursesList$))}}function V$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.toCourse(a))}),c.TgZ(1,"h3"),c._uU(2),c.qZA(),c.TgZ(3,"div",11)(4,"p"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c.ALo(8,"date"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.title),c.xp6(3),c.hij("\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c: ",t.creator,""),c.xp6(2),c.hij("\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f: ",c.xi3(8,3,t.creationDate,"dd.MM.YYYY"),"")}}function B$(n,e){if(1&n&&(c.TgZ(0,"div",8),c.YNc(1,V$,9,6,"div",9),c.ALo(2,"async"),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,t.storeService.userCoursesList$))}}let $$=(()=>{class n{constructor(t,r,i,a){this.storeService=t,this.coursesService=r,this.authService=i,this.router=a,this.onCreatedCourses=!1,this.onForeignCourses=!0,this.storeService.userInfo$.pipe(Pn(1)).subscribe(l=>{const f=localStorage.getItem("onCourses");f&&"created"===f&&(this.onForeignCourses=!1,this.onCreatedCourses=!0)})}toCourseCreation(){this.router.navigate(["/user","courses","new-course"])}toCreatedCourses(){localStorage.setItem("onCourses","created"),this.onForeignCourses=!1,this.onCreatedCourses=!0}toForeignCourses(){localStorage.setItem("onCourses","foreign"),this.onCreatedCourses=!1,this.onForeignCourses=!0}toCourse(t){this.storeService.setCurrentCourse(t),this.router.navigate(["/user","courses","course"])}fromCourse(){this.storeService.setCurrentCourse(null),this.router.navigate(["/user","courses"])}updateCoursesList(){this.storeService.userInfo$.pipe(Pn(1),xn(Boolean)).subscribe(t=>{this.coursesService.updateCoursesListByUserUID(t.userUID),this.coursesService.updateCreatedCoursesListByUserUID(t.userUID)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(rd),c.Y36(pp),c.Y36(mn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-courses-list"]],decls:14,vars:4,consts:[[4,"ngIf"],[3,"click"],[1,"fa-solid","fa-plus","fa-sm",2,"margin-right","8px"],["class","courses-flexbox",4,"ngIf"],[4,"ngIf","ngIfElse"],["loader2",""],[1,"spiner"],["loader1",""],[1,"courses-flexbox"],["class","course-card",3,"click",4,"ngFor","ngForOf"],[1,"course-card",3,"click"],[1,"additional-info"]],template:function(t,r){1&t&&(c.YNc(0,O$,6,4,"h2",0),c.YNc(1,F$,6,4,"h2",0),c.TgZ(2,"button",1),c.NdJ("click",function(){return r.updateCoursesList()}),c._uU(3," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\n"),c.qZA(),c.TgZ(4,"button",1),c.NdJ("click",function(){return r.toCourseCreation()}),c._UZ(5,"i",2),c._uU(6," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441\n"),c.qZA(),c._UZ(7,"br"),c.TgZ(8,"a",1),c.NdJ("click",function(){return r.toCreatedCourses()}),c._uU(9,"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u043d\u043e\u0439"),c.qZA(),c.TgZ(10,"a",1),c.NdJ("click",function(){return r.toForeignCourses()}),c._uU(11,"\u0421\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u044b"),c.qZA(),c.YNc(12,U$,3,3,"div",3),c.YNc(13,B$,3,3,"div",3)),2&t&&(c.Q6J("ngIf",r.onCreatedCourses),c.xp6(1),c.Q6J("ngIf",r.onForeignCourses),c.xp6(11),c.Q6J("ngIf",r.onCreatedCourses),c.xp6(1),c.Q6J("ngIf",r.onForeignCourses))},dependencies:[_t,qn,ji,mr,KI],styles:[".courses-flexbox[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;margin-top:40px;margin-right:25px;padding:15px;width:31%;min-width:320px;max-width:450px;height:200px;box-shadow:2px 2px 5px #223c5033;border-radius:10px;background:linear-gradient(to bottom,#9ac99b 45%,white 45%);transition:all .1s linear;cursor:pointer}.course-card[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{color:var(--primary-gray);font-weight:600;font-size:12px}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:3px 4px 7px 1px #223c5033;transition:all .1s linear}a[_ngcontent-%COMP%]{display:inline-block;margin-top:20px;margin-right:10px;padding:8px;background-color:#fff;border-radius:8px;border:1px solid var(--primary-gray);cursor:pointer}a[_ngcontent-%COMP%]:hover{text-decoration:underline;border:1px solid var(--primary-blue)}"]}),n})();var j$=S(1144);const G$=["addListener","removeListener"],H$=["addEventListener","removeEventListener"],z$=["on","off"];function YI(n,e,t,r){if((0,oo.m)(t)&&(r=t,t=void 0),r)return YI(n,e,t).pipe(qo(r));const[i,a]=function W$(n){return(0,oo.m)(n.addEventListener)&&(0,oo.m)(n.removeEventListener)}(n)?H$.map(l=>f=>n[l](e,f,t)):function q$(n){return(0,oo.m)(n.addListener)&&(0,oo.m)(n.removeListener)}(n)?G$.map(F4(n,e)):function Z$(n){return(0,oo.m)(n.on)&&(0,oo.m)(n.off)}(n)?z$.map(F4(n,e)):[];if(!i&&(0,j$.z)(n))return(0,Hr.z)(l=>YI(l,e,t))((0,Ni.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ps.y(l=>{const f=(...m)=>l.next(1<m.length?m:m[0]);return i(f),()=>a(f)})}function F4(n,e){return t=>r=>n[t](e,r)}var K$=S(5032);function L4(n){return(0,Ar.e)((e,t)=>{(0,Ni.Xf)(n).subscribe((0,Nn.x)(t,()=>t.complete(),K$.Z)),!t.closed&&e.subscribe(t)})}var Y$=S(6063);class Q$ extends so.x{constructor(e=1/0,t=1/0,r=Y$.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)f=m;f&&r.splice(0,f+1)}}}var J$=S(3099);function ej(n,e){}const QI=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let tj=(()=>{class n{constructor(){this.onBeforePaste=new c.vpe,this.onBlur=new c.vpe,this.onClick=new c.vpe,this.onContextMenu=new c.vpe,this.onCopy=new c.vpe,this.onCut=new c.vpe,this.onDblclick=new c.vpe,this.onDrag=new c.vpe,this.onDragDrop=new c.vpe,this.onDragEnd=new c.vpe,this.onDragGesture=new c.vpe,this.onDragOver=new c.vpe,this.onDrop=new c.vpe,this.onFocus=new c.vpe,this.onFocusIn=new c.vpe,this.onFocusOut=new c.vpe,this.onKeyDown=new c.vpe,this.onKeyPress=new c.vpe,this.onKeyUp=new c.vpe,this.onMouseDown=new c.vpe,this.onMouseEnter=new c.vpe,this.onMouseLeave=new c.vpe,this.onMouseMove=new c.vpe,this.onMouseOut=new c.vpe,this.onMouseOver=new c.vpe,this.onMouseUp=new c.vpe,this.onPaste=new c.vpe,this.onSelectionChange=new c.vpe,this.onActivate=new c.vpe,this.onAddUndo=new c.vpe,this.onBeforeAddUndo=new c.vpe,this.onBeforeExecCommand=new c.vpe,this.onBeforeGetContent=new c.vpe,this.onBeforeRenderUI=new c.vpe,this.onBeforeSetContent=new c.vpe,this.onChange=new c.vpe,this.onClearUndos=new c.vpe,this.onDeactivate=new c.vpe,this.onDirty=new c.vpe,this.onExecCommand=new c.vpe,this.onGetContent=new c.vpe,this.onHide=new c.vpe,this.onInit=new c.vpe,this.onInitNgModel=new c.vpe,this.onLoadContent=new c.vpe,this.onNodeChange=new c.vpe,this.onPostProcess=new c.vpe,this.onPostRender=new c.vpe,this.onPreInit=new c.vpe,this.onPreProcess=new c.vpe,this.onProgressState=new c.vpe,this.onRedo=new c.vpe,this.onRemove=new c.vpe,this.onReset=new c.vpe,this.onResizeEditor=new c.vpe,this.onSaveContent=new c.vpe,this.onSetAttrib=new c.vpe,this.onObjectResizeStart=new c.vpe,this.onObjectResized=new c.vpe,this.onObjectSelected=new c.vpe,this.onSetContent=new c.vpe,this.onShow=new c.vpe,this.onSubmit=new c.vpe,this.onUndo=new c.vpe,this.onVisualAid=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const U4=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],JI=(n,e,t)=>YI(n,e).pipe(L4(t)),V4=(n,e)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:e;let B4=0;const $4=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),j4=n=>typeof n>"u"||""===n?[]:Array.isArray(n)?n:n.split(" "),sj=(n,e)=>j4(n).concat(j4(e)),oj=()=>{},G4=n=>null==n,aj=(()=>{let n={script$:null};return{load:(r,i)=>n.script$||(n.script$=Wo(()=>{const a=r.createElement("script");return a.referrerPolicy="origin",a.type="application/javascript",a.src=i,r.head.appendChild(a),YI(a,"load").pipe(Pn(1),LD(void 0))}).pipe(function X$(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,J$.B)({connector:()=>new Q$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),uj=new c.OlP("TINYMCE_SCRIPT_SRC"),cj={provide:li,useExisting:(0,c.Gpc)(()=>XI),multi:!0};let XI=(()=>{class n extends tj{constructor(t,r,i,a){super(),this.platformId=i,this.tinymceScriptSrc=a,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=oj,this.destroy$=new so.x,this.initialise=()=>{const l={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:sj(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:f=>{this._editor=f,JI(f,"init",this.destroy$).subscribe(()=>{this.initEditor(f)}),((n,e,t)=>{(n=>{const e=V4(n.ignoreEvents,[]);return V4(n.allowedEvents,U4).filter(r=>U4.includes(r)&&!e.includes(r))})(n).forEach(i=>{const a=n[i];JI(e,i.substring(2),t).subscribe(l=>{a.observers.length>0&&n.ngZone.run(()=>a.emit({event:l,editor:e}))})})})(this,f,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(f)}};$4(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{QI().init(l)})},this._elementRef=t,this.ngZone=r}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(G4(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(function pd(n){return n===dd})(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return B4++,"tiny-angular_"+r+B4+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==QI()?this.initialise():this._element&&this._element.ownerDocument&&aj.load(this._element.ownerDocument,this.getScriptSrc()).pipe(L4(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==QI()&&QI().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,$4(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return G4(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){JI(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),JI(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.Lbi),c.Y36(uj,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[c._Bn([cj]),c.qOj,c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c.YNc(0,ej,0,0,"ng-template")},dependencies:[Ss,lu],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[XI]}),n})();function dj(n,e){if(1&n&&c._UZ(0,"div",10),2&n){const t=e.ngIf,r=c.oxw().index;c.Q6J("innerHTML",t.tasks[r].text,c.oJD)}}function hj(n,e){1&n&&(c.TgZ(0,"div",11),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function fj(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",5)(2,"h3"),c._uU(3),c.qZA(),c._UZ(4,"hr"),c.YNc(5,dj,1,1,"div",6),c.ALo(6,"async"),c.TgZ(7,"div",7)(8,"h3"),c._uU(9,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442:"),c.qZA(),c._UZ(10,"editor",8),c.YNc(11,hj,2,0,"div",9),c.qZA()()()),2&n){const t=e.index,r=c.oxw();let i,a;c.xp6(3),c.hij(" \u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",t+1," "),c.xp6(2),c.Q6J("ngIf",c.lcZ(6,8,r.storeService.currentLesson$)),c.xp6(2),c.Q6J("formGroupName",t),c.xp6(3),c.ekj("invalid-input-input",(null==(i=r.tasksForms.controls[t].get("answer"))||null==i.errors?null:i.errors.required)&&((null==(i=r.tasksForms.controls[t].get("answer"))?null:i.touched)||r.onSubmit)),c.Q6J("apiKey",r.apiKey)("init",r.init),c.xp6(1),c.Q6J("ngIf",(null==(a=r.tasksForms.controls[t].get("answer"))||null==a.errors?null:a.errors.required)&&((null==(a=r.tasksForms.controls[t].get("answer"))?null:a.touched)||r.onSubmit))}}let pj=(()=>{class n{get tasksForms(){return this.answerForm.get("tasksForms")}constructor(t,r,i,a,l){this.storeService=t,this.database=r,this.notificationService=i,this.router=a,this.coursesService=l,this.apiKey="l91zqakrsjijt61mtvkutpgh751uhb2lvecq7jhndwaljsgt",this.init={toolbar:"undo redo | blocks | bold italic underline strikethrough | align lineheight | checklist numlist bullist indent outdent | link image media table",plugins:"image link media table"},this.onSubmit=!1,this.answerForm=new ki({tasksForms:new Lh([])}),this.storeService.currentLesson$.pipe(Pn(1)).subscribe(f=>{f?.tasks.forEach(()=>this.addNewTask())})}ngOnDestroy(){this.storeService.setCurrentLesson(null)}addNewTask(){this.answerForm.controls.tasksForms.push(new ki({answer:new On(null,[Tn.required])}))}back(){this.router.navigate(["/user","courses","course"]),this.storeService.setCurrentLesson(null)}saveAnswers(){this.onSubmit=!0,this.answerForm.invalid?this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u043e\u0432",content:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f",status:"error"}):Zo([this.storeService.userInfo$.pipe(xn(Boolean)),this.storeService.currentLesson$.pipe(xn(Boolean))]).pipe(Pn(1)).subscribe(([t,r])=>{if(!r.lessonUID)return;const i=[];this.tasksForms.controls.forEach(a=>i.push(a.get("answer")?.value)),this.database.saveLessonAnswers(r.lessonUID,t.userUID,i).then(()=>{this.notificationService.addNotification({title:"\u041e\u0442\u0432\u0435\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",content:"",status:"success"}),this.answerForm.reset(),this.storeService.userInfo$.pipe(Pn(1)).subscribe(a=>{a&&this.coursesService.updateCoursesListByUserUID(a.userUID)}),this.router.navigate(["/user","courses","course"])}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u043e\u0432",content:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043e\u0442\u0432\u0435\u0442\u043e\u0432",status:"error"}))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(Ma),c.Y36(Na),c.Y36(mn),c.Y36(rd))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lesson"]],decls:12,vars:8,consts:[[1,"lesson-title"],[3,"formGroup"],["formArrayName","tasksForms"],[4,"ngFor","ngForOf"],[3,"click"],[1,"task-card"],["class","task-text",3,"innerHTML",4,"ngIf"],[1,"task-answer",3,"formGroupName"],["formControlName","answer",3,"apiKey","init"],["class","invalid-input",4,"ngIf"],[1,"task-text",3,"innerHTML"],[1,"invalid-input"]],template:function(t,r){if(1&t&&(c.TgZ(0,"div",0)(1,"h1"),c._uU(2),c.ALo(3,"async"),c.ALo(4,"async"),c.qZA()(),c.TgZ(5,"form",1)(6,"div",2),c.YNc(7,fj,12,10,"div",3),c.TgZ(8,"button",4),c.NdJ("click",function(){return r.saveAnswers()}),c._uU(9,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b"),c.qZA(),c.TgZ(10,"button",4),c.NdJ("click",function(){return r.back()}),c._uU(11,"\u041d\u0430\u0437\u0430\u0434"),c.qZA()()()),2&t){let i;c.xp6(2),c.AsE('\u0423\u0440\u043e\u043a "',null==(i=c.lcZ(3,4,r.storeService.currentLesson$))?null:i.title,'" \u0432 \u043a\u0443\u0440\u0441\u0435 "',null==(i=c.lcZ(4,6,r.storeService.currentCourse$))?null:i.title,'"'),c.xp6(3),c.Q6J("formGroup",r.answerForm),c.xp6(2),c.Q6J("ngForOf",r.tasksForms.controls)}},dependencies:[_t,qn,XI,Gs,Yi,Us,Fi,Qi,ga,Co,ji],styles:[".task-card[_ngcontent-%COMP%]{margin-bottom:20px;padding:20px;width:1000px;border-radius:20px;border:1px solid var(--primary-gray);background-color:#fff;font-size:20px}.task-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:10px}.task-card[_ngcontent-%COMP%]   .task-answer[_ngcontent-%COMP%]{margin-top:20px}editor[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid white}editor.invalid-input-input[_ngcontent-%COMP%]{border:2px solid var(--primary-red);margin-bottom:5px}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:1px solid var(--primary-gray);font-size:18px}input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.invalid-input[_ngcontent-%COMP%]{margin:3px 3px 10px;color:var(--primary-red);font-size:13px;font-weight:600}.invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}"]}),n})();function gj(n,e){1&n&&(c.TgZ(0,"div",10),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function mj(n,e){1&n&&(c.TgZ(0,"div",10),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function yj(n,e){1&n&&(c.TgZ(0,"div",10),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function _j(n,e){1&n&&(c.TgZ(0,"div",10),c._uU(1," \u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f! "),c.qZA())}function vj(n,e){1&n&&(c.TgZ(0,"div",10),c._uU(1," \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043b\u043b - 100. "),c.qZA())}function Cj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11)(1,"div",12)(2,"div")(3,"p"),c._uU(4),c.TgZ(5,"i",13),c.NdJ("click",function(){const a=c.CHM(t).index,l=c.oxw();return c.KtG(l.delTask(a))}),c.qZA()(),c._UZ(6,"editor",14),c.YNc(7,yj,2,0,"div",3),c.qZA(),c.TgZ(8,"div")(9,"p"),c._uU(10,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 (\u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u043f\u043e\u043c\u043e\u0449\u044c \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438):"),c.qZA(),c._UZ(11,"editor",15),c.qZA(),c.TgZ(12,"div")(13,"p"),c._uU(14,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u043b\u043b\u043e\u0432: (\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0441\u043b\u0430)"),c.qZA(),c._UZ(15,"input",16),c.YNc(16,_j,2,0,"div",3),c.YNc(17,vj,2,0,"div",3),c.qZA()()()}if(2&n){const t=e.index,r=c.oxw();let i,a,l,f,m;c.xp6(1),c.Q6J("formGroupName",t),c.xp6(3),c.hij("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u2116",t+1,": "),c.xp6(2),c.ekj("invalid-input-input",(null==(i=r.tasksForms.controls[t].get("text"))||null==i.errors?null:i.errors.required)&&((null==(i=r.tasksForms.controls[t].get("text"))?null:i.touched)||r.onSubmit)),c.Q6J("apiKey",r.apiKey)("init",r.init),c.xp6(1),c.Q6J("ngIf",(null==(a=r.tasksForms.controls[t].get("text"))||null==a.errors?null:a.errors.required)&&((null==(a=r.tasksForms.controls[t].get("text"))?null:a.touched)||r.onSubmit)),c.xp6(4),c.Q6J("apiKey",r.apiKey)("init",r.init),c.xp6(4),c.ekj("invalid-input-input",(null==(l=r.tasksForms.controls[t].get("maxPoint"))?null:l.errors)&&((null==(l=r.tasksForms.controls[t].get("maxPoint"))?null:l.touched)||r.onSubmit)),c.xp6(1),c.Q6J("ngIf",(null==(f=r.tasksForms.controls[t].get("maxPoint"))||null==f.errors?null:f.errors.required)&&((null==(f=r.tasksForms.controls[t].get("maxPoint"))?null:f.touched)||r.onSubmit)),c.xp6(1),c.Q6J("ngIf",(null==(m=r.tasksForms.controls[t].get("maxPoint"))||null==m.errors?null:m.errors.max)&&((null==(m=r.tasksForms.controls[t].get("maxPoint"))?null:m.touched)||r.onSubmit))}}function wj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){const a=c.CHM(t).ngIf,l=c.oxw();return c.KtG(l.saveLessonProfile(a.courseUID))}),c._uU(1,"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0440\u043e\u043a"),c.qZA()}}let Ej=(()=>{class n{get lessonTitle(){return this.lessonForm.get("lessonTitle")}get deadlineDate(){return this.lessonForm.get("deadlineDate")}get tasksForms(){return this.lessonForm.get("tasksForms")}constructor(t,r,i,a,l){this.storeService=t,this.notificationService=r,this.router=i,this.database=a,this.lessonService=l,this.apiKey="l91zqakrsjijt61mtvkutpgh751uhb2lvecq7jhndwaljsgt",this.init={toolbar:"undo redo | blocks | bold italic underline strikethrough | align lineheight | checklist numlist bullist indent outdent | link image media table",plugins:"image link media table",content_style:"font-size: 20px"},this.onSubmit=!1,this.lessonForm=new ki({lessonTitle:new On(null,[Tn.required]),deadlineDate:new js(null,[Tn.required]),tasksForms:new Lh([])}),this.addNewTask()}ngOnDestroy(){this.storeService.setCurrentLesson(null)}addNewTask(){this.lessonForm.controls.tasksForms.push(new ki({text:new On(null,[Tn.required]),answer:new On(null),maxPoint:new On(null,[Tn.required,Tn.max(100)])}))}delTask(t){confirm(`\u0423\u0434\u0430\u043b\u0438\u0442\u044c ${t+1} \u0437\u0430\u0434\u0430\u043d\u0438\u0435?`)&&this.tasksForms.removeAt(t)}backToCourse(){this.router.navigate(["/user","courses","course"]),this.storeService.setCurrentLesson(null)}saveLessonProfile(t){if(this.onSubmit=!0,this.lessonForm.invalid)return void this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u0430",content:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f",status:"error"});if(0===this.tasksForms.length)return void this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u0430",content:"\u0412 \u0443\u0440\u043e\u043a\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c 0 \u0437\u0430\u0434\u0430\u043d\u0438\u0439",status:"error"});const r={title:this.lessonForm.get("lessonTitle")?.value,deadlineDate:new Date(this.lessonForm.get("deadlineDate")?.value),courseUID:t};let i=0;const a=[];this.tasksForms.controls.forEach(l=>{a.push({text:l.get("text")?.value,answer:l.get("answer")?.value,maxPoint:l.get("maxPoint")?.value}),i+=Number(l.get("maxPoint")?.value)}),this.lessonService.createLesson({creationDate:new Date,maxResult:i,tasks:a,...r,users:[]}).then(()=>{this.lessonForm.reset(),this.router.navigate(["/user","courses","course"])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(Na),c.Y36(mn),c.Y36(Ma),c.Y36(jx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lesson-admin"]],decls:21,vars:10,consts:[[1,"lesson-form",3,"formGroup"],[1,"lesson-title"],["type","text","formControlName","lessonTitle"],["class","invalid-input",4,"ngIf"],["type","datetime-local","formControlName","deadlineDate"],["formArrayName","tasksForms"],["class","lesson-card",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit",3,"click",4,"ngIf"],[3,"click"],[1,"invalid-input"],[1,"lesson-card"],[3,"formGroupName"],[1,"fa-solid","fa-xmark","cross","fa-lg",2,"float","right",3,"click"],["formControlName","text",3,"apiKey","init"],["formControlName","answer",3,"apiKey","init"],["type","number","oninput","this.value = Math.round(this.value);","formControlName","maxPoint"],["type","submit",3,"click"]],template:function(t,r){if(1&t&&(c.TgZ(0,"h2"),c._uU(1),c.ALo(2,"async"),c.qZA(),c.TgZ(3,"form",0)(4,"div",1)(5,"p"),c._uU(6,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u043a\u0430:"),c.qZA(),c._UZ(7,"input",2),c.YNc(8,gj,2,0,"div",3),c.TgZ(9,"p"),c._uU(10,"\u0414\u0435\u0434\u043b\u0430\u0439\u043d:"),c.qZA(),c._UZ(11,"input",4),c.YNc(12,mj,2,0,"div",3),c.qZA(),c.TgZ(13,"div",5),c.YNc(14,Cj,18,13,"div",6),c.qZA(),c.TgZ(15,"button",7),c.NdJ("click",function(){return r.addNewTask()}),c._uU(16,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435"),c.qZA(),c.YNc(17,wj,2,0,"button",8),c.ALo(18,"async"),c.TgZ(19,"button",9),c.NdJ("click",function(){return r.backToCourse()}),c._uU(20,"\u041e\u0442\u043c\u0435\u043d\u0430"),c.qZA()()),2&t){let i;c.xp6(1),c.hij('\u0412\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0443\u0440\u043e\u043a\u0430 \u0432 \u043a\u0443\u0440\u0441\u0435 "',null==(i=c.lcZ(2,6,r.storeService.currentCourse$))?null:i.title,'"'),c.xp6(2),c.Q6J("formGroup",r.lessonForm),c.xp6(5),c.Q6J("ngIf",(null==r.lessonTitle||null==r.lessonTitle.errors?null:r.lessonTitle.errors.required)&&((null==r.lessonTitle?null:r.lessonTitle.touched)||r.onSubmit)),c.xp6(4),c.Q6J("ngIf",(null==r.deadlineDate?null:r.deadlineDate.errors)&&((null==r.deadlineDate?null:r.deadlineDate.touched)||r.onSubmit)),c.xp6(2),c.Q6J("ngForOf",r.tasksForms.controls),c.xp6(3),c.Q6J("ngIf",c.lcZ(18,8,r.storeService.currentCourse$))}},dependencies:[_t,qn,XI,Gs,Wi,Mh,Yi,Us,Fi,Qi,ga,Co,ji],styles:[".lesson-card[_ngcontent-%COMP%], .lesson-title[_ngcontent-%COMP%]{margin-bottom:20px;padding:20px;width:1000px;border-radius:20px;border:1px solid var(--primary-gray);background-color:#fff}p[_ngcontent-%COMP%]{margin:5px 0;font-weight:500;font-size:20px}textarea[_ngcontent-%COMP%]{width:958px;max-width:958px;min-height:100px;font-size:15px}editor[_ngcontent-%COMP%]{margin-bottom:20px;border:2px solid white}editor.invalid-input-input[_ngcontent-%COMP%]{border:2px solid var(--primary-red);margin-bottom:5px}i[_ngcontent-%COMP%]:hover{color:var(--primary-gray)}input[_ngcontent-%COMP%]{outline:none;border:none;border-bottom:1px solid var(--primary-gray);font-size:18px}input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.invalid-input[_ngcontent-%COMP%]{margin:3px 3px 10px;color:var(--primary-red);font-size:13px;font-weight:600}.invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}"]}),n})(),eD=(()=>{class n{constructor(t,r){this.storeService=t,this.router=r}canActivate(t,r){return this.storeService.currentCourse$.pipe((0,Tt.U)(i=>{if(!i){const a=localStorage.getItem("course");return"null"===a?this.router.navigate(["/user","courses"]):a?(this.storeService.setCurrentCourse(JSON.parse(a)),this.router.navigate(["/user","courses","course"])):this.router.navigate(["/user","courses"])}return!0}))}canActivateChild(t,r){return this.canActivate(t,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($i),c.LFG(mn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ij(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",0),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.updateUsersStatusesList())}),c._uU(1,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),c.qZA()}}function Dj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.ALo(9,"async"),c.qZA(),c.TgZ(10,"td")(11,"button",7),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw(2);return c.KtG(l.setUserForCheck(a))}),c._uU(12,"\u041e\u0446\u0435\u043d\u0438\u0442\u044c"),c.qZA()()()}if(2&n){const t=e.$implicit,r=c.oxw(2);let i;c.xp6(2),c.AsE("",null==t?null:t.lastName," ",null==t?null:t.firstName,""),c.xp6(2),c.Oqu(null==t?null:t.email),c.xp6(2),c.hij(" ",null==t?null:t.status," "),c.xp6(2),c.AsE("",null==t?null:t.result," / ",null==(i=c.lcZ(9,8,r.storeService.currentLesson$))?null:i.maxResult,""),c.xp6(3),c.ekj("disabled","\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"!==(null==t?null:t.status)&&"\u041e\u0446\u0435\u043d\u0435\u043d\u043e"!==(null==t?null:t.status))}}function bj(n,e){if(1&n&&(c.TgZ(0,"div",4)(1,"table",5)(2,"caption"),c._uU(3,"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 (\u0431\u0435\u0437 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f)"),c.qZA(),c.TgZ(4,"thead")(5,"tr")(6,"th"),c._uU(7,"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u044b"),c.qZA(),c.TgZ(8,"th"),c._uU(9,"Email"),c.qZA(),c.TgZ(10,"th"),c._uU(11,"\u0421\u0442\u0430\u0442\u0443\u0441"),c.qZA(),c.TgZ(12,"th"),c._uU(13,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),c.qZA(),c.TgZ(14,"th"),c._uU(15,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),c.qZA()()(),c.TgZ(16,"tbody"),c.YNc(17,Dj,13,10,"tr",6),c.qZA()()()),2&n){const t=c.oxw();c.xp6(17),c.Q6J("ngForOf",t.usersStatuses)}}function Tj(n,e){1&n&&(c.TgZ(0,"div",21),c._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),c.qZA())}function Sj(n,e){if(1&n&&(c.TgZ(0,"div",21),c._uU(1),c.qZA()),2&n){const t=c.oxw().index,r=c.oxw().ngIf;c.xp6(1),c.hij("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043b\u043b \u044d\u0442\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f ",r.tasks[t].maxPoint,"")}}function Aj(n,e){1&n&&(c.TgZ(0,"h3",22),c._uU(1,"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"),c.qZA())}function xj(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",12)(2,"h3"),c._uU(3),c.qZA(),c._UZ(4,"hr")(5,"div",13),c.TgZ(6,"div",14)(7,"h3"),c._uU(8,"\u041e\u0442\u0432\u0435\u0442 \u0443\u0447\u0435\u043d\u0438\u043a\u0430:"),c.qZA(),c._UZ(9,"div",15),c.qZA(),c.TgZ(10,"div",16)(11,"h3",17),c._uU(12),c.ALo(13,"declension"),c.qZA(),c._UZ(14,"input",18),c.YNc(15,Tj,2,0,"div",19),c.YNc(16,Sj,2,1,"div",19),c.YNc(17,Aj,2,0,"h3",20),c._UZ(18,"div",15),c.qZA()()()),2&n){const t=e.index,r=c.oxw().ngIf,i=c.oxw(2);let a,l,f;c.xp6(3),c.hij(" \u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",t+1," "),c.xp6(2),c.Q6J("innerHTML",r.tasks[t].text,c.oJD),c.xp6(4),c.Q6J("innerHTML",null==i.userStatus?null:i.userStatus.answers[t],c.oJD),c.xp6(1),c.Q6J("formGroupName",t),c.xp6(2),c.hij("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443 \u0437\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 (",c.xi3(13,11,r.tasks[t].maxPoint,"\u0431\u0430\u043b\u043b"),"): "),c.xp6(2),c.ekj("invalid-input-input",i.tasksForms.at(t).invalid&&((null==(a=i.tasksForms.at(t).get("points"))?null:a.touched)||i.onSubmit)),c.xp6(1),c.Q6J("ngIf",(null==(l=i.tasksForms.at(t).get("points"))||null==l.errors?null:l.errors.required)&&((null==(l=i.tasksForms.at(t).get("points"))?null:l.touched)||i.onSubmit)),c.xp6(1),c.Q6J("ngIf",(null==(f=i.tasksForms.at(t).get("points"))||null==f.errors?null:f.errors.max)&&((null==(f=i.tasksForms.at(t).get("points"))?null:f.touched)||i.onSubmit)),c.xp6(1),c.Q6J("ngIf",""!==r.tasks[t].answer),c.xp6(1),c.Q6J("innerHTML",r.tasks[t].answer,c.oJD)}}function Mj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",10)(1,"div",11),c.YNc(2,xj,19,14,"div",6),c.TgZ(3,"button",0),c.NdJ("click",function(){const a=c.CHM(t).ngIf,l=c.oxw(2);return c.KtG(l.saveResults(a))}),c._uU(4,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043e\u0446\u0435\u043d\u043a\u0443"),c.qZA(),c.TgZ(5,"button",0),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.closeChecking())}),c._uU(6,"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"),c.qZA()()()}if(2&n){const t=c.oxw(2);c.Q6J("formGroup",t.checkingForm),c.xp6(2),c.Q6J("ngForOf",t.tasksForms.controls),c.xp6(1),c.ekj("disabled",t.checkingForm.invalid)}}function Nj(n,e){if(1&n&&(c.TgZ(0,"div",8)(1,"h3"),c._uU(2),c.qZA(),c.YNc(3,Mj,7,4,"form",9),c.ALo(4,"async"),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.AsE('\u041e\u043a\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0443\u0447\u0435\u043d\u0438\u043a\u0430 "',null==t.userStatus?null:t.userStatus.lastName," ",null==t.userStatus?null:t.userStatus.firstName,'"'),c.xp6(1),c.Q6J("ngIf",c.lcZ(4,3,t.storeService.currentLesson$))}}const Pj=[{path:"auth",canActivate:[zB],component:GB},{path:"user",canActivate:[k4],canActivateChild:[k4],component:HB,children:[{path:"courses",component:qB,children:[{path:"course",canActivate:[eD],component:A$},{path:"course/lesson-admin",canActivate:[eD],component:Ej},{path:"course/lesson-check",canActivate:[eD],component:(()=>{class n{get tasksForms(){return this.checkingForm.get("tasksForms")}constructor(t,r,i,a,l,f){this.storeService=t,this.firebase=r,this.notificationService=i,this.router=a,this.coursesService=l,this.lessonService=f,this.checkingForm=new ki({tasksForms:new Lh([])}),this.onSubmit=!1,this.usersStatuses=[],this.onCheck=!1,this.userStatus=null,this.storeService.currentLesson$.pipe(Pn(1)).subscribe(m=>{m&&m.tasks.forEach(_=>this.addNewTask(_.maxPoint))}),this.currentCourseUsersListSubscription=this.storeService.currentCourseUsersList$.subscribe(m=>{this.updateUsersStatusesList()})}ngOnDestroy(){this.currentCourseUsersListSubscription.unsubscribe(),this.storeService.setCurrentLesson(null)}toLessons(){this.router.navigate(["/user","courses","course"]),this.storeService.setCurrentLesson(null)}setUserForCheck(t){if("\u0412 \u0440\u0430\u0431\u043e\u0442\u0435"!==t.status&&"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043e"!==t.status)if(this.onSubmit=!1,this.onCheck=!0,this.userStatus=t,this.userStatus.results)for(let r=0;r<this.tasksForms.controls.length;r+=1)this.tasksForms.at(r).setValue({points:this.userStatus.results[r]});else for(let r=0;r<this.tasksForms.controls.length;r+=1)this.tasksForms.at(r).setValue({points:null})}addNewTask(t){this.checkingForm.controls.tasksForms.push(new ki({points:new On(null,[Tn.max(t),Tn.required])}))}closeChecking(){this.onCheck=!1,this.userStatus=null}saveResults(t){if(this.onSubmit=!0,this.checkingForm.invalid)return void this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f",content:"\u041d\u0435 \u0441\u043e\u0431\u043b\u044e\u0434\u0435\u043d\u044b \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439",status:"error"});let r=0;const i=[];this.tasksForms.controls.forEach(a=>{r+=Number(a.get("points")?.value),i.push(a.get("points")?.value)}),t&&t.lessonUID&&this.firebase.saveLessonCheckResult(t.lessonUID,this.userStatus.userUID,this.userStatus.answers,i,r).then(()=>{this.notificationService.addNotification({title:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",content:"",status:"success"}),this.updateUsersStatusesList(),this.storeService.userInfo$.pipe(Pn(1)).subscribe(a=>{a&&this.coursesService.updateCreatedCoursesListByUserUID(a.userUID)}),this.checkingForm.reset(),this.onCheck=!1}).catch(()=>this.notificationService.addNotification({title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043e\u0446\u0435\u043d\u043a\u0438",content:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043e\u0446\u0435\u043d\u043a\u0438",status:"error"}))}updateUsersStatusesList(){this.lessonService.updateUsersStatusesList().then(t=>{this.usersStatuses=t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(Ma),c.Y36(Na),c.Y36(mn),c.Y36(rd),c.Y36(jx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lesson-check"]],decls:10,vars:10,consts:[[3,"click"],[3,"click",4,"ngIf"],["class","user-choice",4,"ngIf"],["class","lesson-check-form",4,"ngIf"],[1,"user-choice"],[1,"users-list"],[4,"ngFor","ngForOf"],[1,"table-button",3,"click"],[1,"lesson-check-form"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formArrayName","tasksForms"],[1,"task-card"],[1,"task-text",3,"innerHTML"],[1,"task-answer"],[3,"innerHTML"],[1,"task-result",3,"formGroupName"],[2,"margin-top","20px"],["type","number","formControlName","points"],["class","invalid-input",4,"ngIf"],["style","margin-top: 10px;",4,"ngIf"],[1,"invalid-input"],[2,"margin-top","10px"]],template:function(t,r){if(1&t&&(c.TgZ(0,"h1"),c._uU(1),c.ALo(2,"async"),c.qZA(),c.TgZ(3,"button",0),c.NdJ("click",function(){return r.toLessons()}),c._uU(4,"\u041d\u0430\u0437\u0430\u0434"),c.qZA(),c.YNc(5,Ij,2,0,"button",1),c.ALo(6,"async"),c.YNc(7,bj,18,1,"div",2),c.ALo(8,"async"),c.YNc(9,Nj,5,5,"div",3)),2&t){let i;c.xp6(1),c.hij('\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0443\u0440\u043e\u043a\u0430 "',null==(i=c.lcZ(2,4,r.storeService.currentLesson$))?null:i.title,'"'),c.xp6(4),c.Q6J("ngIf",c.lcZ(6,6,r.storeService.currentLesson$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(8,8,r.storeService.currentLesson$)),c.xp6(2),c.Q6J("ngIf",r.onCheck)}},dependencies:[_t,qn,Gs,Wi,Mh,Yi,Us,Fi,Qi,ga,Co,ji,KI],styles:[".user-choice[_ngcontent-%COMP%]{width:1000px;margin-bottom:20px}.user-choice[_ngcontent-%COMP%]   .users-list[_ngcontent-%COMP%]{margin-top:20px;width:100%}table[_ngcontent-%COMP%]   .table-button[_ngcontent-%COMP%]{margin:0 5px;padding:7px 10px}.task-card[_ngcontent-%COMP%]{width:1000px;padding:20px;background-color:#fff;margin-bottom:20px;border-radius:20px;border:1px solid var(--primary-gray);font-size:20px}.task-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:10px}.task-card[_ngcontent-%COMP%]   .task-answer[_ngcontent-%COMP%]{margin-top:20px}.task-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:16px}.task-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:300px;height:30px;outline:none;border:none;border-bottom:1px solid #999;font-size:16px;font-weight:500;font-family:Montserrat,sans-serif}.task-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:1px solid var(--primary-black)}.task-card[_ngcontent-%COMP%]   .task-result[_ngcontent-%COMP%]   .invalid-input-input[_ngcontent-%COMP%]{border-bottom:1px solid var(--primary-red)}.task-card[_ngcontent-%COMP%]   .invalid-input[_ngcontent-%COMP%]{margin:3px;color:var(--primary-red);width:300px;text-align:center;font-size:13px;font-weight:600}"]}),n})()},{path:"course/lesson",canActivate:[eD],component:pj,pathMatch:"full"},{path:"new-course",component:M$},{path:"",component:$$}]},{path:"profile",component:YB},{path:"dashboard",component:u$}]},{path:"",redirectTo:"/auth",pathMatch:"full"},{path:"**",redirectTo:"/auth",pathMatch:"full"}];let Oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fc.forRoot(Pj),Fc]}),n})();function Rj(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const t=c.oxw().$implicit;c.xp6(1),c.Oqu(t.title)}}const kj=function(n,e,t){return{warning:n,error:e,success:t}};function Fj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"div",3),c.YNc(2,Rj,2,1,"span",4),c.TgZ(3,"i",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit,l=c.oxw();return c.KtG(l.removeNotification(a.index))}),c.qZA()(),c.TgZ(4,"div",6),c._uU(5),c.qZA()()}if(2&n){const t=e.$implicit;c.Q6J("ngClass",c.kEZ(3,kj,"warning"===t.status,"error"===t.status,"success"===t.status)),c.xp6(2),c.Q6J("ngIf",t.title),c.xp6(3),c.Oqu(t.content)}}let Lj=(()=>{class n{constructor(t){this.notificationService=t,this.notifications$=this.notificationService.notifications$}removeNotification(t){this.notificationService.removeNotification(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Na))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-notifications"]],decls:3,vars:3,consts:[[1,"notifications-container"],["class","notification-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"notification-item",3,"ngClass"],[1,"notification-title"],[4,"ngIf"],[1,"fa-solid","fa-xmark","cross",3,"click"],[1,"notification-content"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,Fj,6,7,"div",1),c.ALo(2,"async"),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",c.lcZ(2,1,r.notifications$)))},dependencies:[Pa,_t,qn,ji],styles:[".notifications-container[_ngcontent-%COMP%]{position:fixed;top:60px;right:30px;z-index:10;overflow:visible}.notification-item[_ngcontent-%COMP%]{width:350px;min-height:60px;margin-bottom:12px;padding:12px;border-radius:10px}.notification-item[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{margin-bottom:2px;font-size:14px;font-weight:600}.notification-item[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]{float:right;transform:translate(5px,-5px);padding:0 2px;border-radius:3px}.notification-item[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]   .cross[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.error[_ngcontent-%COMP%]{background-color:#f84f31}.warning[_ngcontent-%COMP%]{background-color:#ffc700}.success[_ngcontent-%COMP%]{background-color:#23c552}"]}),n})(),Uj=(()=>{class n{constructor(t,r,i){this.storeService=t,this.router=r,this.route=i,this.title="angular-lms"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36($i),c.Y36(mn),c.Y36(qi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")(1,"app-notifications")},dependencies:[ra,Lj]}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,lu,Uh]}),n})();const Bj_firebase={projectId:"zuzkho-angular-lms",appId:"1:624280173984:web:fb2e01acaf4345da88f8c5",databaseURL:"https://zuzkho-angular-lms-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"zuzkho-angular-lms.appspot.com",locationId:"us-central",apiKey:"AIzaSyBG2v4whLN2P84Kog9s1xI5F2FiUtUA0YY",authDomain:"zuzkho-angular-lms.firebaseapp.com",messagingSenderId:"624280173984",measurementId:"G-3WH35V7T53"};let tD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss]}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,lu,Uh,Fc,tD]}),n})(),jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,lj,lu,Uh,tD]}),n})(),Gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ss,$j,Fc,jj,tD,lu,Uh]}),n})();function qj(n,e){return n===e}var z4=S(3008);class q_{constructor(e){return e}}const Z4=At.nk.async,Kj=(0,At.u3)(z4.Kz,!0),Yj=(0,At.u3)(z4.Iv,!0);let W4=(()=>{class n{constructor(t,r,i){let a;this.disposables=[],(0,Cs.KN)("angularfire",At.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{a=l})),Z4().then(()=>{const l=i.get(q_);l?this.disposables=[IL(t).subscribe(f=>{Yj(l,f?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gy),c.LFG(c.R0b),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const K4="firebase_screen_id",Gx="outlet",Z_="screen_class",Y4="screen_name";let uG=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Hx={},cG=n=>{const e=[n[Z_],n[Gx]].join("#");if(Hx.hasOwnProperty(e))return Hx[e];{const t=uG++;return Hx[e]=t,t}},lG=(n,e,t)=>n.events.pipe(xn(i=>i instanceof Zd)).pipe(ei(i=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,U=>U.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",m=n.routerState.root.children.map(U=>U).find(U=>U.outlet===i.snapshot.outlet);if(!m)return pt(null);let _=m;for(;_.firstChild;)_=_.firstChild;const C=_.pathFromRoot.map(U=>{var Q;return null===(Q=U.routeConfig)||void 0===Q?void 0:Q.path}).filter(U=>U).join("/")||"/",E={[Y4]:C,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:C,[Gx]:i.snapshot.outlet};e&&(E.page_title=e.getTitle());let N=m.component;if(N){if(N===Cg){let U=i.snapshot;for(;U.firstChild;)U=U.firstChild;N=U.component}}else N=i.snapshot.component;if("string"==typeof N)return pt(Object.assign(Object.assign({},E),{[Z_]:N}));if(N){const U=t.resolveComponentFactory(N);return pt(Object.assign(Object.assign({},E),{[Z_]:U.selector}))}return pt(null)}),xn(i=>!!i),(0,Tt.U)(i=>Object.assign({firebase_screen_class:i[Z_],[K4]:cG(i)},i)),function Hj(n,e,t,r){return(0,Ar.e)((i,a)=>{let l;e&&"function"!=typeof e?({duration:t,element:l,connector:r}=e):l=e;const f=new Map,m=Q=>{f.forEach(Q),Q(a)},_=Q=>m(Ee=>Ee.error(Q));let C=0,E=!1;const N=new Nn.Q(a,Q=>{try{const Ee=n(Q);let xe=f.get(Ee);if(!xe){f.set(Ee,xe=r?r():new so.x);const Dt=function U(Q,Ee){const xe=new Ps.y(Dt=>{C++;const Mt=Ee.subscribe(Dt);return()=>{Mt.unsubscribe(),0==--C&&E&&N.unsubscribe()}});return xe.key=Q,xe}(Ee,xe);if(a.next(Dt),t){const Mt=(0,Nn.x)(xe,()=>{xe.complete(),Mt?.unsubscribe()},void 0,void 0,()=>f.delete(Ee));N.add((0,Ni.Xf)(t(Dt)).subscribe(Mt))}}xe.next(l?l(Q):Q)}catch(Ee){_(Ee)}},()=>m(Q=>Q.complete()),_,()=>f.clear(),()=>(E=!0,0===C));i.subscribe(N)})}(i=>i[Gx]),(0,Hr.z)(i=>i.pipe(function zj(n,e=hc.y){return n=n??qj,(0,Ar.e)((t,r)=>{let i,a=!0;t.subscribe((0,Nn.x)(r,l=>{const f=e(l);(a||!n(i,f))&&(a=!1,i=f,r.next(l))}))})}((a,l)=>JSON.stringify(a)===JSON.stringify(l)),Tv(void 0),function Zj(){return(0,Ar.e)((n,e)=>{let t,r=!1;n.subscribe((0,Nn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}(),(0,Tt.U)(([a,l])=>a?Object.assign({firebase_previous_class:a[Z_],firebase_previous_screen:a[Y4],firebase_previous_id:a[K4]},l):l))));let dG=(()=>{class n{constructor(t,r,i,a,l,f){(0,Cs.KN)("angularfire",At.q4.full,"screen-tracking"),Z4().then(()=>{const m=f.get(q_);!t||!m||a.runOutsideAngular(()=>{this.disposable=lG(t,r,i).pipe(ei(_=>(0,Um.mG)(this,void 0,void 0,function*(){return l&&(yield l.initialized),Kj(m,"screen_view",_)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mn,8),c.LFG(io,8),c.LFG(c._Vd),c.LFG(c.R0b),c.LFG(W4,8),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zx="functions";class vG{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,V.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,V.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,V.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,V.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const Wx="us-central1";class wG{constructor(e,t,r,i,a=Wx,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new vG(t,r,i),this.cancelAllRequests=new Promise(f=>{this.deleteService=()=>Promise.resolve(f())});try{const f=new URL(a);this.customDomain=f.origin,this.region=Wx}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const eF="@firebase/functions";function NG(n=(0,Cn.getApp)(),e=Wx){const r=(0,Cn._getProvider)((0,qe.m9)(n),Zx).getImmediate({identifier:e}),i=(0,qe.P0)("functions");return i&&function PG(n,e,t){!function EG(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,qe.m9)(n),e,t)}(r,...i),r}!function MG(n,e){(0,Cn._registerComponent)(new hu.wA(Zx,(r,{instanceIdentifier:i})=>{const a=r.getProvider("app").getImmediate(),l=r.getProvider("auth-internal"),f=r.getProvider("messaging-internal"),m=r.getProvider("app-check-internal");return new wG(a,l,f,m,i,n)},"PUBLIC").setMultipleInstances(!0)),(0,Cn.registerVersion)(eF,"0.9.4",e),(0,Cn.registerVersion)(eF,"0.9.4","esm2017")}(fetch.bind(self));class Qx{constructor(e){return e}}const nF="functions",Jx=new c.OlP("angularfire2.functions-instances");function kG(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Qx(r)}}const FG={provide:class OG{constructor(){return(0,At.vb)(nF)}},deps:[[new c.FiY,Jx]]},LG={provide:Qx,useFactory:function RG(n,e){const t=(0,At.JM)(nF,n,e);return t&&new Qx(t)},deps:[[new c.FiY,Jx],zs]};let UG=(()=>{class n{constructor(){(0,Cs.KN)("angularfire",At.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[LG,FG]}),n})();function VG(n,...e){return{ngModule:UG,providers:[{provide:Jx,useFactory:kG(n),multi:!0,deps:[c.R0b,c.zs3,At.HU,du,[new c.FiY,BS],[new c.FiY,Wh],...e]}]}}const BG=(0,At.u3)(NG,!0);var $G=S(3844);let jG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Uj]}),n.\u0275inj=c.cJS({providers:[dG,W4],imports:[Gp,Oj,Vj,Gj,$G.hO,tD,wC(()=>hT(Bj_firebase)),EL(()=>TL()),EB(()=>IB()),VG(()=>BG())]}),n})();mv().bootstrapModule(jG).catch(n=>console.error(n))},9751:(ft,Ce,S)=>{S.d(Ce,{y:()=>Le});var c=S(930),H=S(727),J=S(8822),z=S(9635),he=S(2416),Ie=S(576),Ae=S(2806);let Le=(()=>{class X{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const Se=new X;return Se.source=this,Se.operator=ae,Se}subscribe(ae,Se,et){const we=function O(X){return X&&X instanceof c.Lv||function k(X){return X&&(0,Ie.m)(X.next)&&(0,Ie.m)(X.error)&&(0,Ie.m)(X.complete)}(X)&&(0,H.Nn)(X)}(ae)?ae:new c.Hp(ae,Se,et);return(0,Ae.x)(()=>{const{operator:We,source:St}=this;we.add(We?We.call(we,St):St?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ae){try{return this._subscribe(ae)}catch(Se){ae.error(Se)}}forEach(ae,Se){return new(Se=ge(Se))((et,we)=>{const We=new c.Hp({next:St=>{try{ae(St)}catch(Gt){we(Gt),We.unsubscribe()}},error:we,complete:et});this.subscribe(We)})}_subscribe(ae){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ae)}[J.L](){return this}pipe(...ae){return(0,z.U)(ae)(this)}toPromise(ae){return new(ae=ge(ae))((Se,et)=>{let we;this.subscribe(We=>we=We,We=>et(We),()=>Se(we))})}}return X.create=ie=>new X(ie),X})();function ge(X){var ie;return null!==(ie=X??he.v.Promise)&&void 0!==ie?ie:Promise}},7579:(ft,Ce,S)=>{S.d(Ce,{x:()=>Ae});var c=S(9751),H=S(727);const z=(0,S(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=S(8737),Ie=S(2806);let Ae=(()=>{class ge extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const X=new Le(this,this);return X.operator=O,X}_throwIfClosed(){if(this.closed)throw new z}next(O){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(O)}})}error(O){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:X}=this;for(;X.length;)X.shift().error(O)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:X,isStopped:ie,observers:ae}=this;return X||ie?H.Lc:(this.currentObservers=null,ae.push(O),new H.w0(()=>{this.currentObservers=null,(0,he.P)(ae,O)}))}_checkFinalizedStatuses(O){const{hasError:X,thrownError:ie,isStopped:ae}=this;X?O.error(ie):ae&&O.complete()}asObservable(){const O=new c.y;return O.source=this,O}}return ge.create=(k,O)=>new Le(k,O),ge})();class Le extends Ae{constructor(k,O){super(),this.destination=k,this.source=O}next(k){var O,X;null===(X=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===X||X.call(O,k)}error(k){var O,X;null===(X=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===X||X.call(O,k)}complete(){var k,O;null===(O=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===O||O.call(k)}_subscribe(k){var O,X;return null!==(X=null===(O=this.source)||void 0===O?void 0:O.subscribe(k))&&void 0!==X?X:H.Lc}}},930:(ft,Ce,S)=>{S.d(Ce,{Hp:()=>et,Lv:()=>X});var c=S(576),H=S(727),J=S(2416),z=S(7849),he=S(5032);const Ie=ge("C",void 0,void 0);function ge(Ue,W,ve){return{kind:Ue,value:W,error:ve}}var k=S(3410),O=S(2806);class X extends H.w0{constructor(W){super(),this.isStopped=!1,W?(this.destination=W,(0,H.Nn)(W)&&W.add(this)):this.destination=Gt}static create(W,ve,ce){return new et(W,ve,ce)}next(W){this.isStopped?St(function Le(Ue){return ge("N",Ue,void 0)}(W),this):this._next(W)}error(W){this.isStopped?St(function Ae(Ue){return ge("E",void 0,Ue)}(W),this):(this.isStopped=!0,this._error(W))}complete(){this.isStopped?St(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(W){this.destination.next(W)}_error(W){try{this.destination.error(W)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ie=Function.prototype.bind;function ae(Ue,W){return ie.call(Ue,W)}class Se{constructor(W){this.partialObserver=W}next(W){const{partialObserver:ve}=this;if(ve.next)try{ve.next(W)}catch(ce){we(ce)}}error(W){const{partialObserver:ve}=this;if(ve.error)try{ve.error(W)}catch(ce){we(ce)}else we(W)}complete(){const{partialObserver:W}=this;if(W.complete)try{W.complete()}catch(ve){we(ve)}}}class et extends X{constructor(W,ve,ce){let Oe;if(super(),(0,c.m)(W)||!W)Oe={next:W??void 0,error:ve??void 0,complete:ce??void 0};else{let re;this&&J.v.useDeprecatedNextContext?(re=Object.create(W),re.unsubscribe=()=>this.unsubscribe(),Oe={next:W.next&&ae(W.next,re),error:W.error&&ae(W.error,re),complete:W.complete&&ae(W.complete,re)}):Oe=W}this.destination=new Se(Oe)}}function we(Ue){J.v.useDeprecatedSynchronousErrorHandling?(0,O.O)(Ue):(0,z.h)(Ue)}function St(Ue,W){const{onStoppedNotification:ve}=J.v;ve&&k.z.setTimeout(()=>ve(Ue,W))}const Gt={closed:!0,next:he.Z,error:function We(Ue){throw Ue},complete:he.Z}},727:(ft,Ce,S)=>{S.d(Ce,{Lc:()=>Ie,w0:()=>he,Nn:()=>Ae});var c=S(576);const J=(0,S(3888).d)(ge=>function(O){ge(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((X,ie)=>`${ie+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var z=S(8737);class he{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const ae of O)ae.remove(this);else O.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(ae){k=ae instanceof J?ae.errors:[ae]}const{_finalizers:ie}=this;if(ie){this._finalizers=null;for(const ae of ie)try{Le(ae)}catch(Se){k=k??[],Se instanceof J?k=[...k,...Se.errors]:k.push(Se)}}if(k)throw new J(k)}}add(k){var O;if(k&&k!==this)if(this.closed)Le(k);else{if(k instanceof he){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(k)}}_hasParent(k){const{_parentage:O}=this;return O===k||Array.isArray(O)&&O.includes(k)}_addParent(k){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(k),O):O?[O,k]:k}_removeParent(k){const{_parentage:O}=this;O===k?this._parentage=null:Array.isArray(O)&&(0,z.P)(O,k)}remove(k){const{_finalizers:O}=this;O&&(0,z.P)(O,k),k instanceof he&&k._removeParent(this)}}he.EMPTY=(()=>{const ge=new he;return ge.closed=!0,ge})();const Ie=he.EMPTY;function Ae(ge){return ge instanceof he||ge&&"closed"in ge&&(0,c.m)(ge.remove)&&(0,c.m)(ge.add)&&(0,c.m)(ge.unsubscribe)}function Le(ge){(0,c.m)(ge)?ge():ge.unsubscribe()}},2416:(ft,Ce,S)=>{S.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Ce,S)=>{S.d(Ce,{E:()=>H});const H=new(S(9751).y)(he=>he.complete())},8996:(ft,Ce,S)=>{S.d(Ce,{D:()=>W});var c=S(8421),H=S(5363),J=S(9468),Ie=S(9751),Le=S(2202),ge=S(576),k=S(9672);function X(ve,ce){if(!ve)throw new Error("Iterable cannot be null");return new Ie.y(Oe=>{(0,k.f)(Oe,ce,()=>{const re=ve[Symbol.asyncIterator]();(0,k.f)(Oe,ce,()=>{re.next().then(Me=>{Me.done?Oe.complete():Oe.next(Me.value)})},0,!0)})})}var ie=S(3670),ae=S(8239),Se=S(1144),et=S(6495),we=S(2206),We=S(4532),St=S(3260);function W(ve,ce){return ce?function Ue(ve,ce){if(null!=ve){if((0,ie.c)(ve))return function z(ve,ce){return(0,c.Xf)(ve).pipe((0,J.R)(ce),(0,H.Q)(ce))}(ve,ce);if((0,Se.z)(ve))return function Ae(ve,ce){return new Ie.y(Oe=>{let re=0;return ce.schedule(function(){re===ve.length?Oe.complete():(Oe.next(ve[re++]),Oe.closed||this.schedule())})})}(ve,ce);if((0,ae.t)(ve))return function he(ve,ce){return(0,c.Xf)(ve).pipe((0,J.R)(ce),(0,H.Q)(ce))}(ve,ce);if((0,we.D)(ve))return X(ve,ce);if((0,et.T)(ve))return function O(ve,ce){return new Ie.y(Oe=>{let re;return(0,k.f)(Oe,ce,()=>{re=ve[Le.h](),(0,k.f)(Oe,ce,()=>{let Me,Ye;try{({value:Me,done:Ye}=re.next())}catch(Qe){return void Oe.error(Qe)}Ye?Oe.complete():Oe.next(Me)},0,!0)}),()=>(0,ge.m)(re?.return)&&re.return()})}(ve,ce);if((0,St.L)(ve))return function Gt(ve,ce){return X((0,St.Q)(ve),ce)}(ve,ce)}throw(0,We.z)(ve)}(ve,ce):(0,c.Xf)(ve)}},8421:(ft,Ce,S)=>{S.d(Ce,{Xf:()=>ie});var c=S(655),H=S(1144),J=S(8239),z=S(9751),he=S(3670),Ie=S(2206),Ae=S(4532),Le=S(6495),ge=S(3260),k=S(576),O=S(7849),X=S(8822);function ie(Ue){if(Ue instanceof z.y)return Ue;if(null!=Ue){if((0,he.c)(Ue))return function ae(Ue){return new z.y(W=>{const ve=Ue[X.L]();if((0,k.m)(ve.subscribe))return ve.subscribe(W);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,H.z)(Ue))return function Se(Ue){return new z.y(W=>{for(let ve=0;ve<Ue.length&&!W.closed;ve++)W.next(Ue[ve]);W.complete()})}(Ue);if((0,J.t)(Ue))return function et(Ue){return new z.y(W=>{Ue.then(ve=>{W.closed||(W.next(ve),W.complete())},ve=>W.error(ve)).then(null,O.h)})}(Ue);if((0,Ie.D)(Ue))return We(Ue);if((0,Le.T)(Ue))return function we(Ue){return new z.y(W=>{for(const ve of Ue)if(W.next(ve),W.closed)return;W.complete()})}(Ue);if((0,ge.L)(Ue))return function St(Ue){return We((0,ge.Q)(Ue))}(Ue)}throw(0,Ae.z)(Ue)}function We(Ue){return new z.y(W=>{(function Gt(Ue,W){var ve,ce,Oe,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ve=(0,c.KL)(Ue);!(ce=yield ve.next()).done;)if(W.next(ce.value),W.closed)return}catch(Me){Oe={error:Me}}finally{try{ce&&!ce.done&&(re=ve.return)&&(yield re.call(ve))}finally{if(Oe)throw Oe.error}}W.complete()})})(Ue,W).catch(ve=>W.error(ve))})}},5403:(ft,Ce,S)=>{S.d(Ce,{Q:()=>J,x:()=>H});var c=S(930);function H(z,he,Ie,Ae,Le){return new J(z,he,Ie,Ae,Le)}class J extends c.Lv{constructor(he,Ie,Ae,Le,ge,k){super(he),this.onFinalize=ge,this.shouldUnsubscribe=k,this._next=Ie?function(O){try{Ie(O)}catch(X){he.error(X)}}:super._next,this._error=Le?function(O){try{Le(O)}catch(X){he.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(O){he.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(ft,Ce,S)=>{S.d(Ce,{U:()=>J});var c=S(4482),H=S(5403);function J(z,he){return(0,c.e)((Ie,Ae)=>{let Le=0;Ie.subscribe((0,H.x)(Ae,ge=>{Ae.next(z.call(he,ge,Le++))}))})}},8189:(ft,Ce,S)=>{S.d(Ce,{J:()=>J});var c=S(5577),H=S(4671);function J(z=1/0){return(0,c.z)(H.y,z)}},5577:(ft,Ce,S)=>{S.d(Ce,{z:()=>Le});var c=S(4004),H=S(8421),J=S(4482),z=S(9672),he=S(5403),Ae=S(576);function Le(ge,k,O=1/0){return(0,Ae.m)(k)?Le((X,ie)=>(0,c.U)((ae,Se)=>k(X,ae,ie,Se))((0,H.Xf)(ge(X,ie))),O):("number"==typeof k&&(O=k),(0,J.e)((X,ie)=>function Ie(ge,k,O,X,ie,ae,Se,et){const we=[];let We=0,St=0,Gt=!1;const Ue=()=>{Gt&&!we.length&&!We&&k.complete()},W=ce=>We<X?ve(ce):we.push(ce),ve=ce=>{ae&&k.next(ce),We++;let Oe=!1;(0,H.Xf)(O(ce,St++)).subscribe((0,he.x)(k,re=>{ie?.(re),ae?W(re):k.next(re)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(We--;we.length&&We<X;){const re=we.shift();Se?(0,z.f)(k,Se,()=>ve(re)):ve(re)}Ue()}catch(re){k.error(re)}}))};return ge.subscribe((0,he.x)(k,W,()=>{Gt=!0,Ue()})),()=>{et?.()}}(X,ie,ge,O)))}},5363:(ft,Ce,S)=>{S.d(Ce,{Q:()=>z});var c=S(9672),H=S(4482),J=S(5403);function z(he,Ie=0){return(0,H.e)((Ae,Le)=>{Ae.subscribe((0,J.x)(Le,ge=>(0,c.f)(Le,he,()=>Le.next(ge),Ie),()=>(0,c.f)(Le,he,()=>Le.complete(),Ie),ge=>(0,c.f)(Le,he,()=>Le.error(ge),Ie)))})}},3099:(ft,Ce,S)=>{S.d(Ce,{B:()=>he});var c=S(8421),H=S(7579),J=S(930),z=S(4482);function he(Ae={}){const{connector:Le=(()=>new H.x),resetOnError:ge=!0,resetOnComplete:k=!0,resetOnRefCountZero:O=!0}=Ae;return X=>{let ie,ae,Se,et=0,we=!1,We=!1;const St=()=>{ae?.unsubscribe(),ae=void 0},Gt=()=>{St(),ie=Se=void 0,we=We=!1},Ue=()=>{const W=ie;Gt(),W?.unsubscribe()};return(0,z.e)((W,ve)=>{et++,!We&&!we&&St();const ce=Se=Se??Le();ve.add(()=>{et--,0===et&&!We&&!we&&(ae=Ie(Ue,O))}),ce.subscribe(ve),!ie&&et>0&&(ie=new J.Hp({next:Oe=>ce.next(Oe),error:Oe=>{We=!0,St(),ae=Ie(Gt,ge,Oe),ce.error(Oe)},complete:()=>{we=!0,St(),ae=Ie(Gt,k),ce.complete()}}),(0,c.Xf)(W).subscribe(ie))})(X)}}function Ie(Ae,Le,...ge){if(!0===Le)return void Ae();if(!1===Le)return;const k=new J.Hp({next:()=>{k.unsubscribe(),Ae()}});return(0,c.Xf)(Le(...ge)).subscribe(k)}},9468:(ft,Ce,S)=>{S.d(Ce,{R:()=>H});var c=S(4482);function H(J,z=0){return(0,c.e)((he,Ie)=>{Ie.add(J.schedule(()=>he.subscribe(Ie),z))})}},8505:(ft,Ce,S)=>{S.d(Ce,{b:()=>he});var c=S(576),H=S(4482),J=S(5403),z=S(4671);function he(Ie,Ae,Le){const ge=(0,c.m)(Ie)||Ae||Le?{next:Ie,error:Ae,complete:Le}:Ie;return ge?(0,H.e)((k,O)=>{var X;null===(X=ge.subscribe)||void 0===X||X.call(ge);let ie=!0;k.subscribe((0,J.x)(O,ae=>{var Se;null===(Se=ge.next)||void 0===Se||Se.call(ge,ae),O.next(ae)},()=>{var ae;ie=!1,null===(ae=ge.complete)||void 0===ae||ae.call(ge),O.complete()},ae=>{var Se;ie=!1,null===(Se=ge.error)||void 0===Se||Se.call(ge,ae),O.error(ae)},()=>{var ae,Se;ie&&(null===(ae=ge.unsubscribe)||void 0===ae||ae.call(ge)),null===(Se=ge.finalize)||void 0===Se||Se.call(ge)}))}):z.y}},6063:(ft,Ce,S)=>{S.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ft,Ce,S)=>{S.d(Ce,{z:()=>c});const c={setTimeout(H,J,...z){const{delegate:he}=c;return he?.setTimeout?he.setTimeout(H,J,...z):setTimeout(H,J,...z)},clearTimeout(H){const{delegate:J}=c;return(J?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ft,Ce,S)=>{S.d(Ce,{h:()=>H});const H=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Ce,S)=>{S.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,Ce,S)=>{S.d(Ce,{_6:()=>Ie,jO:()=>z,yG:()=>he});var c=S(576);function J(Ae){return Ae[Ae.length-1]}function z(Ae){return(0,c.m)(J(Ae))?Ae.pop():void 0}function he(Ae){return function H(Ae){return Ae&&(0,c.m)(Ae.schedule)}(J(Ae))?Ae.pop():void 0}function Ie(Ae,Le){return"number"==typeof J(Ae)?Ae.pop():Le}},8737:(ft,Ce,S)=>{function c(H,J){if(H){const z=H.indexOf(J);0<=z&&H.splice(z,1)}}S.d(Ce,{P:()=>c})},3888:(ft,Ce,S)=>{function c(H){const z=H(he=>{Error.call(he),he.stack=(new Error).stack});return z.prototype=Object.create(Error.prototype),z.prototype.constructor=z,z}S.d(Ce,{d:()=>c})},2806:(ft,Ce,S)=>{S.d(Ce,{O:()=>z,x:()=>J});var c=S(2416);let H=null;function J(he){if(c.v.useDeprecatedSynchronousErrorHandling){const Ie=!H;if(Ie&&(H={errorThrown:!1,error:null}),he(),Ie){const{errorThrown:Ae,error:Le}=H;if(H=null,Ae)throw Le}}else he()}function z(he){c.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=he)}},9672:(ft,Ce,S)=>{function c(H,J,z,he=0,Ie=!1){const Ae=J.schedule(function(){z(),Ie?H.add(this.schedule(null,he)):this.unsubscribe()},he);if(H.add(Ae),!Ie)return Ae}S.d(Ce,{f:()=>c})},4671:(ft,Ce,S)=>{function c(H){return H}S.d(Ce,{y:()=>c})},1144:(ft,Ce,S)=>{S.d(Ce,{z:()=>c});const c=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ft,Ce,S)=>{S.d(Ce,{D:()=>H});var c=S(576);function H(J){return Symbol.asyncIterator&&(0,c.m)(J?.[Symbol.asyncIterator])}},576:(ft,Ce,S)=>{function c(H){return"function"==typeof H}S.d(Ce,{m:()=>c})},3670:(ft,Ce,S)=>{S.d(Ce,{c:()=>J});var c=S(8822),H=S(576);function J(z){return(0,H.m)(z[c.L])}},6495:(ft,Ce,S)=>{S.d(Ce,{T:()=>J});var c=S(2202),H=S(576);function J(z){return(0,H.m)(z?.[c.h])}},8239:(ft,Ce,S)=>{S.d(Ce,{t:()=>H});var c=S(576);function H(J){return(0,c.m)(J?.then)}},3260:(ft,Ce,S)=>{S.d(Ce,{L:()=>z,Q:()=>J});var c=S(655),H=S(576);function J(he){return(0,c.FC)(this,arguments,function*(){const Ae=he.getReader();try{for(;;){const{value:Le,done:ge}=yield(0,c.qq)(Ae.read());if(ge)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Le)}}finally{Ae.releaseLock()}})}function z(he){return(0,H.m)(he?.getReader)}},4482:(ft,Ce,S)=>{S.d(Ce,{A:()=>H,e:()=>J});var c=S(576);function H(z){return(0,c.m)(z?.lift)}function J(z){return he=>{if(H(he))return he.lift(function(Ie){try{return z(Ie,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Ce,S)=>{function c(){}S.d(Ce,{Z:()=>c})},9635:(ft,Ce,S)=>{S.d(Ce,{U:()=>J,z:()=>H});var c=S(4671);function H(...z){return J(z)}function J(z){return 0===z.length?c.y:1===z.length?z[0]:function(Ie){return z.reduce((Ae,Le)=>Le(Ae),Ie)}}},7849:(ft,Ce,S)=>{S.d(Ce,{h:()=>J});var c=S(2416),H=S(3410);function J(z){H.z.setTimeout(()=>{const{onUnhandledError:he}=c.v;if(!he)throw z;he(z)})}},4532:(ft,Ce,S)=>{function c(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(Ce,{z:()=>c})},655:(ft,Ce,S)=>{function z(K,ne){var $={};for(var Z in K)Object.prototype.hasOwnProperty.call(K,Z)&&ne.indexOf(Z)<0&&($[Z]=K[Z]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(Z=Object.getOwnPropertySymbols(K);te<Z.length;te++)ne.indexOf(Z[te])<0&&Object.prototype.propertyIsEnumerable.call(K,Z[te])&&($[Z[te]]=K[Z[te]])}return $}function X(K,ne,$,Z){return new($||($=Promise))(function(le,ke){function ct(wt){try{He(Z.next(wt))}catch(Ne){ke(Ne)}}function Ot(wt){try{He(Z.throw(wt))}catch(Ne){ke(Ne)}}function He(wt){wt.done?le(wt.value):function te(le){return le instanceof $?le:new $(function(ke){ke(le)})}(wt.value).then(ct,Ot)}He((Z=Z.apply(K,ne||[])).next())})}function Ue(K){return this instanceof Ue?(this.v=K,this):new Ue(K)}function W(K,ne,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Z=$.apply(K,ne||[]),le=[];return te={},ke("next"),ke("throw"),ke("return"),te[Symbol.asyncIterator]=function(){return this},te;function ke(Re){Z[Re]&&(te[Re]=function(Ht){return new Promise(function(Yt,Qt){le.push([Re,Ht,Yt,Qt])>1||ct(Re,Ht)})})}function ct(Re,Ht){try{!function Ot(Re){Re.value instanceof Ue?Promise.resolve(Re.value.v).then(He,wt):Ne(le[0][2],Re)}(Z[Re](Ht))}catch(Yt){Ne(le[0][3],Yt)}}function He(Re){ct("next",Re)}function wt(Re){ct("throw",Re)}function Ne(Re,Ht){Re(Ht),le.shift(),le.length&&ct(le[0][0],le[0][1])}}function ce(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,ne=K[Symbol.asyncIterator];return ne?ne.call(K):(K=function et(K){var ne="function"==typeof Symbol&&Symbol.iterator,$=ne&&K[ne],Z=0;if($)return $.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&Z>=K.length&&(K=void 0),{value:K&&K[Z++],done:!K}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),$={},Z("next"),Z("throw"),Z("return"),$[Symbol.asyncIterator]=function(){return this},$);function Z(le){$[le]=K[le]&&function(ke){return new Promise(function(ct,Ot){!function te(le,ke,ct,Ot){Promise.resolve(Ot).then(function(He){le({value:He,done:ct})},ke)}(ct,Ot,(ke=K[le](ke)).done,ke.value)})}}}S.d(Ce,{FC:()=>W,KL:()=>ce,_T:()=>z,mG:()=>X,qq:()=>Ue})},8274:(ft,Ce,S)=>{S.d(Ce,{tb:()=>cS,AFp:()=>Ef,ip1:()=>wf,CZH:()=>Ty,hGG:()=>hE,z2F:()=>Au,sBO:()=>FN,Sil:()=>Ay,_Vd:()=>tu,EJc:()=>tS,Xts:()=>sa,SBq:()=>Nc,lqb:()=>mo,qLn:()=>Pc,vpe:()=>Li,XFs:()=>rt,OlP:()=>bn,zs3:()=>ar,ZZ4:()=>$y,aQg:()=>Nl,soG:()=>Su,YKP:()=>Jh,h0i:()=>_u,PXZ:()=>hS,R0b:()=>fi,FiY:()=>qo,Lbi:()=>TN,g9A:()=>Ca,Qsj:()=>g0,FYo:()=>p0,JOm:()=>gs,tp0:()=>Nn,Rgc:()=>yl,dDg:()=>uS,eoX:()=>Tf,q4F:()=>y0,GfV:()=>m0,s_b:()=>rf,ifc:()=>Ke,MMx:()=>vu,Lck:()=>hl,eFA:()=>Sf,Gpc:()=>et,f3M:()=>An,X6Q:()=>pS,$WT:()=>Ai,_c5:()=>bS,c2e:()=>Sy,zSh:()=>bg,wAp:()=>mt,vHH:()=>W,lri:()=>Oy,rWj:()=>bf,D6c:()=>TS,cg1:()=>el,kL8:()=>UC,dqk:()=>bt,Z0I:()=>Lr,eJc:()=>vl,CqO:()=>hC,QGY:()=>om,F4k:()=>ga,RDi:()=>qv,AaK:()=>ie,qOj:()=>rC,TTD:()=>gd,_Bn:()=>Qh,jDz:()=>Is,xp6:()=>A0,uIk:()=>tm,ekj:()=>du,Suo:()=>hf,Xpm:()=>Lo,lG2:()=>Xt,Yz7:()=>Lt,cJS:()=>tr,oAB:()=>be,Yjl:()=>ir,Y36:()=>ua,_UZ:()=>Oh,BQk:()=>Kc,ynx:()=>Rh,qZA:()=>Ph,TgZ:()=>Wc,EpF:()=>Fi,n5z:()=>jp,LFG:()=>at,$8M:()=>vv,$Z:()=>U0,NdJ:()=>Co,CRH:()=>Aw,oxw:()=>pC,ALo:()=>Xm,lcZ:()=>yw,xi3:()=>tf,Q6J:()=>lC,kEZ:()=>va,iGM:()=>lf,MAs:()=>cC,KtG:()=>aD,CHM:()=>J_,oJD:()=>Dg,P3R:()=>ia,YNc:()=>uC,W1O:()=>xw,_uU:()=>jn,Oqu:()=>vm,hij:()=>ma,AsE:()=>Jc});var c=S(7579),H=S(727),J=S(9751),z=S(8189),he=S(8421),Ie=S(515),Ae=S(7669),Le=S(8996),k=S(3099);function O(s){for(let o in s)if(s[o]===O)return o;throw Error("Could not find renamed property on target object.")}function X(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Se=O({__forward_ref__:O});function et(s){return s.__forward_ref__=et,s.toString=function(){return ie(this())},s}function we(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(Se)&&s.__forward_ref__===et}function St(s){return s&&!!s.\u0275providers}const Ue="https://g.co/ng/security#xss";class W extends Error{constructor(o,u){super(ve(o,u)),this.code=o}}function ve(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function ce(s){return"string"==typeof s?s:null==s?"":String(s)}function Qe(s,o){throw new W(-201,!1)}function Ne(s,o){null==s&&function Re(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Lt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fr(s){return Yr(s,Dr)||Yr(s,Qr)}function Lr(s){return null!==Fr(s)}function Yr(s,o){return s.hasOwnProperty(o)?s[o]:null}function hn(s){return s&&(s.hasOwnProperty(Ur)||s.hasOwnProperty(_i))?s[Ur]:null}const Dr=O({\u0275prov:O}),Ur=O({\u0275inj:O}),Qr=O({ngInjectableDef:O}),_i=O({ngInjectorDef:O});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Vn;function Je(s){const o=Vn;return Vn=s,o}function lt(s,o,u){const d=Fr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&rt.Optional?null:void 0!==o?o:void Qe(ie(s))}const bt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Jr={},Zt="__NG_DI_FLAG__",Vr="ngTempTokenPath",zt="ngTokenPath",vi=/\n/gm,br="\u0275",je="__source";let ue;function ze(s){const o=ue;return ue=s,o}function Et(s,o=rt.Default){if(void 0===ue)throw new W(-203,!1);return null===ue?lt(s,void 0,o):ue.get(s,o&rt.Optional?null:void 0,o)}function at(s,o=rt.Default){return(function Jt(){return Vn}()||Et)(we(s),o)}function An(s,o=rt.Default){return at(s,R(o))}function R(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function M(s){const o=[];for(let u=0;u<s.length;u++){const d=we(s[u]);if(Array.isArray(d)){if(0===d.length)throw new W(900,!1);let h,p=rt.Default;for(let g=0;g<d.length;g++){const y=d[g],v=x(y);"number"==typeof v?-1===v?h=y.token:p|=v:h=y}o.push(at(h,p))}else o.push(at(d))}return o}function L(s,o){return s[Zt]=o,s.prototype[Zt]=o,s}function x(s){return s[Zt]}function de(s){return{toString:s}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Ke=(()=>{return(s=Ke||(Ke={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ke;var s})();const tt={},Ve=[],it=O({\u0275cmp:O}),qt=O({\u0275dir:O}),vn=O({\u0275pipe:O}),Kn=O({\u0275mod:O}),rr=O({\u0275fac:O}),Yn=O({__NG_ELEMENT_ID__:O});let Fo=0;function Lo(s){return de(()=>{const o=Pa(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||Ke.Emulated,id:"c"+Fo++,styles:s.styles||Ve,_:null,schemas:s.schemas||null,tView:null};id(u);const d=s.dependencies;return u.directiveDefs=bs(d,!1),u.pipeDefs=bs(d,!0),u})}function B(s){return It(s)||In(s)}function se(s){return null!==s}function be(s){return de(()=>({type:s.type,bootstrap:s.bootstrap||Ve,declarations:s.declarations||Ve,imports:s.imports||Ve,exports:s.exports||Ve,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function cn(s,o){if(null==s)return tt;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=d,o&&(o[h]=p)}return u}function Xt(s){return de(()=>{const o=Pa(s);return id(o),o})}function ir(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[it]||null}function In(s){return s[qt]||null}function ln(s){return s[vn]||null}function Ai(s){const o=It(s)||In(s)||ln(s);return null!==o&&o.standalone}function Br(s,o){const u=s[Kn]||null;if(!u&&!0===o)throw new Error(`Type ${ie(s)} does not have '\u0275mod' property.`);return u}function Pa(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ve,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cn(s.inputs,o),outputs:cn(s.outputs)}}function id(s){s.features?.forEach(o=>o(s))}function bs(s,o){if(!s)return null;const u=o?ln:B;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(se)}const xi=0,Xe=1,_t=2,Dn=3,Xr=4,qn=5,Qn=6,as=7,fn=8,Js=9,Xs=10,Ut=11,sd=12,us=13,od=14,eo=15,Tr=16,Oa=17,gr=18,Ci=19,Ts=20,ad=21,an=22,ud=1,mp=2,to=7,Yu=8,Vo=9,Sr=10;function mr(s){return Array.isArray(s)&&"object"==typeof s[ud]}function $r(s){return Array.isArray(s)&&!0===s[ud]}function Qu(s){return 0!=(4&s.flags)}function no(s){return s.componentOffset>-1}function Ra(s){return 1==(1&s.flags)}function wi(s){return!!s.template}function Bo(s){return 0!=(256&s[_t])}function cs(s,o){return s.hasOwnProperty(rr)?s[rr]:null}class Ep{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function gd(){return As}function As(s){return s.type.prototype.ngOnChanges&&(s.setInput=ec),Ip}function Ip(){const s=ls(this),o=s?.current;if(o){const u=s.previous;if(u===tt)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function ec(s,o,u,d){const h=this.declaredInputs[u],p=ls(s)||function bp(s,o){return s[Dp]=o}(s,{previous:tt,current:null}),g=p.current||(p.current={}),y=p.previous,v=y[h];g[h]=new Ep(v&&v.currentValue,o,y===tt),s[d]=o}gd.ngInherit=!0;const Dp="__ngSimpleChanges__";function ls(s){return s[Dp]||null}const Ei=function(s,o,u){};function sr(s){for(;Array.isArray(s);)s=s[xi];return s}function b(s,o){return sr(o[s])}function D(s,o){return sr(o[s.index])}function j(s,o){return s.data[o]}function pe(s,o){return s[o]}function _e(s,o){const u=o[s];return mr(u)?u:u[xi]}function dn(s){return 64==(64&s[_t])}function sn(s,o){return null==o?null:s[o]}function pn(s){s[gr]=0}function Vt(s,o){s[qn]+=o;let u=s,d=s[Dn];for(;null!==d&&(1===o&&1===u[qn]||-1===o&&0===u[qn]);)d[qn]+=o,u=d,d=d[Dn]}const vt={lFrame:pD(null),bindingsEnabled:!0};function ds(){return vt.bindingsEnabled}function me(){return vt.lFrame.lView}function en(){return vt.lFrame.tView}function J_(s){return vt.lFrame.contextLView=s,s[fn]}function aD(s){return vt.lFrame.contextLView=null,s}function jr(){let s=uD();for(;null!==s&&64===s.type;)s=s.parent;return s}function uD(){return vt.lFrame.currentTNode}function hs(s,o){const u=vt.lFrame;u.currentTNode=s,u.isParent=o}function Sp(){return vt.lFrame.isParent}function rc(){vt.lFrame.isParent=!1}function Gr(){const s=vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function sc(){return vt.lFrame.bindingIndex++}function xs(s){const o=vt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function tM(s,o){const u=vt.lFrame;u.bindingIndex=u.bindingRootIndex=s,ev(o)}function ev(s){vt.lFrame.currentDirectiveIndex=s}function hD(){return vt.lFrame.currentQueryIndex}function nv(s){vt.lFrame.currentQueryIndex=s}function rM(s){const o=s[Xe];return 2===o.type?o.declTNode:1===o.type?s[Qn]:null}function fD(s,o,u){if(u&rt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||u&rt.Host||(h=rM(p),null===h||(p=p[eo],10&h.type))););if(null===h)return!1;o=h,s=p}const d=vt.lFrame=iv();return d.currentTNode=o,d.lView=s,!0}function rv(s){const o=iv(),u=s[Xe];vt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function iv(){const s=vt.lFrame,o=null===s?null:s.child;return null===o?pD(s):o}function pD(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function sv(){const s=vt.lFrame;return vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ov=sv;function av(){const s=sv();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ui(){return vt.lFrame.selectedIndex}function Fa(s){vt.lFrame.selectedIndex=s}function $n(){const s=vt.lFrame;return j(s.tView,s.selectedIndex)}function ro(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:v,ngAfterViewChecked:w,ngOnDestroy:I}=p;g&&(s.contentHooks??(s.contentHooks=[])).push(-u,g),y&&((s.contentHooks??(s.contentHooks=[])).push(u,y),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,y)),v&&(s.viewHooks??(s.viewHooks=[])).push(-u,v),w&&((s.viewHooks??(s.viewHooks=[])).push(u,w),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,w)),null!=I&&(s.destroyHooks??(s.destroyHooks=[])).push(u,I)}}function _d(s,o,u){Mp(s,o,3,u)}function jo(s,o,u,d){(3&s[_t])===u&&Mp(s,o,u,d)}function xp(s,o){let u=s[_t];(3&u)===o&&(u&=2047,u+=1,s[_t]=u)}function Mp(s,o,u,d){const p=d??-1,g=o.length-1;let y=0;for(let v=void 0!==d?65535&s[gr]:0;v<g;v++)if("number"==typeof o[v+1]){if(y=o[v],null!=d&&y>=d)break}else o[v]<0&&(s[gr]+=65536),(y<p||-1==p)&&(mD(s,u,o,v),s[gr]=(4294901760&s[gr])+v+2),v++}function mD(s,o,u,d){const h=u[d]<0,p=u[d+1],y=s[h?-u[d]:u[d]];if(h){if(s[_t]>>11<s[gr]>>16&&(3&s[_t])===o){s[_t]+=2048,Ei(4,y,p);try{p.call(y)}finally{Ei(5,y,p)}}}else{Ei(4,y,p);try{p.call(y)}finally{Ei(5,y,p)}}}const La=-1;class oc{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function vd(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const p=u[d++],g=u[d++],y=u[d++];s.setAttribute(o,g,y,p)}else{const p=h,g=u[++d];dv(p)?s.setProperty(o,p,g):s.setAttribute(o,p,g),d++}}return d}function Pp(s){return 3===s||4===s||6===s}function dv(s){return 64===s.charCodeAt(0)}function uc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||hv(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function hv(s,o,u,d,h){let p=0,g=s.length;if(-1===o)g=-1;else for(;p<s.length;){const y=s[p++];if("number"==typeof y){if(y===o){g=-1;break}if(y>o){g=p-1;break}}}for(;p<s.length;){const y=s[p];if("number"==typeof y)break;if(y===u){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==g&&(s.splice(g,0,o),p=g+1),s.splice(p++,0,u),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Op(s){return s!==La}function Cd(s){return 32767&s}function cc(s,o){let u=function vD(s){return s>>16}(s),d=o;for(;u>0;)d=d[eo],u--;return d}let wd=!0;function Va(s){const o=wd;return wd=s,o}const pv=255,Rp=5;let gv=0;const ps={};function lc(s,o){const u=Lp(s,o);if(-1!==u)return u;const d=o[Xe];d.firstCreatePass&&(s.injectorIndex=o.length,Fp(d.data,s),Fp(o,null),Fp(d.blueprint,null));const h=Up(s,o),p=s.injectorIndex;if(Op(h)){const g=Cd(h),y=cc(h,o),v=y[Xe].data;for(let w=0;w<8;w++)o[p+w]=y[g+w]|v[g+w]}return o[p+8]=h,p}function Fp(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Lp(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Up(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=_v(h),null===d)return La;if(u++,h=h[eo],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return La}function Vp(s,o,u){!function kp(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Yn)&&(d=u[Yn]),null==d&&(d=u[Yn]=gv++);const h=d&pv;o.data[s+(h>>Rp)]|=1<<h}(s,o,u)}function Ed(s,o,u){if(u&rt.Optional||void 0!==s)return s;Qe()}function wD(s,o,u,d){if(u&rt.Optional&&void 0===d&&(d=null),!(u&(rt.Self|rt.Host))){const h=s[Js],p=Je(void 0);try{return h?h.get(o,d,u&rt.Optional):lt(o,d,u&rt.Optional)}finally{Je(p)}}return Ed(d,0,u)}function ED(s,o,u,d=rt.Default,h){if(null!==s){if(1024&o[_t]){const g=function dM(s,o,u,d,h){let p=s,g=o;for(;null!==p&&null!==g&&1024&g[_t]&&!(256&g[_t]);){const y=Bp(p,g,u,d|rt.Self,ps);if(y!==ps)return y;let v=p.parent;if(!v){const w=g[ad];if(w){const I=w.get(u,ps,d);if(I!==ps)return I}v=_v(g),g=g[eo]}p=v}return h}(s,o,u,d,ps);if(g!==ps)return g}const p=Bp(s,o,u,d,ps);if(p!==ps)return p}return wD(o,u,d,h)}function Bp(s,o,u,d,h){const p=function ID(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Yn)?s[Yn]:void 0;return"number"==typeof o?o>=0?o&pv:yv:o}(u);if("function"==typeof p){if(!fD(o,s,d))return d&rt.Host?Ed(h,0,d):wD(o,u,d,h);try{const g=p(d);if(null!=g||d&rt.Optional)return g;Qe()}finally{ov()}}else if("number"==typeof p){let g=null,y=Lp(s,o),v=La,w=d&rt.Host?o[Tr][Qn]:null;for((-1===y||d&rt.SkipSelf)&&(v=-1===y?Up(s,o):o[y+8],v!==La&&mv(d,!1)?(g=o[Xe],y=Cd(v),o=cc(v,o)):y=-1);-1!==y;){const I=o[Xe];if($p(p,y,I.data)){const T=lM(y,o,u,g,d,w);if(T!==ps)return T}v=o[y+8],v!==La&&mv(d,o[Xe].data[y+8]===w)&&$p(p,y,o)?(g=I,y=Cd(v),o=cc(v,o)):y=-1}}return h}function lM(s,o,u,d,h,p){const g=o[Xe],y=g.data[s+8],I=Id(y,g,u,null==d?no(y)&&wd:d!=g&&0!=(3&y.type),h&rt.Host&&p===y);return null!==I?Go(o,g,I,y):ps}function Id(s,o,u,d,h){const p=s.providerIndexes,g=o.data,y=1048575&p,v=s.directiveStart,I=p>>20,F=h?y+I:s.directiveEnd;for(let G=d?y:y+I;G<F;G++){const oe=g[G];if(G<v&&u===oe||G>=v&&oe.type===u)return G}if(h){const G=g[v];if(G&&wi(G)&&G.type===u)return v}return null}function Go(s,o,u,d){let h=s[u];const p=o.data;if(function yD(s){return s instanceof oc}(h)){const g=h;g.resolving&&function re(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new W(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ce(s)}(p[u]));const y=Va(g.canSeeViewProviders);g.resolving=!0;const v=g.injectImpl?Je(g.injectImpl):null;fD(s,d,rt.Default);try{h=s[u]=g.factory(void 0,p,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Ap(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const g=As(o);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,g)}h&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,h),p&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,p),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,p))}(u,p[u],o)}finally{null!==v&&Je(v),Va(y),g.resolving=!1,ov()}}return h}function $p(s,o,u){return!!(u[o+(s>>Rp)]&1<<s)}function mv(s,o){return!(s&rt.Self||s&rt.Host&&o)}class Ho{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return ED(this._tNode,this._lView,o,R(d),u)}}function yv(){return new Ho(jr(),me())}function jp(s){return de(()=>{const o=s.prototype.constructor,u=o[rr]||Gp(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[rr]||Gp(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Gp(s){return We(s)?()=>{const o=Gp(we(s));return o&&o()}:cs(s)}function _v(s){const o=s[Xe],u=o.type;return 2===u?o.declTNode:1===u?s[Qn]:null}function vv(s){return function CD(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const p=u[h];if(Pp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(p===o)return u[h+1];h+=2}}}return null}(jr(),s)}const io="__parameters__";function $a(s,o,u){return de(()=>{const d=function Hp(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const g=new h(...p);return y.annotation=g,y;function y(v,w,I){const T=v.hasOwnProperty(io)?v[io]:Object.defineProperty(v,io,{value:[]})[io];for(;T.length<=I;)T.push(null);return(T[I]=T[I]||[]).push(g),v}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class bn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Lt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ja(s,o){s.forEach(u=>Array.isArray(u)?ja(u,o):o(u))}function DD(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Td(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Wt(s,o,u){let d=Ns(s,o);return d>=0?s[1|d]=u:(d=~d,function pt(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function zp(s,o){const u=Ns(s,o);if(u>=0)return s[1|u]}function Ns(s,o){return function Iv(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const p=d+(h-d>>1),g=s[p<<u];if(o===g)return p<<u;g>o?h=p:d=p+1}return~(h<<u)}(s,o,1)}const qo=L($a("Optional"),8),Nn=L($a("SkipSelf"),4);var gs=(()=>((gs=gs||{})[gs.Important=1]="Important",gs[gs.DashCase=2]="DashCase",gs))();const Pv=new Map;let xr=0;const Nd="__ngContext__";function Mr(s,o){mr(o)?(s[Nd]=o[Ts],function xd(s){Pv.set(s[Ts],s)}(o)):s[Nd]=o}let Xo;function Rd(s,o){return Xo(s,o)}function _c(s){const o=s[Dn];return $r(o)?o[Dn]:o}function Ld(s){return Vv(s[us])}function Ud(s){return Vv(s[Xr])}function Vv(s){for(;null!==s&&!$r(s);)s=s[Xr];return s}function za(s,o,u,d,h){if(null!=d){let p,g=!1;$r(d)?p=d:mr(d)&&(g=!0,d=d[xi]);const y=sr(d);0===s&&null!==u?null==h?rg(o,u,y):Pi(o,u,y,h||null,!0):1===s&&null!==u?Pi(o,u,y,h||null,!0):2===s?function ea(s,o,u){const d=$d(s,o);d&&function $v(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}(o,y,g):3===s&&o.destroyNode(y),null!=p&&function zd(s,o,u,d,h){const p=u[to];p!==sr(u)&&za(o,s,d,p,h);for(let y=Sr;y<u.length;y++){const v=u[y];ta(v[Xe],v,s,o,d,p)}}(o,s,p,u,h)}}function tg(s,o,u){return s.createElement(o,u)}function ho(s,o){const u=s[Vo],d=u.indexOf(o),h=o[Dn];512&o[_t]&&(o[_t]&=-513,Vt(h,-1)),u.splice(d,1)}function Cc(s,o){if(s.length<=Sr)return;const u=Sr+o,d=s[u];if(d){const h=d[Oa];null!==h&&h!==s&&ho(h,d),o>0&&(s[u-1][Xr]=d[Xr]);const p=Td(s,Sr+o);!function BD(s,o){ta(s,o,o[Ut],2,null,null),o[xi]=null,o[Qn]=null}(d[Xe],d);const g=p[Ci];null!==g&&g.detachView(p[Xe]),d[Dn]=null,d[Xr]=null,d[_t]&=-65}return d}function HD(s,o){if(!(128&o[_t])){const u=o[Ut];u.destroyNode&&ta(s,o,u,3,null,null),function ng(s){let o=s[us];if(!o)return Bd(s[Xe],s);for(;o;){let u=null;if(mr(o))u=o[us];else{const d=o[Sr];d&&(u=d)}if(!u){for(;o&&!o[Xr]&&o!==s;)mr(o)&&Bd(o[Xe],o),o=o[Dn];null===o&&(o=s),mr(o)&&Bd(o[Xe],o),u=o&&o[Xr]}o=u}}(o)}}function Bd(s,o){if(!(128&o[_t])){o[_t]&=-65,o[_t]|=128,function zD(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof oc)){const p=u[d+1];if(Array.isArray(p))for(let g=0;g<p.length;g+=2){const y=h[p[g]],v=p[g+1];Ei(4,y,v);try{v.call(y)}finally{Ei(5,y,v)}}else{Ei(4,h,p);try{p.call(h)}finally{Ei(5,h,p)}}}}}(s,o),function Bv(s,o){const u=s.cleanup,d=o[as];let h=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const g=u[p+3];g>=0?d[h=g]():d[h=-g].unsubscribe(),p+=2}else{const g=d[h=u[p+1]];u[p].call(g)}if(null!==d){for(let p=h+1;p<d.length;p++)(0,d[p])();o[as]=null}}(s,o),1===o[Xe].type&&o[Ut].destroy();const u=o[Oa];if(null!==u&&$r(o[Dn])){u!==o[Dn]&&ho(u,o);const d=o[Ci];null!==d&&d.detachView(s)}!function Rv(s){Pv.delete(s[Ts])}(o)}}function qa(s,o,u){return function Za(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[xi];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Ke.None||p===Ke.Emulated)return null}return D(d,u)}}(s,o.parent,u)}function Pi(s,o,u,d,h){s.insertBefore(o,u,d,h)}function rg(s,o,u){s.appendChild(o,u)}function ig(s,o,u,d,h){null!==d?Pi(s,o,u,d,h):rg(s,o,u)}function $d(s,o){return s.parentNode(o)}let fo,qd,Zd,Wd,jd=function jv(s,o,u){return 40&s.type?D(s,u):null};function Wa(s,o,u,d){const h=qa(s,d,o),p=o[Ut],y=function sg(s,o,u){return jd(s,o,u)}(d.parent||o[Qn],d,o);if(null!=h)if(Array.isArray(u))for(let v=0;v<u.length;v++)ig(p,h,u[v],y,!1);else ig(p,h,u,y,!1);void 0!==fo&&fo(p,d,o,u,h)}function Gd(s,o){if(null!==o){const u=o.type;if(3&u)return D(o,s);if(4&u)return Hd(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return Gd(s,d);{const h=s[o.index];return $r(h)?Hd(-1,h):sr(h)}}if(32&u)return Rd(o,s)()||sr(s[o.index]);{const d=og(s,o);return null!==d?Array.isArray(d)?d[0]:Gd(_c(s[Tr]),d):Gd(s,o.next)}}return null}function og(s,o){return null!==o?s[Tr][Qn].projection[o.projection]:null}function Hd(s,o){const u=Sr+s+1;if(u<o.length){const d=o[u],h=d[Xe].firstChild;if(null!==h)return Gd(d,h)}return o[to]}function Oi(s,o,u,d,h,p,g){for(;null!=u;){const y=d[u.index],v=u.type;if(g&&0===o&&(y&&Mr(sr(y),d),u.flags|=2),32!=(32&u.flags))if(8&v)Oi(s,o,u.child,d,h,p,!1),za(o,s,h,y,p);else if(32&v){const w=Rd(u,d);let I;for(;I=w();)za(o,s,h,I,p);za(o,s,h,y,p)}else 16&v?Ec(s,o,d,u,h,p):za(o,s,h,y,p);u=g?u.projectionNext:u.next}}function ta(s,o,u,d,h,p){Oi(u,d,s.firstChild,o,h,p,!1)}function Ec(s,o,u,d,h,p){const g=u[Tr],v=g[Qn].projection[d.projection];if(Array.isArray(v))for(let w=0;w<v.length;w++)za(o,s,h,v[w],p);else Oi(s,o,v,g[Dn],h,p,!0)}function Hv(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function zv(s,o,u){const{mergedAttrs:d,classes:h,styles:p}=u;null!==d&&vd(s,o,d),null!==h&&Hv(s,o,h),null!==p&&function ZD(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function Ka(s){return function ug(){if(void 0===qd&&(qd=null,bt.trustedTypes))try{qd=bt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return qd}()?.createHTML(s)||s}function qv(s){Zd=s}function cg(){if(void 0===Wd&&(Wd=null,bt.trustedTypes))try{Wd=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Wd}function Wv(s){return cg()?.createHTML(s)||s}function lg(s){return cg()?.createScriptURL(s)||s}class Kd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ue})`}}function po(s){return s instanceof Kd?s.changingThisBreaksApplicationSecurity:s}function qi(s,o){const u=function Jv(s){return s instanceof Kd&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${Ue})`)}return u===o}class fg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Ka(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class XD{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=Ka(o),u}}const eb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pg(s){return(s=String(s)).match(eb)?s:"unsafe:"+s}function Zi(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Qa(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const gg=Zi("area,br,col,hr,img,wbr"),mg=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yg=Zi("rp,rt"),ra=Qa(gg,Qa(mg,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qa(yg,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qa(yg,mg)),vg=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wg=Qa(vg,Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CM=Zi("script,style,template");class wM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!ra.hasOwnProperty(u))return this.sanitizedSomething=!0,!CM.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),g=p.name,y=g.toLowerCase();if(!wg.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let v=p.value;vg[y]&&(v=pg(v)),this.buf.push(" ",g,'="',Jd(v),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();ra.hasOwnProperty(u)&&!gg.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Jd(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const EM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IM=/([^\#-~ |!])/g;function Jd(s){return s.replace(/&/g,"&amp;").replace(EM,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(IM,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xd;function Eg(s){return"content"in s&&function Ig(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var on=(()=>((on=on||{})[on.NONE=0]="NONE",on[on.HTML=1]="HTML",on[on.STYLE=2]="STYLE",on[on.SCRIPT=3]="SCRIPT",on[on.URL=4]="URL",on[on.RESOURCE_URL=5]="RESOURCE_URL",on))();function Dg(s){const o=bc();return o?Wv(o.sanitize(on.HTML,s)||""):qi(s,"HTML")?Wv(po(s)):function tb(s,o){let u=null;try{Xd=Xd||function Yd(s){const o=new XD(s);return function Ic(){try{return!!(new window.DOMParser).parseFromString(Ka(""),"text/html")}catch{return!1}}()?new fg(o):o}(s);let d=o?String(o):"";u=Xd.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=u.innerHTML,u=Xd.getInertBodyElement(d)}while(d!==p);return Ka((new wM).sanitizeChildren(Eg(u)||u))}finally{if(u){const d=Eg(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function Zv(){return void 0!==Zd?Zd:typeof document<"u"?document:void 0}(),ce(s))}function e0(s){const o=bc();return o?o.sanitize(on.URL,s)||"":qi(s,"URL")?po(s):pg(ce(s))}function t0(s){const o=bc();if(o)return lg(o.sanitize(on.RESOURCE_URL,s)||"");if(qi(s,"ResourceURL"))return lg(po(s));throw new W(904,!1)}function ia(s,o,u){return function rb(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?t0:e0}(o,u)(s)}function bc(){const s=me();return s&&s[sd]}const sa=new bn("ENVIRONMENT_INITIALIZER"),Ja=new bn("INJECTOR",-1),r0=new bn("INJECTOR_DEF_TYPES");class s0{get(o,u=Jr){if(u===Jr){const d=new Error(`NullInjectorError: No provider for ${ie(o)}!`);throw d.name="NullInjectorError",d}return u}}function ib(...s){return{\u0275providers:o0(0,s),\u0275fromNgModule:!0}}function o0(s,...o){const u=[],d=new Set;let h;return ja(o,p=>{const g=p;u0(g,u,[],d)&&(h||(h=[]),h.push(g))}),void 0!==h&&a0(h,u),u}function a0(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Tc(h,p=>{o.push(p)})}}function u0(s,o,u,d){if(!(s=we(s)))return!1;let h=null,p=hn(s);const g=!p&&It(s);if(p||g){if(g&&!g.standalone)return!1;h=s}else{const v=s.ngModule;if(p=hn(v),!p)return!1;h=v}const y=d.has(h);if(g){if(y)return!1;if(d.add(h),g.dependencies){const v="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const w of v)u0(w,o,u,d)}}else{if(!p)return!1;{if(null!=p.imports&&!y){let w;d.add(h);try{ja(p.imports,I=>{u0(I,o,u,d)&&(w||(w=[]),w.push(I))})}finally{}void 0!==w&&a0(w,o)}if(!y){const w=cs(h)||(()=>new h);o.push({provide:h,useFactory:w,deps:Ve},{provide:r0,useValue:h,multi:!0},{provide:sa,useValue:()=>at(h),multi:!0})}const v=p.providers;null==v||y||Tc(v,I=>{o.push(I)})}}return h!==s&&void 0!==s.providers}function Tc(s,o){for(let u of s)St(u)&&(u=u.\u0275providers),Array.isArray(u)?Tc(u,o):o(u)}const nh=O({provide:String,useValue:O});function go(s){return null!==s&&"object"==typeof s&&nh in s}function oa(s){return"function"==typeof s}const bg=new bn("Set Injector scope."),rh={},ob={};let Tg;function ih(){return void 0===Tg&&(Tg=new s0),Tg}class mo{}class d0 extends mo{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eu(o,g=>this.processProvider(g)),this.records.set(Ja,Xa(void 0,this)),h.has("environment")&&this.records.set(mo,Xa(void 0,this));const p=this.records.get(bg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(r0.multi,Ve,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=ze(this),d=Je(void 0);try{return o()}finally{ze(u),Je(d)}}get(o,u=Jr,d=rt.Default){this.assertNotDestroyed(),d=R(d);const h=ze(this),p=Je(void 0);try{if(!(d&rt.SkipSelf)){let y=this.records.get(o);if(void 0===y){const v=function cb(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(o)&&Fr(o);y=v&&this.injectableDefInScope(v)?Xa(Sc(o),rh):null,this.records.set(o,y)}if(null!=y)return this.hydrate(o,y)}return(d&rt.Self?ih():this.parent).get(o,u=d&rt.Optional&&u===Jr?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[Vr]=g[Vr]||[]).unshift(ie(o)),h)throw g;return function A(s,o,u,d){const h=s[Vr];throw o[je]&&h.unshift(o[je]),s.message=function q(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==br?s.slice(2):s;let h=ie(o);if(Array.isArray(o))h=o.map(ie).join(" -> ");else if("object"==typeof o){let p=[];for(let g in o)if(o.hasOwnProperty(g)){let y=o[g];p.push(g+":"+("string"==typeof y?JSON.stringify(y):ie(y)))}h=`{${p.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(vi,"\n  ")}`}("\n"+s.message,h,u,d),s[zt]=h,s[Vr]=null,s}(g,o,"R3InjectorError",this.source)}throw g}finally{Je(p),ze(h)}}resolveInjectorInitializers(){const o=ze(this),u=Je(void 0);try{const d=this.get(sa.multi,Ve,rt.Self);for(const h of d)h()}finally{ze(o),Je(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(ie(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(o){let u=oa(o=we(o))?o:we(o&&o.provide);const d=function Sg(s){return go(s)?Xa(void 0,s.useValue):Xa(Ac(s),rh)}(o);if(oa(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Xa(void 0,rh,!0),h.factory=()=>M(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===rh&&(u.value=ob,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ub(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=we(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sc(s){const o=Fr(s),u=null!==o?o.factory:cs(s);if(null!==u)return u;if(s instanceof bn)throw new W(204,!1);if(s instanceof Function)return function h0(s){const o=s.length;if(o>0)throw function Sd(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}(o,"?"),new W(204,!1);const u=function un(s){return s&&(s[Dr]||s[Qr])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new W(204,!1)}function Ac(s,o,u){let d;if(oa(s)){const h=we(s);return cs(h)||Sc(h)}if(go(s))d=()=>we(s.useValue);else if(function l0(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...M(s.deps||[]));else if(function c0(s){return!(!s||!s.useExisting)}(s))d=()=>at(we(s.useExisting));else{const h=we(s&&(s.useClass||s.provide));if(!function ab(s){return!!s.deps}(s))return cs(h)||Sc(h);d=()=>new h(...M(s.deps))}return d}function Xa(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function eu(s,o){for(const u of s)Array.isArray(u)?eu(u,o):u&&St(u)?eu(u.\u0275providers,o):o(u)}class f0{}class Ag{}class Mc{resolveComponentFactory(o){throw function sh(s){const o=Error(`No component factory found for ${ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let tu=(()=>{class s{}return s.NULL=new Mc,s})();function db(){return nu(jr(),me())}function nu(s,o){return new Nc(D(s,o))}let Nc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=db,s})();function hb(s){return s instanceof Nc?s.nativeElement:s}class p0{}let g0=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function fb(){const s=me(),u=_e(jr().index,s);return(mr(u)?u:s)[Ut]}(),s})(),pb=(()=>{class s{}return s.\u0275prov=Lt({token:s,providedIn:"root",factory:()=>null}),s})();class m0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const y0=new m0("15.2.8"),xg={},Mg="ngOriginalError";function oh(s){return s[Mg]}class Pc{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&oh(o);for(;u&&oh(u);)u=oh(u);return u||null}}function Fs(s){return s instanceof Function?s():s}function ah(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}u=h+1}}const I0="ng-template";function D0(s,o,u){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const g=s[d++];if(u&&"class"===p&&-1!==ah(g.toLowerCase(),o,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function Rc(s){return 4===s.type&&s.value!==I0}function uh(s,o,u){return o===(4!==s.type||u?s.value:I0)}function b0(s,o,u){let d=4;const h=s.attrs||[],p=function Ib(s){for(let o=0;o<s.length;o++)if(Pp(s[o]))return o;return s.length}(h);let g=!1;for(let y=0;y<o.length;y++){const v=o[y];if("number"!=typeof v){if(!g)if(4&d){if(d=2|1&d,""!==v&&!uh(s,v,u)||""===v&&1===o.length){if(Ri(d))return!1;g=!0}}else{const w=8&d?v:o[++y];if(8&d&&null!==s.attrs){if(!D0(s.attrs,w,u)){if(Ri(d))return!1;g=!0}continue}const T=wb(8&d?"class":v,h,Rc(s),u);if(-1===T){if(Ri(d))return!1;g=!0;continue}if(""!==w){let F;F=T>p?"":h[T+1].toLowerCase();const G=8&d?F:null;if(G&&-1!==ah(G,w,0)||2&d&&w!==F){if(Ri(d))return!1;g=!0}}}}else{if(!g&&!Ri(d)&&!Ri(v))return!1;if(g&&Ri(v))continue;g=!1,d=v|1&d}}return Ri(d)||g}function Ri(s){return 0==(1&s)}function wb(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let p=!1;for(;h<o.length;){const g=o[h];if(g===s)return h;if(3===g||6===g)p=!0;else{if(1===g||2===g){let y=o[++h];for(;"string"==typeof y;)y=o[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=p?1:2}return-1}return function Db(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function T0(s,o,u=!1){for(let d=0;d<o.length;d++)if(b0(s,o[d],u))return!0;return!1}function S0(s,o){return s?":not("+o.trim()+")":o}function bb(s){let o=s[0],u=1,d=2,h="",p=!1;for(;u<s.length;){let g=s[u];if("string"==typeof g)if(2&d){const y=s[++u];h+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&d?h+="."+g:4&d&&(h+=" "+g);else""!==h&&!Ri(g)&&(o+=S0(p,h),h=""),d=g,p=p||!Ri(d);u++}return""!==h&&(o+=S0(p,h)),o}const Pt={};function A0(s){x0(en(),me(),ui()+s,!1)}function x0(s,o,u,d){if(!d)if(3==(3&o[_t])){const p=s.preOrderCheckHooks;null!==p&&_d(o,p,u)}else{const p=s.preOrderHooks;null!==p&&jo(o,p,0,u)}Fa(u)}function dh(s,o=null,u=null,d){const h=kg(s,o,u,d);return h.resolveInjectorInitializers(),h}function kg(s,o=null,u=null,d,h=new Set){const p=[u||Ve,ib(s)];return d=d||("object"==typeof s?void 0:ie(s)),new d0(p,o||ih(),d||null,h)}let ar=(()=>{class s{static create(u,d){if(Array.isArray(u))return dh({name:""},d,u,"");{const h=u.name??"";return dh({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Jr,s.NULL=new s0,s.\u0275prov=Lt({token:s,providedIn:"any",factory:()=>at(Ja)}),s.__NG_ELEMENT_ID__=-1,s})();function ua(s,o=rt.Default){const u=me();return null===u?at(s,o):ED(jr(),u,we(s),o)}function U0(){throw new Error("invalid")}function V0(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d+1];if(-1!==p){const g=s.data[p];nv(u[d]),g.contentQueries(2,o[p],p)}}}function li(s,o,u,d,h,p,g,y,v,w,I){const T=o.blueprint.slice();return T[xi]=h,T[_t]=76|d,(null!==I||s&&1024&s[_t])&&(T[_t]|=1024),pn(T),T[Dn]=T[eo]=s,T[fn]=u,T[Xs]=g||s&&s[Xs],T[Ut]=y||s&&s[Ut],T[sd]=v||s&&s[sd]||null,T[Js]=w||s&&s[Js]||null,T[Qn]=p,T[Ts]=function co(){return xr++}(),T[ad]=I,T[Tr]=2==o.type?s[Tr]:T,T}function iu(s,o,u,d,h){let p=s.data[o];if(null===p)p=function Lc(s,o,u,d,h){const p=uD(),g=Sp(),v=s.data[o]=function $0(s,o,u,d,h,p){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?p:p&&p.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=v),null!==p&&(g?null==p.child&&null!==v.parent&&(p.child=v):null===p.next&&(p.next=v,v.prev=p)),v}(s,o,u,d,h),function X_(){return vt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=d,p.attrs=h;const g=function ka(){const s=vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===g?-1:g.injectorIndex}return hs(p,!0),p}function Uc(s,o,u,d){if(0===u)return-1;const h=o.length;for(let p=0;p<u;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Vg(s,o,u){rv(o);try{const d=s.viewQuery;null!==d&&X0(1,d,u);const h=s.template;null!==h&&Wi(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&V0(s,o),s.staticViewQueries&&X0(2,s.viewQuery,u);const p=s.components;null!==p&&function ca(s,o){for(let u=0;u<o.length;u++)Us(s,o[u])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[_t]&=-5,av()}}function fh(s,o,u,d){const h=o[_t];if(128!=(128&h)){rv(o);try{pn(o),function lD(s){return vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Wi(s,o,u,2,d);const g=3==(3&h);if(g){const w=s.preOrderCheckHooks;null!==w&&_d(o,w,null)}else{const w=s.preOrderHooks;null!==w&&jo(o,w,0,null),xp(o,0)}if(function BM(s){for(let o=Ld(s);null!==o;o=Ud(o)){if(!o[mp])continue;const u=o[Vo];for(let d=0;d<u.length;d++){const h=u[d];512&h[_t]||Vt(h[Dn],1),h[_t]|=512}}}(o),function J0(s){for(let o=Ld(s);null!==o;o=Ud(o))for(let u=Sr;u<o.length;u++){const d=o[u],h=d[Xe];dn(d)&&fh(h,d,h.template,d[fn])}}(o),null!==s.contentQueries&&V0(s,o),g){const w=s.contentCheckHooks;null!==w&&_d(o,w)}else{const w=s.contentHooks;null!==w&&jo(o,w,1),xp(o,1)}!function VM(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Fa(~h);else{const p=h,g=u[++d],y=u[++d];tM(g,p),y(2,o[p])}}}finally{Fa(-1)}}(s,o);const y=s.components;null!==y&&function B0(s,o){for(let u=0;u<o.length;u++)$M(s,o[u])}(o,y);const v=s.viewQuery;if(null!==v&&X0(2,v,d),g){const w=s.viewCheckHooks;null!==w&&_d(o,w)}else{const w=s.viewHooks;null!==w&&jo(o,w,2),xp(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[_t]&=-41,512&o[_t]&&(o[_t]&=-513,Vt(o[Dn],-1))}finally{av()}}}function Wi(s,o,u,d,h){const p=ui(),g=2&d;try{Fa(-1),g&&o.length>an&&x0(s,o,an,!1),Ei(g?2:0,h),u(d,h)}finally{Fa(p),Ei(g?3:1,h)}}function Bg(s,o,u){if(Qu(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const g=s.data[p];g.contentQueries&&g.contentQueries(1,u[p],p)}}}function ys(s,o,u){ds()&&(function q0(s,o,u,d){const h=u.directiveStart,p=u.directiveEnd;no(u)&&function yh(s,o,u){const d=D(o,s),h=Nr(u),p=s[Xs],g=la(s,li(s,h,null,u.onPush?32:16,d,o,p,p.createRenderer(d,u),null,null,null));s[o.index]=g}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||lc(u,o),Mr(d,o);const g=u.initialInputs;for(let y=h;y<p;y++){const v=s.data[y],w=Go(o,s,y,u);Mr(w,o),null!==g&&Q0(0,y-h,w,v,0,g),wi(v)&&(_e(u.index,o)[fn]=Go(o,s,y,u))}}(s,o,u,D(u,o)),64==(64&u.flags)&&zg(s,o,u))}function ph(s,o,u=D){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const g=d[p+1],y=-1===g?u(o,s):s[g];s[h++]=y}}}function Nr(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=_s(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function _s(s,o,u,d,h,p,g,y,v,w){const I=an+d,T=I+h,F=function kb(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:Pt);return u}(I,T),G="function"==typeof w?w():w;return F[Xe]={type:s,blueprint:F,template:u,queries:null,viewQuery:y,declTNode:o,data:F.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:v,consts:G,incompleteFirstPass:!1}}function $g(s,o,u,d){const h=Ub(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&Vb(s).push(d,h.length-1))}function jg(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const p=s[h];null===d?Gg(u,o,h,p):d.hasOwnProperty(h)&&Gg(u,o,d[h],p)}return u}function Gg(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function mh(s,o,u,d){if(ds()){const h=null===d?null:{"":-1},p=function Z0(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let p=0;p<u.length;p++){const g=u[p];if(T0(o,g.selectors,!1))if(d||(d=[]),wi(g))if(null!==g.findHostDirectiveDefs){const y=[];h=h||new Map,g.findHostDirectiveDefs(g,y,h),d.unshift(...y,g),Vc(s,o,y.length)}else d.unshift(g),Vc(s,o,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,d,h),d.push(g)}return null===d?null:[d,h]}(s,u);let g,y;null===p?g=y=null:[g,y]=p,null!==g&&Hg(s,o,u,g,h,y),h&&function W0(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=u[o[h+1]];if(null==p)throw new W(-301,!1);d.push(o[h],p)}}}(u,d,h)}u.mergedAttrs=uc(u.mergedAttrs,u.attrs)}function Hg(s,o,u,d,h,p){for(let w=0;w<d.length;w++)Vp(lc(u,o),s,d[w].type);!function Y0(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let w=0;w<d.length;w++){const I=d[w];I.providersResolver&&I.providersResolver(I)}let g=!1,y=!1,v=Uc(s,o,d.length,null);for(let w=0;w<d.length;w++){const I=d[w];u.mergedAttrs=uc(u.mergedAttrs,I.hostAttrs),Zg(s,u,o,v,I),K0(v,I,h),null!==I.contentQueries&&(u.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(u.flags|=64);const T=I.type.prototype;!g&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),g=!0),!y&&(T.ngOnChanges||T.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),y=!0),v++}!function j0(s,o,u){const h=o.directiveEnd,p=s.data,g=o.attrs,y=[];let v=null,w=null;for(let I=o.directiveStart;I<h;I++){const T=p[I],F=u?u.get(T):null,oe=F?F.outputs:null;v=jg(T.inputs,I,v,F?F.inputs:null),w=jg(T.outputs,I,w,oe);const Pe=null===v||null===g||Rc(o)?null:ni(v,I,g);y.push(Pe)}null!==v&&(v.hasOwnProperty("class")&&(o.flags|=8),v.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=y,o.inputs=v,o.outputs=w}(s,u,p)}function zg(s,o,u){const d=u.directiveStart,h=u.directiveEnd,p=u.index,g=function nM(){return vt.lFrame.currentDirectiveIndex}();try{Fa(p);for(let y=d;y<h;y++){const v=s.data[y],w=o[y];ev(y),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&qg(v,w)}}finally{Fa(-1),ev(g)}}function qg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Vc(s,o,u){o.componentOffset=u,(s.components??(s.components=[])).push(o.index)}function K0(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;wi(o)&&(u[""]=s)}}function Zg(s,o,u,d,h){s.data[d]=h;const p=h.factory||(h.factory=cs(h.type)),g=new oc(p,wi(h),ua);s.blueprint[d]=g,u[d]=g,function z0(s,o,u,d,h){const p=h.hostBindings;if(p){let g=s.hostBindingOpCodes;null===g&&(g=s.hostBindingOpCodes=[]);const y=~o.index;(function Lb(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(g)!=y&&g.push(y),g.push(u,d,p)}}(s,o,d,Uc(s,u,h.hostVars,Pt),h)}function Ki(s,o,u,d,h,p){const g=D(s,o);!function _h(s,o,u,d,h,p,g){if(null==p)s.removeAttribute(o,h,u);else{const y=null==g?ce(p):g(p,d||"",h);s.setAttribute(o,h,y,u)}}(o[Ut],g,p,s.value,u,d,h)}function Q0(s,o,u,d,h,p){const g=p[o];if(null!==g){const y=d.setInput;for(let v=0;v<g.length;){const w=g[v++],I=g[v++],T=g[v++];null!==y?d.setInput(u,T,w,I):u[I]=T}}}function ni(s,o,u){let d=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const g=s[p];for(let y=0;y<g.length;y+=2)if(g[y]===o){d.push(p,g[y+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Ls(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function $M(s,o){const u=_e(o,s);if(dn(u)){const d=u[Xe];48&u[_t]?fh(d,u,d.template,u[fn]):u[qn]>0&&Yi(u)}}function Yi(s){for(let d=Ld(s);null!==d;d=Ud(d))for(let h=Sr;h<d.length;h++){const p=d[h];if(dn(p))if(512&p[_t]){const g=p[Xe];fh(g,p,g.template,p[fn])}else p[qn]>0&&Yi(p)}const u=s[Xe].components;if(null!==u)for(let d=0;d<u.length;d++){const h=_e(u[d],s);dn(h)&&h[qn]>0&&Yi(h)}}function Us(s,o){const u=_e(o,s),d=u[Xe];(function Wg(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Vg(d,u,u[fn])}function la(s,o){return s[us]?s[od][Xr]=o:s[us]=o,s[od]=o,o}function vh(s){for(;s;){s[_t]|=32;const o=_c(s);if(Bo(s)&&!o)return s;s=o}return null}function su(s,o,u,d=!0){const h=o[Xs];h.begin&&h.begin();try{fh(s,o,s.template,u)}catch(g){throw d&&$b(o,g),g}finally{h.end&&h.end()}}function X0(s,o,u){nv(0),o(s,u)}function Ub(s){return s[as]||(s[as]=[])}function Vb(s){return s.cleanup||(s.cleanup=[])}function $b(s,o){const u=s[Js],d=u?u.get(Pc,null):null;d&&d.handleError(o)}function eC(s,o,u,d,h){for(let p=0;p<u.length;){const g=u[p++],y=u[p++],v=o[g],w=s.data[g];null!==w.setInput?w.setInput(v,h,d,y):v[y]=h}}function Vs(s,o,u){const d=b(o,s);!function vc(s,o,u){s.setValue(o,u)}(s[Ut],d,u)}function Bc(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,p=0;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?p=y:1==p?h=ae(h,y):2==p&&(d=ae(d,y+": "+o[++g]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function Ch(s,o,u,d,h=!1){for(;null!==u;){const p=o[u.index];if(null!==p&&d.push(sr(p)),$r(p))for(let y=Sr;y<p.length;y++){const v=p[y],w=v[Xe].firstChild;null!==w&&Ch(v[Xe],v,w,d)}const g=u.type;if(8&g)Ch(s,o,u.child,d);else if(32&g){const y=Rd(u,o);let v;for(;v=y();)d.push(v)}else if(16&g){const y=og(o,u);if(Array.isArray(y))d.push(...y);else{const v=_c(o[Tr]);Ch(v[Xe],v,y,d,!0)}}u=h?u.projectionNext:u.next}return d}class $c{get rootNodes(){const o=this._lView,u=o[Xe];return Ch(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(o){this._lView[fn]=o}get destroyed(){return 128==(128&this._lView[_t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Dn];if($r(o)){const u=o[Yu],d=u?u.indexOf(this):-1;d>-1&&(Cc(o,d),Td(u,d))}this._attachedToViewContainer=!1}HD(this._lView[Xe],this._lView)}onDestroy(o){$g(this._lView[Xe],this._lView,null,o)}markForCheck(){vh(this._cdRefInjectingView||this._lView)}detach(){this._lView[_t]&=-65}reattach(){this._lView[_t]|=64}detectChanges(){su(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jD(s,o){ta(s,o,o[Ut],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=o}}class jb extends $c{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;su(o[Xe],o,o[fn],!1)}checkNoChanges(){}get context(){return null}}class wh extends tu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=It(o);return new Bs(u,this.ngModule)}}function ou(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class au{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=R(d);const h=this.injector.get(o,xg,d);return h!==xg||u===xg?h:this.parentInjector.get(o,u,d)}}class Bs extends Ag{get inputs(){return ou(this.componentDef.inputs)}get outputs(){return ou(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function Pg(s){return s.map(bb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let p=(h=h||this.ngModule)instanceof mo?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const g=p?new au(o,p):o,y=g.get(p0,null);if(null===y)throw new W(407,!1);const v=g.get(pb,null),w=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",T=d?function Tn(s,o,u){return s.selectRootElement(o,u===Ke.ShadowDom)}(w,d,this.componentDef.encapsulation):tg(w,I,function Eh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),F=this.componentDef.onPush?288:272,G=_s(0,null,null,1,0,null,null,null,null,null),oe=li(null,G,null,F,null,null,y,w,v,g,null);let Pe,Be;rv(oe);try{const nt=this.componentDef;let Ct,fe=null;nt.findHostDirectiveDefs?(Ct=[],fe=new Map,nt.findHostDirectiveDefs(nt,Ct,fe),Ct.push(nt)):Ct=[nt];const xt=function Yg(s,o){const u=s[Xe],d=an;return s[d]=o,iu(u,d,2,"#host",null)}(oe,T),Mn=function Gb(s,o,u,d,h,p,g,y){const v=h[Xe];!function Ih(s,o,u,d){for(const h of s)o.mergedAttrs=uc(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Bc(o,o.mergedAttrs,!0),null!==u&&zv(d,u,o))}(d,s,o,g);const w=p.createRenderer(o,u),I=li(h,Nr(u),null,u.onPush?32:16,h[s.index],s,p,w,y||null,null,null);return v.firstCreatePass&&Vc(v,s,d.length-1),la(h,I),h[s.index]=I}(xt,T,nt,Ct,oe,y,w);Be=j(G,an),T&&function nC(s,o,u,d){if(d)vd(s,u,["ng-version",y0.full]);else{const{attrs:h,classes:p}=function Tb(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&u.push(p);else{if(!Ri(h))break;h=p}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&vd(s,u,h),p&&p.length>0&&Hv(s,u,p.join(" "))}}(w,nt,T,d),void 0!==u&&function Qg(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const p=u[h];d.push(null!=p?Array.from(p):null)}}(Be,this.ngContentSelectors,u),Pe=function tC(s,o,u,d,h,p){const g=jr(),y=h[Xe],v=D(g,h);Hg(y,h,g,u,null,d);for(let I=0;I<u.length;I++)Mr(Go(h,y,g.directiveStart+I,g),h);zg(y,h,g),v&&Mr(v,h);const w=Go(h,y,g.directiveStart+g.componentOffset,g);if(s[fn]=h[fn]=w,null!==p)for(const I of p)I(w,o);return Bg(y,g,s),w}(Mn,nt,Ct,fe,oe,[Dh]),Vg(G,oe,null)}finally{av()}return new Kg(this.componentType,Pe,nu(Be,oe),oe,Be)}}class Kg extends f0{constructor(o,u,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new jb(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const p=this._rootLView;eC(p[Xe],p,h,o,u),vh(_e(this._tNode.index,p))}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Dh(){const s=jr();ro(me()[Xe],s)}function rC(s){let o=function ki(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(wi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new W(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const g=s;g.inputs=iC(s.inputs),g.declaredInputs=iC(s.declaredInputs),g.outputs=iC(s.outputs);const y=h.hostBindings;y&&bh(s,y);const v=h.viewQuery,w=h.contentQueries;if(v&&da(s,v),w&&jc(s,w),X(s.inputs,h.inputs),X(s.declaredInputs,h.declaredInputs),X(s.outputs,h.outputs),wi(h)&&h.data.animation){const I=s.data;I.animation=(I.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let g=0;g<p.length;g++){const y=p[g];y&&y.ngInherit&&y(s),y===rC&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Hb(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=uc(h.hostAttrs,u=uc(u,h.hostAttrs))}}(d)}function iC(s){return s===tt?{}:s===Ve?[]:s}function da(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function jc(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,p)=>{o(d,h,p),u(d,h,p)}:o}function bh(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}function zc(s){return!!Xg(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Xg(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function $s(s,o,u){return s[o]=u}function _r(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function ha(s,o,u,d){const h=_r(s,o,u);return _r(s,o+1,d)||h}function tm(s,o,u,d){const h=me();return _r(h,sc(),o)&&(en(),Ki($n(),h,s,o,u,d)),tm}function vs(s,o,u,d,h,p){const y=ha(s,function fs(){return vt.lFrame.bindingIndex}(),u,h);return xs(2),y?o+ce(u)+d+ce(h)+p:Pt}function uC(s,o,u,d,h,p,g,y){const v=me(),w=en(),I=s+an,T=w.firstCreatePass?function Gs(s,o,u,d,h,p,g,y,v){const w=o.consts,I=iu(o,s,4,g||null,sn(w,y));mh(o,u,I,sn(w,v)),ro(o,I);const T=I.tView=_s(2,I,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,w);return null!==o.queries&&(o.queries.template(o,I),T.queries=o.queries.embeddedTView(I)),I}(I,w,v,o,u,d,h,p,g):w.data[I];hs(T,!1);const F=v[Ut].createComment("");Wa(w,v,F,T),Mr(F,v),la(v,v[I]=Ls(F,v,F,T)),Ra(T)&&ys(w,v,T),null!=g&&ph(v,T,y)}function cC(s){return pe(function ic(){return vt.lFrame.contextLView}(),an+s)}function lC(s,o,u){const d=me();return _r(d,sc(),o)&&function di(s,o,u,d,h,p,g,y){const v=D(o,u);let I,w=o.inputs;!y&&null!=w&&(I=w[d])?(eC(s,u,I,d,h),no(o)&&function H0(s,o){const u=_e(o,s);16&u[_t]||(u[_t]|=32)}(u,o.index)):3&o.type&&(d=function G0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=g?g(h,o.value||"",d):h,p.setProperty(v,d,h))}(en(),$n(),d,s,o,d[Ut],u,!1),lC}function Nh(s,o,u,d,h){const g=h?"class":"style";eC(s,u,o.inputs[g],g,d)}function Wc(s,o,u,d){const h=me(),p=en(),g=an+s,y=h[Ut],v=p.firstCreatePass?function Jb(s,o,u,d,h,p){const g=o.consts,v=iu(o,s,2,d,sn(g,h));return mh(o,u,v,sn(g,p)),null!==v.attrs&&Bc(v,v.attrs,!1),null!==v.mergedAttrs&&Bc(v,v.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,v),v}(g,p,h,o,u,d):p.data[g],w=h[g]=tg(y,o,function gD(){return vt.lFrame.currentNamespace}()),I=Ra(v);return hs(v,!0),zv(y,w,v),32!=(32&v.flags)&&Wa(p,h,w,v),0===function nc(){return vt.lFrame.elementDepthCount}()&&Mr(w,h),function gn(){vt.lFrame.elementDepthCount++}(),I&&(ys(p,h,v),Bg(p,v,h)),null!==d&&ph(h,v),Wc}function Ph(){let s=jr();Sp()?rc():(s=s.parent,hs(s,!1));const o=s;!function Mi(){vt.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(ro(u,s),Qu(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function uv(s){return 0!=(8&s.flags)}(o)&&Nh(u,o,me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ac(s){return 0!=(16&s.flags)}(o)&&Nh(u,o,me(),o.stylesWithoutHost,!1),Ph}function Oh(s,o,u,d){return Wc(s,o,u,d),Ph(),Oh}function Rh(s,o,u){const d=me(),h=en(),p=s+an,g=h.firstCreatePass?function sm(s,o,u,d,h){const p=o.consts,g=sn(p,d),y=iu(o,s,8,"ng-container",g);return null!==g&&Bc(y,g,!0),mh(o,u,y,sn(p,h)),null!==o.queries&&o.queries.elementStart(o,y),y}(p,h,d,o,u):h.data[p];hs(g,!0);const y=d[p]=d[Ut].createComment("");return Wa(h,d,y,g),Mr(y,d),Ra(g)&&(ys(h,d,g),Bg(h,g,d)),null!=u&&ph(d,g),Rh}function Kc(){let s=jr();const o=en();return Sp()?rc():(s=s.parent,hs(s,!1)),o.firstCreatePass&&(ro(o,s),Qu(s)&&o.queries.elementEnd(s)),Kc}function Fi(){return me()}function om(s){return!!s&&"function"==typeof s.then}function ga(s){return!!s&&"function"==typeof s.subscribe}const hC=ga;function Co(s,o,u,d){const h=me(),p=en(),g=jr();return function Qi(s,o,u,d,h,p,g){const y=Ra(d),w=s.firstCreatePass&&Vb(s),I=o[fn],T=Ub(o);let F=!0;if(3&d.type||g){const Pe=D(d,o),Be=g?g(Pe):Pe,nt=T.length,Ct=g?xt=>g(sr(xt[d.index])):d.index;let fe=null;if(!g&&y&&(fe=function Xb(s,o,u,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const g=h[p];if(g===u&&h[p+1]===d){const y=o[as],v=h[p+2];return y.length>v?y[v]:null}"string"==typeof g&&(p+=2)}return null}(s,o,h,d.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=p,fe.__ngLastListenerFn__=p,F=!1;else{p=um(d,o,I,p,!1);const xt=u.listen(Be,h,p);T.push(p,xt),w&&w.push(h,Ct,nt,nt+1)}}else p=um(d,o,I,p,!1);const G=d.outputs;let oe;if(F&&null!==G&&(oe=G[h])){const Pe=oe.length;if(Pe)for(let Be=0;Be<Pe;Be+=2){const Mn=o[oe[Be]][oe[Be+1]].subscribe(p),Fn=T.length;T.push(p,Mn),w&&w.push(h,d.index,Fn,-(Fn+1))}}}(p,h,h[Ut],g,s,o,d),Co}function fC(s,o,u,d){try{return Ei(6,o,u),!1!==u(d)}catch(h){return $b(s,h),!1}finally{Ei(7,o,u)}}function um(s,o,u,d,h){return function p(g){if(g===Function)return d;vh(s.componentOffset>-1?_e(s.index,o):o);let v=fC(o,u,d,g),w=p.__ngNextListenerFn__;for(;w;)v=fC(o,u,w,g)&&v,w=w.__ngNextListenerFn__;return h&&!1===v&&(g.preventDefault(),g.returnValue=!1),v}}function pC(s=1){return function iM(s){return(vt.lFrame.contextLView=function sM(s,o){for(;s>0;)o=o[eo],s--;return o}(s,vt.lFrame.contextLView))[fn]}(s)}function Fh(s,o){return s<<17|o<<2}function Hs(s){return s>>17&32767}function Yc(s){return 2|s}function Eo(s){return(131068&s)>>2}function gm(s,o){return-131069&s|o<<2}function mm(s){return 1|s}function ym(s,o,u,d,h){const p=s[u+1],g=null===o;let y=d?Hs(p):Eo(p),v=!1;for(;0!==y&&(!1===v||g);){const I=s[y+1];WM(s[y],o)&&(v=!0,s[y+1]=d?mm(I):Yc(I)),y=d?Hs(I):Eo(I)}v&&(s[u+1]=d?Yc(p):mm(p))}function WM(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ns(s,o)>=0}function du(s,o){return function Ji(s,o,u,d){const h=me(),p=en(),g=xs(2);p.firstUpdatePass&&function wC(s,o,u,d){const h=s.data;if(null===h[u+1]){const p=h[ui()],g=function CC(s,o){return o>=s.expandoStartIndex}(s,u);(function DC(s,o){return 0!=(s.flags&(o?8:16))})(p,d)&&null===o&&!g&&(o=!1),o=function JM(s,o,u,d){const h=function tv(s){const o=vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=Vh(u=EC(null,s,o,u,d),o.attrs,d),p=null);else{const g=o.directiveStylingLast;if(-1===g||s[g]!==h)if(u=EC(h,s,o,u,d),null===p){let v=function XM(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Eo(d))return s[Hs(d)]}(s,o,d);void 0!==v&&Array.isArray(v)&&(v=EC(null,s,o,v[1],d),v=Vh(v,o.attrs,d),function eN(s,o,u,d){s[Hs(u?o.classBindings:o.styleBindings)]=d}(s,o,d,v))}else p=function hT(s,o,u){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Vh(d,s[p].hostAttrs,u);return Vh(d,o.attrs,u)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),u}(h,p,o,d),function _C(s,o,u,d,h,p){let g=p?o.classBindings:o.styleBindings,y=Hs(g),v=Eo(g);s[d]=u;let I,w=!1;if(Array.isArray(u)?(I=u[1],(null===I||Ns(u,I)>0)&&(w=!0)):I=u,h)if(0!==v){const F=Hs(s[y+1]);s[d+1]=Fh(F,y),0!==F&&(s[F+1]=gm(s[F+1],d)),s[y+1]=function iT(s,o){return 131071&s|o<<17}(s[y+1],d)}else s[d+1]=Fh(y,0),0!==y&&(s[y+1]=gm(s[y+1],d)),y=d;else s[d+1]=Fh(v,0),0===y?y=d:s[v+1]=gm(s[v+1],d),v=d;w&&(s[d+1]=Yc(s[d+1])),ym(s,I,d,!0),ym(s,I,d,!1),function oT(s,o,u,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ns(p,o)>=0&&(u[d+1]=mm(u[d+1]))}(o,I,s,d,p),g=Fh(y,v),p?o.classBindings=g:o.styleBindings=g}(h,p,o,u,g,d)}}(p,s,g,d),o!==Pt&&_r(h,g,o)&&function qe(s,o,u,d,h,p,g,y){if(!(3&o.type))return;const v=s.data,w=v[y+1],I=function yC(s){return 1==(1&s)}(w)?es(v,o,u,h,Eo(w),g):void 0;fu(I)||(fu(p)||function rT(s){return 2==(2&s)}(w)&&(p=es(v,null,u,h,y,g)),function ag(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let p=-1===d.indexOf("-")?void 0:gs.DashCase;null==h?s.removeStyle(u,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=gs.Important),s.setStyle(u,d,h,p))}}(d,g,b(ui(),u),h,p))}(p,p.data[ui()],h,h[Ut],s,h[g+1]=function IC(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ie(po(s)))),s}(o,u),d,g)}(s,o,null,!0),du}function EC(s,o,u,d,h){let p=null;const g=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<g&&(p=o[y],d=Vh(d,p.hostAttrs,h),p!==s);)y++;return null!==s&&(u.directiveStylingLast=y),d}function Vh(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const g=o[p];"number"==typeof g?h=g:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wt(s,g,!!u||o[++p]))}return void 0===s?null:s}function es(s,o,u,d,h,p){const g=null===o;let y;for(;h>0;){const v=s[h],w=Array.isArray(v),I=w?v[1]:v,T=null===I;let F=u[h+1];F===Pt&&(F=T?Ve:void 0);let G=T?zp(F,d):I===d?F:void 0;if(w&&!fu(G)&&(G=zp(v,d)),fu(G)&&(y=G,g))return y;const oe=s[h+1];h=g?Hs(oe):Eo(oe)}if(null!==o){let v=p?o.residualClasses:o.residualStyles;null!=v&&(y=zp(v,d))}return y}function fu(s){return void 0!==s}function jn(s,o=""){const u=me(),d=en(),h=s+an,p=d.firstCreatePass?iu(d,h,1,o,null):d.data[h],g=u[h]=function eg(s,o){return s.createText(o)}(u[Ut],o);Wa(d,u,g,p),hs(p,!1)}function vm(s){return ma("",s,""),vm}function ma(s,o,u){const d=me(),h=function uu(s,o,u,d){return _r(s,sc(),u)?o+ce(u)+d:Pt}(d,s,o,u);return h!==Pt&&Vs(d,ui(),h),ma}function Jc(s,o,u,d,h){const p=me(),g=vs(p,s,o,u,d,h);return g!==Pt&&Vs(p,ui(),g),Jc}const Zs=void 0;var Sm=["en",[["a","p"],["AM","PM"],Zs],[["AM","PM"],Zs,Zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zs,"{1} 'at' {0}",Zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CT(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let ya={};function el(s){const o=function xm(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=VC(o);if(u)return u;const d=o.split("-")[0];if(u=VC(d),u)return u;if("en"===d)return Sm;throw new W(701,!1)}function UC(s){return el(s)[mt.PluralCase]}function VC(s){return s in ya||(ya[s]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[s]),ya[s]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const gu="en-US";let jC=gu;function ns(s,o,u,d,h){if(s=we(s),Array.isArray(s))for(let p=0;p<s.length;p++)ns(s[p],o,u,d,h);else{const p=en(),g=me();let y=oa(s)?s:we(s.provide),v=Ac(s);const w=jr(),I=1048575&w.providerIndexes,T=w.directiveStart,F=w.providerIndexes>>20;if(oa(s)||!s.multi){const G=new oc(v,h,ua),oe=qm(y,o,h?I:I+F,T);-1===oe?(Vp(lc(w,g),p,y),cl(p,s,o.length),o.push(y),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),u.push(G),g.push(G)):(u[oe]=G,g[oe]=G)}else{const G=qm(y,o,I+F,T),oe=qm(y,o,I,I+F),Be=oe>=0&&u[oe];if(h&&!Be||!h&&!(G>=0&&u[G])){Vp(lc(w,g),p,y);const nt=function BT(s,o,u,d,h){const p=new oc(s,u,ua);return p.multi=[],p.index=o,p.componentProviders=0,zm(p,h,d&&!u),p}(h?VT:ll,u.length,h,d,v);!h&&Be&&(u[oe].providerFactory=nt),cl(p,s,o.length,0),o.push(y),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),u.push(nt),g.push(nt)}else cl(p,s,G>-1?G:oe,zm(u[h?oe:G],v,!h&&d));!h&&d&&Be&&u[oe].componentProviders++}}}function cl(s,o,u,d){const h=oa(o),p=function sb(s){return!!s.useClass}(o);if(h||p){const v=(p?we(o.useClass):o).prototype.ngOnDestroy;if(v){const w=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const I=w.indexOf(u);-1===I?w.push(u,[d,v]):w[I+1].push(d,v)}else w.push(u,v)}}}function zm(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function qm(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function ll(s,o,u,d){return dl(this.multi,[])}function VT(s,o,u,d){const h=this.multi;let p;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=Go(u,u[Xe],this.providerFactory.index,d);p=y.slice(0,g),dl(h,p);for(let v=g;v<y.length;v++)p.push(y[v])}else p=[],dl(h,p);return p}function dl(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Qh(s,o=[]){return u=>{u.providersResolver=(d,h)=>function Hm(s,o,u){const d=en();if(d.firstCreatePass){const h=wi(s);ns(u,d.data,d.blueprint,h,!0),ns(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class _u{}class Jh{}function hl(s,o){return new iw(s,o??null)}class iw extends _u{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wh(this);const d=Br(o);this._bootstrapComponents=Fs(d.bootstrap),this._r3Injector=kg(o,u,[{provide:_u,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],ie(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class fl extends Jh{constructor(o){super(),this.moduleType=o}create(o){return new iw(this.moduleType,o)}}class Zm extends _u{constructor(o,u,d){super(),this.componentFactoryResolver=new wh(this),this.instance=null;const h=new d0([...o,{provide:_u,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],u||ih(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function vu(s,o,u=null){return new Zm(s,o,u).injector}let $T=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=o0(0,u.type),h=d.length>0?vu([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Lt({token:s,providedIn:"environment",factory:()=>new s(at(mo))}),s})();function Is(s){s.getStandaloneInjector=o=>o.get($T).getOrCreateStandaloneInjector(s)}function va(s,o,u,d,h,p){return function HT(s,o,u,d,h,p,g,y){const v=o+u;return function qc(s,o,u,d,h){const p=ha(s,o,u,d);return _r(s,o+2,h)||p}(s,v,h,p,g)?$s(s,v+3,y?d.call(y,h,p,g):d(h,p,g)):Eu(s,v+3)}(me(),Gr(),s,o,u,d,h,p)}function Eu(s,o){const u=s[o];return u===Pt?void 0:u}function Xm(s,o){const u=en();let d;const h=s+an;u.firstCreatePass?(d=function zT(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const p=d.factory||(d.factory=cs(d.type)),g=Je(ua);try{const y=Va(!1),v=p();return Va(y),function Mh(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,me(),h,v),v}finally{Je(g)}}function yw(s,o,u){const d=s+an,h=me(),p=pe(h,d);return Iu(h,d)?function Jm(s,o,u,d,h,p){const g=o+u;return _r(s,g,h)?$s(s,g+1,p?d.call(p,h):d(h)):Eu(s,g+1)}(h,Gr(),o,p.transform,u,p):p.transform(u)}function tf(s,o,u,d){const h=s+an,p=me(),g=pe(p,h);return Iu(p,h)?function ml(s,o,u,d,h,p,g){const y=o+u;return ha(s,y,h,p)?$s(s,y+2,g?d.call(g,h,p):d(h,p)):Eu(s,y+2)}(p,Gr(),o,g.transform,u,d,g):g.transform(u,d)}function Iu(s,o){return s[Xe].data[o].pure}function ty(s){return o=>{setTimeout(s,void 0,o)}}const Li=class Cw extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,p=u||(()=>null),g=d;if(o&&"object"==typeof o){const v=o;h=v.next?.bind(v),p=v.error?.bind(v),g=v.complete?.bind(v)}this.__isAsync&&(p=ty(p),h&&(h=ty(h)),g&&(g=ty(g)));const y=super.subscribe({next:h,error:p,complete:g});return o instanceof H.w0&&o.add(y),y}};function ww(){return this._results[Symbol.iterator]()}class ny{get changes(){return this._changes||(this._changes=new Li)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ny.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=ww)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function zi(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function pM(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yl=(()=>{class s{}return s.__NG_ELEMENT_ID__=ry,s})();const Ew=yl,bo=class extends Ew{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tView,h=li(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[Oa]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[Ci];return null!==g&&(h[Ci]=g.createEmbeddedView(d)),Vg(d,h,o),new $c(h)}};function ry(){return nf(jr(),me())}function nf(s,o){return 4&s.type?new bo(o,s,nu(s,o)):null}let rf=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cr,s})();function Cr(){return sy(jr(),me())}const Iw=rf,Dw=class extends Iw{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const o=Up(this._hostTNode,this._hostLView);if(Op(o)){const u=cc(o,this._hostLView),d=Cd(o);return new Ho(u[Xe].data[d+8],u)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=bw(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(o,u,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const g=o.createEmbeddedView(u||{},p);return this.insert(g,h),g}createComponent(o,u,d,h,p){const g=o&&!function bd(s){return"function"==typeof s}(o);let y;if(g)y=u;else{const T=u||{};y=T.index,d=T.injector,h=T.projectableNodes,p=T.environmentInjector||T.ngModuleRef}const v=g?o:new Bs(It(o)),w=d||this.parentInjector;if(!p&&null==v.ngModule){const F=(g?w:this.parentInjector).get(mo,null);F&&(p=F)}const I=v.create(w,h,void 0,p);return this.insert(I.hostView,y),I}insert(o,u){const d=o._lView,h=d[Xe];if(function Bn(s){return $r(s[Dn])}(d)){const I=this.indexOf(o);if(-1!==I)this.detach(I);else{const T=d[Dn],F=new Dw(T,T[Qn],T[Dn]);F.detach(F.indexOf(o))}}const p=this._adjustIndex(u),g=this._lContainer;!function Vd(s,o,u,d){const h=Sr+d,p=u.length;d>0&&(u[h-1][Xr]=o),d<p-Sr?(o[Xr]=u[h],DD(u,Sr+d,o)):(u.push(o),o[Xr]=null),o[Dn]=u;const g=o[Oa];null!==g&&u!==g&&function GD(s,o){const u=s[Vo];o[Tr]!==o[Dn][Dn][Tr]&&(s[mp]=!0),null===u?s[Vo]=[o]:u.push(o)}(g,o);const y=o[Ci];null!==y&&y.insertView(s),o[_t]|=64}(h,d,g,p);const y=Hd(p,g),v=d[Ut],w=$d(v,g[to]);return null!==w&&function $D(s,o,u,d,h,p){d[xi]=h,d[Qn]=o,ta(s,d,u,1,h,p)}(h,g[Qn],v,d,w,y),o.attachToViewContainerRef(),DD(iy(g),p,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=bw(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=Cc(this._lContainer,u);d&&(Td(iy(this._lContainer),u),HD(d[Xe],d))}detach(o){const u=this._adjustIndex(o,-1),d=Cc(this._lContainer,u);return d&&null!=Td(iy(this._lContainer),u)?new $c(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function bw(s){return s[Yu]}function iy(s){return s[Yu]||(s[Yu]=[])}function sy(s,o){let u;const d=o[s.index];if($r(d))u=d;else{let h;if(8&s.type)h=sr(d);else{const p=o[Ut];h=p.createComment("");const g=D(s,o);Pi(p,$d(p,g),h,function qD(s,o){return s.nextSibling(o)}(p,g),!1)}o[s.index]=u=Ls(d,o,h,s),la(o,u)}return new Dw(u,s,o)}class oy{constructor(o){this.queryList=o,this.matches=null}clone(){return new oy(this.queryList)}setDirty(){this.queryList.setDirty()}}class sf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let p=0;p<d;p++){const g=u.getByIndex(p);h.push(this.queries[g.indexInDeclarationView].clone())}return new sf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==gf(o,u).matches&&this.queries[u].setDirty()}}class Tw{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class af{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==u?u.push(p):u=[p])}return null!==u?new af(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class uf{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new uf(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,u,ay(u,p)),this.matchTNodeWithReadOption(o,u,Id(u,o,p,!1,!1))}else d===yl?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Id(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Nc||h===rf||h===yl&&4&u.type)this.addMatch(u.index,-2);else{const p=Id(u,o,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function ay(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function uy(s,o,u,d){return-1===u?function Sw(s,o){return 11&s.type?nu(s,o):4&s.type?nf(s,o):null}(o,s):-2===u?function ZT(s,o,u){return u===Nc?nu(o,s):u===yl?nf(o,s):u===rf?sy(o,s):void 0}(s,o,d):Go(s,s[Xe],u,o)}function cf(s,o,u,d){const h=o[Ci].queries[d];if(null===h.matches){const p=s.data,g=u.matches,y=[];for(let v=0;v<g.length;v+=2){const w=g[v];y.push(w<0?null:uy(o,p[w],g[v+1],u.metadata.read))}h.matches=y}return h.matches}function _l(s,o,u,d){const h=s.queries.getByIndex(u),p=h.matches;if(null!==p){const g=cf(s,o,h,u);for(let y=0;y<p.length;y+=2){const v=p[y];if(v>0)d.push(g[y/2]);else{const w=p[y+1],I=o[-v];for(let T=Sr;T<I.length;T++){const F=I[T];F[Oa]===F[Dn]&&_l(F[Xe],F,w,d)}if(null!==I[Vo]){const T=I[Vo];for(let F=0;F<T.length;F++){const G=T[F];_l(G[Xe],G,w,d)}}}}}return d}function lf(s){const o=me(),u=en(),d=hD();nv(d+1);const h=gf(u,d);if(s.dirty&&function yt(s){return 4==(4&s[_t])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?_l(u,o,d,[]):cf(u,o,h,d);s.reset(p,hb),s.notifyOnChanges()}return!0}return!1}function hf(s,o,u,d){const h=en();if(h.firstCreatePass){const p=jr();(function pf(s,o,u){null===s.queries&&(s.queries=new af),s.queries.track(new uf(o,u))})(h,new Tw(o,u,d),p.index),function ly(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function ff(s,o,u){const d=new ny(4==(4&u));$g(s,o,d,d.destroy),null===o[Ci]&&(o[Ci]=new sf),o[Ci].queries.push(new oy(d))}(h,me(),u)}function Aw(){return function cy(s,o){return s[Ci].queries[o].queryList}(me(),hD())}function gf(s,o){return s.queries.getByIndex(o)}function xw(s,o){return nf(s,o)}function vl(s){return!!Br(s)}function Tu(...s){}const wf=new bn("Application Initializer");let Ty=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Tu,this.reject=Tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(om(p))u.push(p);else if(hC(p)){const g=new Promise((y,v)=>{p.subscribe({complete:y,error:v})});u.push(g)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(at(wf,8))},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ef=new bn("AppId",{providedIn:"root",factory:function If(){return`${Tl()}${Tl()}${Tl()}`}});function Tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ca=new bn("Platform Initializer"),TN=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Sy=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Su=new bn("LocaleId",{providedIn:"root",factory:()=>An(Su,rt.Optional|rt.SkipSelf)||function SN(){return typeof $localize<"u"&&$localize.locale||gu}()}),tS=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nS{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Ay=(()=>{class s{compileModuleSync(u){return new fl(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),p=Fs(Br(u).declarations).reduce((g,y)=>{const v=It(y);return v&&g.push(new Bs(v)),g},[]);return new nS(d,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const My=(()=>Promise.resolve(0))();function qw(s){typeof Zone>"u"?My.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Li(!1),this.onMicrotaskEmpty=new Li(!1),this.onStable=new Li(!1),this.onError=new Li(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Ny(){let s=bt.requestAnimationFrame,o=bt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Py(s){const o=()=>{!function oS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zw(s),s.isCheckStableRunning=!0,Sl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,p,g,y)=>{try{return Df(s),u.invokeTask(h,p,g,y)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),aS(s)}},onInvoke:(u,d,h,p,g,y,v)=>{try{return Df(s),u.invoke(h,p,g,y,v)}finally{s.shouldCoalesceRunChangeDetection&&o(),aS(s)}},onHasTask:(u,d,h,p)=>{u.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Zw(s),Sl(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,d,h,p)=>(u.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new W(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const p=this._inner,g=p.scheduleEventTask("NgZoneEvent: "+h,o,AN,Tu,Tu);try{return p.runTask(g,u,d)}finally{p.cancelTask(g)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const AN={};function Sl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Df(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function aS(s){s._nesting--,Sl(s)}class xN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Li,this.onMicrotaskEmpty=new Li,this.onStable=new Li,this.onError=new Li}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const Oy=new bn(""),bf=new bn("");let Ry,uS=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ry||(function MN(s){Ry=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),qw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qw(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==p),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(at(fi),at(Tf),at(bf))},s.\u0275prov=Lt({token:s,factory:s.\u0275fac}),s})(),Tf=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Ry?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ys=!1;let So=null;const Ww=new bn("AllowMultipleToken"),Kw=new bn("PlatformDestroyListeners"),cS=new bn("appBootstrapListener");class hS{constructor(o,u){this.name=o,this.token=u}}function Sf(s,o,u=[]){const d=`Platform: ${o}`,h=new bn(d);return(p=[])=>{let g=ky();if(!g||g.injector.get(Ww,!1)){const y=[...u,...p,{provide:h,useValue:!0}];s?s(y):function PN(s){if(So&&!So.get(Ww,!1))throw new W(400,!1);So=s;const o=s.get(Qw);(function Yw(s){const o=s.get(Ca,null);o&&o.forEach(u=>u())})(s)}(function Af(s=[],o){return ar.create({name:o,providers:[{provide:bg,useValue:"platform"},{provide:Kw,useValue:new Set([()=>So=null])},...s]})}(y,d))}return function wa(s){const o=ky();if(!o)throw new W(401,!1);return o}()}}function ky(){return So?.get(Qw)??null}let Qw=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function Jw(s,o){let u;return u="noop"===s?new xN:("zone.js"===s?void 0:s)||new fi(o),u}(d?.ngZone,function fS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:fi,useValue:h}];return h.run(()=>{const g=ar.create({providers:p,parent:this.injector,name:u.moduleType.name}),y=u.create(g),v=y.injector.get(Pc,null);if(!v)throw new W(402,!1);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:I=>{v.handleError(I)}});y.onDestroy(()=>{Fy(this._modules,y),w.unsubscribe()})}),function Xw(s,o,u){try{const d=u();return om(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(v,h,()=>{const w=y.injector.get(Ty);return w.runInitializers(),w.donePromise.then(()=>(function GC(s){Ne(s,"Expected localeId to be defined"),"string"==typeof s&&(jC=s.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Su,gu)||gu),this._moduleDoBootstrap(y),y))})})}bootstrapModule(u,d=[]){const h=xf({},d);return function NN(s,o,u){const d=new fl(u);return Promise.resolve(d)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const d=u.injector.get(Au);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new W(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Kw,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(at(ar))},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function xf(s,o){return Array.isArray(o)?o.reduce(xf,s):{...s,...o}}let Au=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new J.y(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),g=new J.y(y=>{let v;this._zone.runOutsideAngular(()=>{v=this._zone.onStable.subscribe(()=>{fi.assertNotInAngularZone(),qw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const w=this._zone.onUnstable.subscribe(()=>{fi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{v.unsubscribe(),w.unsubscribe()}});this.isStable=function ge(...s){const o=(0,Ae.yG)(s),u=(0,Ae._6)(s,1/0),d=s;return d.length?1===d.length?(0,he.Xf)(d[0]):(0,z.J)(u)((0,Le.D)(d,o)):Ie.E}(p,g.pipe((0,k.B)()))}bootstrap(u,d){const h=u instanceof Ag;if(!this._injector.get(Ty).done){!h&&Ai(u);throw new W(405,Ys)}let g;g=h?u:this._injector.get(tu).resolveComponentFactory(u),this.componentTypes.push(g.componentType);const y=function dS(s){return s.isBoundToModule}(g)?void 0:this._injector.get(_u),w=g.create(ar.NULL,[],d||g.selector,y),I=w.location.nativeElement,T=w.injector.get(Oy,null);return T?.registerApplication(I),w.onDestroy(()=>{this.detachView(w.hostView),Fy(this.components,w),T?.unregisterApplication(I)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Fy(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(cS,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Fy(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new W(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(at(fi),at(mo),at(Pc))},s.\u0275prov=Lt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fy(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function pS(){return!1}let FN=(()=>{class s{}return s.__NG_ELEMENT_ID__=nE,s})();function nE(s){return function gS(s,o,u){if(no(s)&&!u){const d=_e(s.index,o);return new $c(d,d)}return 47&s.type?new $c(o[Tr],o):null}(jr(),me(),16==(16&s))}class By{constructor(){}supports(o){return zc(o)}create(o){return new vS(o)}}const _S=(s,o)=>o;class vS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||_S}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,p=null;for(;u||d;){const g=!d||u&&u.currentIndex<cE(d,h,p)?u:d,y=cE(g,h,p),v=g.currentIndex;if(g===d)h--,d=d._nextRemoved;else if(u=u._next,null==g.previousIndex)h++;else{p||(p=[]);const w=y-h,I=v-h;if(w!=I){for(let F=0;F<w;F++){const G=F<p.length?p[F]:p[F]=0,oe=G+F;I<=oe&&oe<w&&(p[F]=G+1)}p[g.previousIndex]=I-w}}y!==v&&o(g,y,v)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!zc(o))throw new W(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,g,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let y=0;y<this.length;y++)p=o[y],g=this._trackByFn(y,p),null!==u&&Object.is(u.trackById,g)?(d&&(u=this._verifyReinsertion(u,p,g,y)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,g,y),d=!0),u=u._next}else h=0,function qM(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,y=>{g=this._trackByFn(h,y),null!==u&&Object.is(u.trackById,g)?(d&&(u=this._verifyReinsertion(u,y,g,h)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,h)):o=this._addAfter(new $N(u,d),p,h),o}_verifyReinsertion(o,u,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $N{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class uE{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new CS,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cE(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class lE{constructor(){}supports(o){return o instanceof Map||Xg(o)}create(){return new wS}}class wS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Xg(o)))throw new W(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const p=h._prev,g=h._next;return p&&(p._next=g),g&&(g._prev=p),h._next=null,h._prev=null,h}const d=new ES(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class ES{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ml(){return new $y([new By])}let $y=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Ml()),deps:[[s,new Nn,new qo]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new W(901,!1)}}return s.\u0275prov=Lt({token:s,providedIn:"root",factory:Ml}),s})();function dE(){return new Nl([new lE])}let Nl=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||dE()),deps:[[s,new Nn,new qo]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new W(901,!1)}}return s.\u0275prov=Lt({token:s,providedIn:"root",factory:dE}),s})();const bS=Sf(null,"core",[]);let hE=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(at(Au))},s.\u0275mod=be({type:s}),s.\u0275inj=tr({}),s})();function TS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},9681:(ft,Ce,S)=>{S.r(Ce),S.d(Ce,{FirebaseError:()=>z.ZR,SDK_VERSION:()=>Ir,_DEFAULT_ENTRY_NAME:()=>te,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>He,_apps:()=>ke,_clearComponents:()=>Ht,_components:()=>ct,_getProvider:()=>Ne,_registerComponent:()=>wt,_removeServiceInstance:()=>Re,deleteApp:()=>Yr,getApp:()=>Fr,getApps:()=>Lr,initializeApp:()=>tr,onLog:()=>Dr,registerVersion:()=>hn,setLogLevel:()=>Ur});var c=S(5861),H=S(4859),J=S(1877),z=S(2090),he=S(8766);class Ie{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function Ae(je){return"VERSION"===je.getComponent()?.type}(ze)){const Et=ze.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(ze=>ze).join(" ")}}const Le="@firebase/app",k=new J.Yd("@firebase/app"),te="[DEFAULT]",le={[Le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ke=new Map,ct=new Map;function Ot(je,ue){try{je.container.addComponent(ue)}catch(ze){k.debug(`Component ${ue.name} failed to register with FirebaseApp ${je.name}`,ze)}}function He(je,ue){je.container.addOrOverwriteComponent(ue)}function wt(je){const ue=je.name;if(ct.has(ue))return k.debug(`There were multiple attempts to register component ${ue}.`),!1;ct.set(ue,je);for(const ze of ke.values())Ot(ze,je);return!0}function Ne(je,ue){const ze=je.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),je.container.getProvider(ue)}function Re(je,ue,ze=te){Ne(je,ue).clearInstance(ze)}function Ht(){ct.clear()}const Qt=new z.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Lt{constructor(ue,ze,Et){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Ir="9.20.0";function tr(je,ue={}){let ze=je;"object"!=typeof ue&&(ue={name:ue});const Et=Object.assign({name:te,automaticDataCollectionEnabled:!1},ue),at=Et.name;if("string"!=typeof at||!at)throw Qt.create("bad-app-name",{appName:String(at)});if(ze||(ze=(0,z.aH)()),!ze)throw Qt.create("no-options");const Bt=ke.get(at);if(Bt){if((0,z.vZ)(ze,Bt.options)&&(0,z.vZ)(Et,Bt.config))return Bt;throw Qt.create("duplicate-app",{appName:at})}const An=new H.H0(at);for(const M of ct.values())An.addComponent(M);const R=new Lt(ze,Et,An);return ke.set(at,R),R}function Fr(je=te){const ue=ke.get(je);if(!ue&&je===te)return tr();if(!ue)throw Qt.create("no-app",{appName:je});return ue}function Lr(){return Array.from(ke.values())}function Yr(je){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(je){const ue=je.name;ke.has(ue)&&(ke.delete(ue),yield Promise.all(je.container.getProviders().map(ze=>ze.delete())),je.isDeleted=!0)})).apply(this,arguments)}function hn(je,ue,ze){var Et;let at=null!==(Et=le[je])&&void 0!==Et?Et:je;ze&&(at+=`-${ze}`);const Bt=at.match(/\s|\//),An=ue.match(/\s|\//);if(Bt||An){const R=[`Unable to register library "${at}" with version "${ue}":`];return Bt&&R.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Bt&&An&&R.push("and"),An&&R.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void k.warn(R.join(" "))}wt(new H.wA(`${at}-version`,()=>({library:at,version:ue}),"VERSION"))}function Dr(je,ue){if(null!==je&&"function"!=typeof je)throw Qt.create("invalid-log-argument");(0,J.Am)(je,ue)}function Ur(je){(0,J.Ub)(je)}const Qr="firebase-heartbeat-database",_i=1,rt="firebase-heartbeat-store";let Vn=null;function Jt(){return Vn||(Vn=(0,he.X3)(Qr,_i,{upgrade:(je,ue)=>{0===ue&&je.createObjectStore(rt)}}).catch(je=>{throw Qt.create("idb-open",{originalErrorMessage:je.message})})),Vn}function lt(){return(lt=(0,c.Z)(function*(je){try{return(yield Jt()).transaction(rt).objectStore(rt).get(_n(je))}catch(ue){if(ue instanceof z.ZR)k.warn(ue.message);else{const ze=Qt.create("idb-get",{originalErrorMessage:ue?.message});k.warn(ze.message)}}})).apply(this,arguments)}function pr(je,ue){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(je,ue){try{const Et=(yield Jt()).transaction(rt,"readwrite");return yield Et.objectStore(rt).put(ue,_n(je)),Et.done}catch(ze){if(ze instanceof z.ZR)k.warn(ze.message);else{const Et=Qt.create("idb-set",{originalErrorMessage:ze?.message});k.warn(Et.message)}}})).apply(this,arguments)}function _n(je){return`${je.name}!${je.options.appId}`}class Jr{constructor(ue){this.container=ue,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new zt(ze),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var ue=this;return(0,c.Z)(function*(){const Et=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Zt();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==at&&!ue._heartbeatsCache.heartbeats.some(Bt=>Bt.date===at))return ue._heartbeatsCache.heartbeats.push({date:at,agent:Et}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(Bt=>{const An=new Date(Bt.date).valueOf();return Date.now()-An<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,c.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const ze=Zt(),{heartbeatsToSend:Et,unsentEntries:at}=function Vr(je,ue=1024){const ze=[];let Et=je.slice();for(const at of je){const Bt=ze.find(An=>An.agent===at.agent);if(Bt){if(Bt.dates.push(at.date),vi(ze)>ue){Bt.dates.pop();break}}else if(ze.push({agent:at.agent,dates:[at.date]}),vi(ze)>ue){ze.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:ze,unsentEntries:Et}}(ue._heartbeatsCache.heartbeats),Bt=(0,z.L)(JSON.stringify({version:2,heartbeats:Et}));return ue._heartbeatsCache.lastSentHeartbeatDate=ze,at.length>0?(ue._heartbeatsCache.heartbeats=at,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),Bt})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,z.hl)()&&(0,z.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,c.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function Je(je){return lt.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var ze=this;return(0,c.Z)(function*(){var Et;if(yield ze._canUseIndexedDBPromise){const Bt=yield ze.read();return pr(ze.app,{lastSentHeartbeatDate:null!==(Et=ue.lastSentHeartbeatDate)&&void 0!==Et?Et:Bt.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var ze=this;return(0,c.Z)(function*(){var Et;if(yield ze._canUseIndexedDBPromise){const Bt=yield ze.read();return pr(ze.app,{lastSentHeartbeatDate:null!==(Et=ue.lastSentHeartbeatDate)&&void 0!==Et?Et:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...ue.heartbeats]})}})()}}function vi(je){return(0,z.L)(JSON.stringify({version:2,heartbeats:je})).length}!function br(je){wt(new H.wA("platform-logger",ue=>new Ie(ue),"PRIVATE")),wt(new H.wA("heartbeat",ue=>new Jr(ue),"PRIVATE")),hn(Le,"0.9.8",je),hn(Le,"0.9.8","esm2017"),hn("fire-js","")}("")},4859:(ft,Ce,S)=>{S.d(Ce,{H0:()=>Le,wA:()=>J});var c=S(5861),H=S(2090);class J{constructor(k,O,X){this.name=k,this.instanceFactory=O,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const z="[DEFAULT]";class he{constructor(k,O){this.name=k,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const O=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(O)){const X=new H.BH;if(this.instancesDeferred.set(O,X),this.isInitialized(O)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:O});ie&&X.resolve(ie)}catch{}}return this.instancesDeferred.get(O).promise}getImmediate(k){var O;const X=this.normalizeInstanceIdentifier(k?.identifier),ie=null!==(O=k?.optional)&&void 0!==O&&O;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ae){if(ie)return null;throw ae}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if(function Ae(ge){return"EAGER"===ge.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:z})}catch{}for(const[O,X]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(O);try{const ae=this.getOrInitializeService({instanceIdentifier:ie});X.resolve(ae)}catch{}}}}clearInstance(k=z){this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}delete(){var k=this;return(0,c.Z)(function*(){const O=Array.from(k.instances.values());yield Promise.all([...O.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...O.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(k=z){return this.instances.has(k)}getOptions(k=z){return this.instancesOptions.get(k)||{}}initialize(k={}){const{options:O={}}=k,X=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:X,options:O});for(const[ae,Se]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ae)&&Se.resolve(ie);return ie}onInit(k,O){var X;const ie=this.normalizeInstanceIdentifier(O),ae=null!==(X=this.onInitCallbacks.get(ie))&&void 0!==X?X:new Set;ae.add(k),this.onInitCallbacks.set(ie,ae);const Se=this.instances.get(ie);return Se&&k(Se,ie),()=>{ae.delete(k)}}invokeOnInitCallbacks(k,O){const X=this.onInitCallbacks.get(O);if(X)for(const ie of X)try{ie(k,O)}catch{}}getOrInitializeService({instanceIdentifier:k,options:O={}}){let X=this.instances.get(k);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=k,ge===z?void 0:ge),options:O}),this.instances.set(k,X),this.instancesOptions.set(k,O),this.invokeOnInitCallbacks(X,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,X)}catch{}var ge;return X||null}normalizeInstanceIdentifier(k=z){return this.component?this.component.multipleInstances?k:z:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(k){this.name=k,this.providers=new Map}addComponent(k){const O=this.getProvider(k.name);if(O.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);O.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const O=new he(k,this);return this.providers.set(k,O),O}getProviders(){return Array.from(this.providers.values())}}},2833:(ft,Ce,S)=>{var c=S(5861),H=S(9681),J=S(4859),z=S(2090),he=S(8766);const Ie="@firebase/installations",Ae="0.6.4",Le=1e4,ge=`w:${Ae}`,k="FIS_v2",O="https://firebaseinstallations.googleapis.com/v1",X=36e5,et=new z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function we(B){return B instanceof z.ZR&&B.code.includes("request-failed")}function We({projectId:B}){return`${O}/projects/${B}/installations`}function St(B){return{token:B.token,requestStatus:2,expiresIn:re(B.expiresIn),creationTime:Date.now()}}function Gt(B,se){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(B,se){const dt=(yield se.json()).error;return et.create("request-failed",{requestName:B,serverCode:dt.code,serverMessage:dt.message,serverStatus:dt.status})})).apply(this,arguments)}function W({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function ce(B){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(B){const se=yield B();return se.status>=500&&se.status<600?B():se})).apply(this,arguments)}function re(B){return Number(B.replace("s","000"))}function Qe(){return(Qe=(0,c.Z)(function*({appConfig:B,heartbeatServiceProvider:se},{fid:be}){const dt=We(B),cn=W(B),Xt=se.getImmediate({optional:!0});if(Xt){const ln=yield Xt.getHeartbeatsHeader();ln&&cn.append("x-firebase-client",ln)}const It={method:"POST",headers:cn,body:JSON.stringify({fid:be,authVersion:k,appId:B.appId,sdkVersion:ge})},In=yield ce(()=>fetch(dt,It));if(In.ok){const ln=yield In.json();return{fid:ln.fid||be,registrationStatus:2,refreshToken:ln.refreshToken,authToken:St(ln.authToken)}}throw yield Gt("Create Installation",In)})).apply(this,arguments)}function ot(B){return new Promise(se=>{setTimeout(se,B)})}const K=/^[cdef][\w-]{21}$/,ne="";function $(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const be=function Z(B){return function $e(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return K.test(be)?be:ne}catch{return ne}}function te(B){return`${B.appName}!${B.appId}`}const le=new Map;function ke(B,se){const be=te(B);He(be,se),function wt(B,se){const be=function Re(){return!Ne&&"BroadcastChannel"in self&&(Ne=new BroadcastChannel("[Firebase] FID Change"),Ne.onmessage=B=>{He(B.data.key,B.data.fid)}),Ne}();be&&be.postMessage({key:B,fid:se}),function Ht(){0===le.size&&Ne&&(Ne.close(),Ne=null)}()}(be,se)}function He(B,se){const be=le.get(B);if(be)for(const dt of be)dt(se)}let Ne=null;const Yt="firebase-installations-database",Qt=1,Lt="firebase-installations-store";let Ir=null;function tr(){return Ir||(Ir=(0,he.X3)(Yt,Qt,{upgrade:(B,se)=>{0===se&&B.createObjectStore(Lt)}})),Ir}function Fr(B,se){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(B,se){const be=te(B),cn=(yield tr()).transaction(Lt,"readwrite"),Xt=cn.objectStore(Lt),ir=yield Xt.get(be);return yield Xt.put(se,be),yield cn.done,(!ir||ir.fid!==se.fid)&&ke(B,se.fid),se})).apply(this,arguments)}function Yr(B){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(B){const se=te(B),dt=(yield tr()).transaction(Lt,"readwrite");yield dt.objectStore(Lt).delete(se),yield dt.done})).apply(this,arguments)}function hn(B,se){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(B,se){const be=te(B),cn=(yield tr()).transaction(Lt,"readwrite"),Xt=cn.objectStore(Lt),ir=yield Xt.get(be),It=se(ir);return void 0===It?yield Xt.delete(be):yield Xt.put(It,be),yield cn.done,It&&(!ir||ir.fid!==It.fid)&&ke(B,It.fid),It})).apply(this,arguments)}function Ur(B){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,c.Z)(function*(B){let se;const be=yield hn(B.appConfig,dt=>{const cn=function _i(B){return bt(B||{fid:$(),registrationStatus:0})}(dt),Xt=function rt(B,se){if(0===se.registrationStatus){if(!navigator.onLine)return{installationEntry:se,registrationPromise:Promise.reject(et.create("app-offline"))};const be={fid:se.fid,registrationStatus:1,registrationTime:Date.now()},dt=function Vn(B,se){return Jt.apply(this,arguments)}(B,be);return{installationEntry:be,registrationPromise:dt}}return 1===se.registrationStatus?{installationEntry:se,registrationPromise:Je(B)}:{installationEntry:se}}(B,cn);return se=Xt.registrationPromise,Xt.installationEntry});return be.fid===ne?{installationEntry:yield se}:{installationEntry:be,registrationPromise:se}}),Qr.apply(this,arguments)}function Jt(){return Jt=(0,c.Z)(function*(B,se){try{const be=yield function Ye(B,se){return Qe.apply(this,arguments)}(B,se);return Fr(B.appConfig,be)}catch(be){throw we(be)&&409===be.customData.serverCode?yield Yr(B.appConfig):yield Fr(B.appConfig,{fid:se.fid,registrationStatus:0}),be}}),Jt.apply(this,arguments)}function Je(B){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(B){let se=yield pr(B.appConfig);for(;1===se.registrationStatus;)yield ot(100),se=yield pr(B.appConfig);if(0===se.registrationStatus){const{installationEntry:be,registrationPromise:dt}=yield Ur(B);return dt||be}return se})).apply(this,arguments)}function pr(B){return hn(B,se=>{if(!se)throw et.create("installation-not-found");return bt(se)})}function bt(B){return function _n(B){return 1===B.registrationStatus&&B.registrationTime+Le<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Wn(){return(Wn=(0,c.Z)(function*({appConfig:B,heartbeatServiceProvider:se},be){const dt=function Jr(B,{fid:se}){return`${We(B)}/${se}/authTokens:generate`}(B,be),cn=function ve(B,{refreshToken:se}){const be=W(B);return be.append("Authorization",function Me(B){return`${k} ${B}`}(se)),be}(B,be),Xt=se.getImmediate({optional:!0});if(Xt){const ln=yield Xt.getHeartbeatsHeader();ln&&cn.append("x-firebase-client",ln)}const It={method:"POST",headers:cn,body:JSON.stringify({installation:{sdkVersion:ge,appId:B.appId}})},In=yield ce(()=>fetch(dt,It));if(In.ok)return St(yield In.json());throw yield Gt("Generate Auth Token",In)})).apply(this,arguments)}function Zt(B){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,c.Z)(function*(B,se=!1){let be;const dt=yield hn(B.appConfig,Xt=>{if(!ze(Xt))throw et.create("not-registered");const ir=Xt.authToken;if(!se&&function Et(B){return 2===B.requestStatus&&!function at(B){const se=Date.now();return se<B.creationTime||B.creationTime+B.expiresIn<se+X}(B)}(ir))return Xt;if(1===ir.requestStatus)return be=function zt(B,se){return vi.apply(this,arguments)}(B,se),Xt;{if(!navigator.onLine)throw et.create("app-offline");const It=function Bt(B){const se={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:se})}(Xt);return be=function je(B,se){return ue.apply(this,arguments)}(B,It),It}});return be?yield be:dt.authToken}),Vr.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(B,se){let be=yield br(B.appConfig);for(;1===be.authToken.requestStatus;)yield ot(100),be=yield br(B.appConfig);const dt=be.authToken;return 0===dt.requestStatus?Zt(B,se):dt})).apply(this,arguments)}function br(B){return hn(B,se=>{if(!ze(se))throw et.create("not-registered");return function An(B){return 1===B.requestStatus&&B.requestTime+Le<Date.now()}(se.authToken)?Object.assign(Object.assign({},se),{authToken:{requestStatus:0}}):se})}function ue(){return ue=(0,c.Z)(function*(B,se){try{const be=yield function nr(B,se){return Wn.apply(this,arguments)}(B,se),dt=Object.assign(Object.assign({},se),{authToken:be});return yield Fr(B.appConfig,dt),be}catch(be){if(!we(be)||401!==be.customData.serverCode&&404!==be.customData.serverCode){const dt=Object.assign(Object.assign({},se),{authToken:{requestStatus:0}});yield Fr(B.appConfig,dt)}else yield Yr(B.appConfig);throw be}}),ue.apply(this,arguments)}function ze(B){return void 0!==B&&2===B.registrationStatus}function M(){return(M=(0,c.Z)(function*(B){const se=B,{installationEntry:be,registrationPromise:dt}=yield Ur(se);return dt?dt.catch(console.error):Zt(se).catch(console.error),be.fid})).apply(this,arguments)}function x(){return x=(0,c.Z)(function*(B,se=!1){const be=B;return yield function A(B){return q.apply(this,arguments)}(be),(yield Zt(be,se)).token}),x.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(B){const{registrationPromise:se}=yield Ur(B);se&&(yield se)})).apply(this,arguments)}function Kn(B){return et.create("missing-app-config-values",{valueName:B})}const rr="installations",Fo=B=>{const se=B.getProvider("app").getImmediate(),be=function vn(B){if(!B||!B.options)throw Kn("App Configuration");if(!B.name)throw Kn("App Name");const se=["projectId","apiKey","appId"];for(const be of se)if(!B.options[be])throw Kn(be);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(se);return{app:se,appConfig:be,heartbeatServiceProvider:(0,H._getProvider)(se,"heartbeat"),_delete:()=>Promise.resolve()}},Lo=B=>{const se=B.getProvider("app").getImmediate(),be=(0,H._getProvider)(se,rr).getImmediate();return{getId:()=>function R(B){return M.apply(this,arguments)}(be),getToken:cn=>function L(B){return x.apply(this,arguments)}(be,cn)}};(function Uo(){(0,H._registerComponent)(new J.wA(rr,Fo,"PUBLIC")),(0,H._registerComponent)(new J.wA("installations-internal",Lo,"PRIVATE"))})(),(0,H.registerVersion)(Ie,Ae),(0,H.registerVersion)(Ie,Ae,"esm2017")},1877:(ft,Ce,S)=>{S.d(Ce,{Am:()=>ge,Ub:()=>Le,Yd:()=>Ae,in:()=>H});const c=[];var H=(()=>{return(k=H||(H={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",H;var k})();const J={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},z=H.INFO,he={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},Ie=(k,O,...X)=>{if(O<k.logLevel)return;const ie=(new Date).toISOString(),ae=he[O];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);console[ae](`[${ie}]  ${k.name}:`,...X)};class Ae{constructor(O){this.name=O,this._logLevel=z,this._logHandler=Ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(O){if(!(O in H))throw new TypeError(`Invalid value "${O}" assigned to \`logLevel\``);this._logLevel=O}setLogLevel(O){this._logLevel="string"==typeof O?J[O]:O}get logHandler(){return this._logHandler}set logHandler(O){if("function"!=typeof O)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=O}get userLogHandler(){return this._userLogHandler}set userLogHandler(O){this._userLogHandler=O}debug(...O){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...O),this._logHandler(this,H.DEBUG,...O)}log(...O){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...O),this._logHandler(this,H.VERBOSE,...O)}info(...O){this._userLogHandler&&this._userLogHandler(this,H.INFO,...O),this._logHandler(this,H.INFO,...O)}warn(...O){this._userLogHandler&&this._userLogHandler(this,H.WARN,...O),this._logHandler(this,H.WARN,...O)}error(...O){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...O),this._logHandler(this,H.ERROR,...O)}}function Le(k){c.forEach(O=>{O.setLogLevel(k)})}function ge(k,O){for(const X of c){let ie=null;O&&O.level&&(ie=J[O.level]),X.userLogHandler=null===k?null:(ae,Se,...et)=>{const we=et.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");Se>=(ie??ae.logLevel)&&k({level:H[Se].toLowerCase(),message:we,args:et,type:ae.name})}}}},3008:(ft,Ce,S)=>{S.d(Ce,{Gb:()=>vi,Kz:()=>Bt,Iv:()=>ue});var c=S(5861),H=S(9681),J=S(1877),z=S(2090),he=S(4859);S(2833);const Ae="analytics",Le="firebase_id",ge="origin",k=6e4,O="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",X="https://www.googletagmanager.com/gtag/js",ie=new J.Yd("@firebase/analytics"),Se=new z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function et(x){if(!x.startsWith(X)){const A=Se.create("invalid-gtag-resource",{gtagURL:x});return ie.warn(A.message),""}return x}function we(x){return Promise.all(x.map(A=>A.catch(q=>q)))}function W(){return(W=(0,c.Z)(function*(x,A,q,de,ye,Ke){const tt=de[ye];try{if(tt)yield A[tt];else{const it=(yield we(q)).find(qt=>qt.measurementId===ye);it&&(yield A[it.appId])}}catch(Ve){ie.error(Ve)}x("config",ye,Ke)})).apply(this,arguments)}function ce(){return(ce=(0,c.Z)(function*(x,A,q,de,ye){try{let Ke=[];if(ye&&ye.send_to){let tt=ye.send_to;Array.isArray(tt)||(tt=[tt]);const Ve=yield we(q);for(const it of tt){const qt=Ve.find(Kn=>Kn.measurementId===it),vn=qt&&A[qt.appId];if(!vn){Ke=[];break}Ke.push(vn)}}0===Ke.length&&(Ke=Object.values(A)),yield Promise.all(Ke),x("event",de,ye||{})}catch(Ke){ie.error(Ke)}})).apply(this,arguments)}const Ye=30,$e=new class ot{constructor(A={},q=1e3){this.throttleMetadata=A,this.intervalMillis=q}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,q){this.throttleMetadata[A]=q}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function K(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function $(){return($=(0,c.Z)(function*(x){var A;const{appId:q,apiKey:de}=x,ye={method:"GET",headers:K(de)},Ke=O.replace("{app-id}",q),tt=yield fetch(Ke,ye);if(200!==tt.status&&304!==tt.status){let Ve="";try{const it=yield tt.json();null!==(A=it.error)&&void 0!==A&&A.message&&(Ve=it.error.message)}catch{}throw Se.create("config-fetch-failed",{httpStatus:tt.status,responseMessage:Ve})}return tt.json()})).apply(this,arguments)}function te(){return(te=(0,c.Z)(function*(x,A=$e,q){const{appId:de,apiKey:ye,measurementId:Ke}=x.options;if(!de)throw Se.create("no-app-id");if(!ye){if(Ke)return{measurementId:Ke,appId:de};throw Se.create("no-api-key")}const tt=A.getThrottleMetadata(de)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new He;return setTimeout((0,c.Z)(function*(){Ve.abort()}),void 0!==q?q:k),le({appId:de,apiKey:ye,measurementId:Ke},tt,Ve,A)})).apply(this,arguments)}function le(x,A,q){return ke.apply(this,arguments)}function ke(){return ke=(0,c.Z)(function*(x,{throttleEndTimeMillis:A,backoffCount:q},de,ye=$e){var Ke;const{appId:tt,measurementId:Ve}=x;try{yield function ct(x,A){return new Promise((q,de)=>{const ye=Math.max(A-Date.now(),0),Ke=setTimeout(q,ye);x.addEventListener(()=>{clearTimeout(Ke),de(Se.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(de,A)}catch(it){if(Ve)return ie.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:tt,measurementId:Ve};throw it}try{const it=yield function ne(x){return $.apply(this,arguments)}(x);return ye.deleteThrottleMetadata(tt),it}catch(it){const qt=it;if(!function Ot(x){if(!(x instanceof z.ZR&&x.customData))return!1;const A=Number(x.customData.httpStatus);return 429===A||500===A||503===A||504===A}(qt)){if(ye.deleteThrottleMetadata(tt),Ve)return ie.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${qt?.message}]`),{appId:tt,measurementId:Ve};throw it}const vn=503===Number(null===(Ke=qt?.customData)||void 0===Ke?void 0:Ke.httpStatus)?(0,z.$s)(q,ye.intervalMillis,Ye):(0,z.$s)(q,ye.intervalMillis),Kn={throttleEndTimeMillis:Date.now()+vn,backoffCount:q+1};return ye.setThrottleMetadata(tt,Kn),ie.debug(`Calling attemptFetch again in ${vn} millis`),le(x,Kn,de,ye)}}),ke.apply(this,arguments)}class He{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let wt,Yr;function Re(){return(Re=(0,c.Z)(function*(x,A,q,de,ye){if(ye&&ye.global)x("event",q,de);else{const Ke=yield A;x("event",q,Object.assign(Object.assign({},de),{send_to:Ke}))}})).apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(x,A,q,de){if(de&&de.global)return x("set",{user_id:q}),Promise.resolve();x("config",yield A,{update:!0,user_id:q})})).apply(this,arguments)}function Ur(){return(Ur=(0,c.Z)(function*(){if(!(0,z.hl)())return ie.warn(Se.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,z.eu)()}catch(x){return ie.warn(Se.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function _i(){return _i=(0,c.Z)(function*(x,A,q,de,ye,Ke,tt){var Ve;const it=function Z(x){return te.apply(this,arguments)}(x);it.then(Yn=>{q[Yn.measurementId]=Yn.appId,x.options.measurementId&&Yn.measurementId!==x.options.measurementId&&ie.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>ie.error(Yn)),A.push(it);const qt=function Dr(){return Ur.apply(this,arguments)}().then(Yn=>{if(Yn)return de.getId()}),[vn,Kn]=yield Promise.all([it,qt]);(function Me(x){const A=window.document.getElementsByTagName("script");for(const q of Object.values(A))if(q.src&&q.src.includes(X)&&q.src.includes(x))return q;return null})(Ke)||function St(x,A){const q=function We(x,A){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(x,A)),q}("firebase-js-sdk-policy",{createScriptURL:et}),de=document.createElement("script"),ye=`${X}?l=${x}&id=${A}`;de.src=q?q?.createScriptURL(ye):ye,de.async=!0,document.head.appendChild(de)}(Ke,vn.measurementId),Yr&&(ye("consent","default",Yr),function un(x){Yr=x}(void 0)),ye("js",new Date);const rr=null!==(Ve=tt?.config)&&void 0!==Ve?Ve:{};return rr[ge]="firebase",rr.update=!0,null!=Kn&&(rr[Le]=Kn),ye("config",vn.measurementId,rr),wt&&(ye("set",wt),function hn(x){wt=x}(void 0)),vn.measurementId}),_i.apply(this,arguments)}class rt{constructor(A){this.app=A}_delete(){return delete Vn[this.app.options.appId],Promise.resolve()}}let Vn={},Jt=[];const Je={};let bt,_n,lt="dataLayer",pr="gtag",nr=!1;function Zt(x,A,q){!function Jr(){const x=[];if((0,z.ru)()&&x.push("This is a browser extension environment."),(0,z.zI)()||x.push("Cookies are not available."),x.length>0){const A=x.map((de,ye)=>`(${ye+1}) ${de}`).join(" "),q=Se.create("invalid-analytics-context",{errorInfo:A});ie.warn(q.message)}}();const de=x.options.appId;if(!de)throw Se.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Se.create("no-api-key");ie.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vn[de])throw Se.create("already-exists",{id:de});if(!nr){!function Gt(x){let A=[];Array.isArray(window[x])?A=window[x]:window[x]=A}(lt);const{wrappedGtag:Ke,gtagCore:tt}=function re(x,A,q,de,ye){let Ke=function(...tt){window[de].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(Ke=window[ye]),window[ye]=function Oe(x,A,q,de){function Ke(){return Ke=(0,c.Z)(function*(tt,Ve,it){try{"event"===tt?yield function ve(x,A,q,de,ye){return ce.apply(this,arguments)}(x,A,q,Ve,it):"config"===tt?yield function Ue(x,A,q,de,ye,Ke){return W.apply(this,arguments)}(x,A,q,de,Ve,it):"consent"===tt?x("consent","update",it):x("set",Ve)}catch(qt){ie.error(qt)}}),Ke.apply(this,arguments)}return function ye(tt,Ve,it){return Ke.apply(this,arguments)}}(Ke,x,A,q),{gtagCore:Ke,wrappedGtag:window[ye]}}(Vn,Jt,Je,lt,pr);_n=Ke,bt=tt,nr=!0}return Vn[de]=function Qr(x,A,q,de,ye,Ke,tt){return _i.apply(this,arguments)}(x,Jt,Je,A,bt,lt,q),new rt(x)}function vi(){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(){if((0,z.ru)()||!(0,z.zI)()||!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}function ue(x,A,q){x=(0,z.m9)(x),function Qt(x,A,q,de){return Lt.apply(this,arguments)}(_n,Vn[x.app.options.appId],A,q).catch(de=>ie.error(de))}function Bt(x,A,q,de){x=(0,z.m9)(x),function Ne(x,A,q,de,ye){return Re.apply(this,arguments)}(_n,Vn[x.app.options.appId],A,q,de).catch(ye=>ie.error(ye))}const R="@firebase/analytics",M="0.9.5";!function L(){(0,H._registerComponent)(new he.wA(Ae,(A,{options:q})=>Zt(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,H._registerComponent)(new he.wA("analytics-internal",function x(A){try{const q=A.getProvider(Ae).getImmediate();return{logEvent:(de,ye,Ke)=>Bt(q,de,ye,Ke)}}catch(q){throw Se.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,H.registerVersion)(R,M),(0,H.registerVersion)(R,M,"esm2017")}()},259:(ft,Ce,S)=>{S.d(Ce,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=S(9681);(0,c.registerVersion)("firebase","9.20.0","app")},8766:(ft,Ce,S)=>{S.d(Ce,{Lj:()=>Ue,X3:()=>Gt});var c=S(5861);const H=(re,Me)=>Me.some(Ye=>re instanceof Ye);let J,z;const Ae=new WeakMap,Le=new WeakMap,ge=new WeakMap,k=new WeakMap,O=new WeakMap;let ae={get(re,Me,Ye){if(re instanceof IDBTransaction){if("done"===Me)return Le.get(re);if("objectStoreNames"===Me)return re.objectStoreNames||ge.get(re);if("store"===Me)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return We(re[Me])},set:(re,Me,Ye)=>(re[Me]=Ye,!0),has:(re,Me)=>re instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in re};function we(re){return"function"==typeof re?function et(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...Me){return re.apply(St(this),Me),We(Ae.get(this))}:function(...Me){return We(re.apply(St(this),Me))}:function(Me,...Ye){const Qe=re.call(St(this),Me,...Ye);return ge.set(Qe,Me.sort?Me.sort():[Me]),We(Qe)}}(re):(re instanceof IDBTransaction&&function ie(re){if(Le.has(re))return;const Me=new Promise((Ye,Qe)=>{const ot=()=>{re.removeEventListener("complete",$e),re.removeEventListener("error",K),re.removeEventListener("abort",K)},$e=()=>{Ye(),ot()},K=()=>{Qe(re.error||new DOMException("AbortError","AbortError")),ot()};re.addEventListener("complete",$e),re.addEventListener("error",K),re.addEventListener("abort",K)});Le.set(re,Me)}(re),H(re,function he(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ae):re)}function We(re){if(re instanceof IDBRequest)return function X(re){const Me=new Promise((Ye,Qe)=>{const ot=()=>{re.removeEventListener("success",$e),re.removeEventListener("error",K)},$e=()=>{Ye(We(re.result)),ot()},K=()=>{Qe(re.error),ot()};re.addEventListener("success",$e),re.addEventListener("error",K)});return Me.then(Ye=>{Ye instanceof IDBCursor&&Ae.set(Ye,re)}).catch(()=>{}),O.set(Me,re),Me}(re);if(k.has(re))return k.get(re);const Me=we(re);return Me!==re&&(k.set(re,Me),O.set(Me,re)),Me}const St=re=>O.get(re);function Gt(re,Me,{blocked:Ye,upgrade:Qe,blocking:ot,terminated:$e}={}){const K=indexedDB.open(re,Me),ne=We(K);return Qe&&K.addEventListener("upgradeneeded",$=>{Qe(We(K.result),$.oldVersion,$.newVersion,We(K.transaction))}),Ye&&K.addEventListener("blocked",()=>Ye()),ne.then($=>{$e&&$.addEventListener("close",()=>$e()),ot&&$.addEventListener("versionchange",()=>ot())}).catch(()=>{}),ne}function Ue(re,{blocked:Me}={}){const Ye=indexedDB.deleteDatabase(re);return Me&&Ye.addEventListener("blocked",()=>Me()),We(Ye).then(()=>{})}const W=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],ce=new Map;function Oe(re,Me){if(!(re instanceof IDBDatabase)||Me in re||"string"!=typeof Me)return;if(ce.get(Me))return ce.get(Me);const Ye=Me.replace(/FromIndex$/,""),Qe=Me!==Ye,ot=ve.includes(Ye);if(!(Ye in(Qe?IDBIndex:IDBObjectStore).prototype)||!ot&&!W.includes(Ye))return;const $e=function(){var K=(0,c.Z)(function*(ne,...$){const Z=this.transaction(ne,ot?"readwrite":"readonly");let te=Z.store;return Qe&&(te=te.index($.shift())),(yield Promise.all([te[Ye](...$),ot&&Z.done]))[0]});return function($){return K.apply(this,arguments)}}();return ce.set(Me,$e),$e}!function Se(re){ae=re(ae)}(re=>({...re,get:(Me,Ye,Qe)=>Oe(Me,Ye)||re.get(Me,Ye,Qe),has:(Me,Ye)=>!!Oe(Me,Ye)||re.has(Me,Ye)}))},5861:(ft,Ce,S)=>{function c(J,z,he,Ie,Ae,Le,ge){try{var k=J[Le](ge),O=k.value}catch(X){return void he(X)}k.done?z(O):Promise.resolve(O).then(Ie,Ae)}function H(J){return function(){var z=this,he=arguments;return new Promise(function(Ie,Ae){var Le=J.apply(z,he);function ge(O){c(Le,Ie,Ae,ge,k,"next",O)}function k(O){c(Le,Ie,Ae,ge,k,"throw",O)}ge(void 0)})}}S.d(Ce,{Z:()=>H})}},ft=>{ft(ft.s=3960)}]);